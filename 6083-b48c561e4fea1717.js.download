!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d3888f41-c9a2-4957-a010-7f6a5d964372",e._sentryDebugIdIdentifier="sentry-dbid-d3888f41-c9a2-4957-a010-7f6a5d964372")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"ec45b404"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6083,6559],{26734:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(74985),i=n(5172),o=Array.prototype.concat,a=function(e){return{recursive:!!e.recursive,bail:e.bail&&e.bail>0?e.bail:1e3}},u=function(e){return o.apply([],e)},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;if(!e||n>=t.bail||!e.isDirectory||!e.createReader)return Promise.resolve([]);var o=null!=r?r:e.name;return new Promise(function(r){e.createReader().readEntries(function(e){return Promise.all(e.map(function(e){var r,a,u,c;return r=e,a=t,u=n,c=o,r.isDirectory?a.recursive?l(r,a,u+1,(0,i.join)(c,r.name)):Promise.resolve([]):new Promise(function(e,t){r.file?r.file(e,t):e(null)}).catch(function(){return null}).then(function(e){return e&&(e.dirPath=(0,i.join)(c,e.name)),e?[e]:[]})})).then(function(e){return r(u(e))})},function(){return r([])})})},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l("function"==typeof e.getAsEntry?e.getAsEntry():e.webkitGetAsEntry?e.webkitGetAsEntry():null,a(t))},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=a(t),new Promise(function(n){var r,i;(null==e?void 0:null===(r=e.dataTransfer)||void 0===r?void 0:r.items)?Promise.all(u(e.dataTransfer.items).filter(function(e){return"file"===e.kind}).map(function(e){return c(e,t).then(function(t){if(!t.length){var n=e.getAsFile();t=n?[n]:t}return t})})).then(function(e){return n(u(e))}):(null==e?void 0:null===(i=e.dataTransfer)||void 0===i?void 0:i.files)?n(u(e.dataTransfer.files)):n([])})},f=n(95571),d=n(50485);n(50959);var p=n(80967),h=n(21769),v=n(6191),m=n(86498),g=null,y=null;function x(e){var t=function(e){var t=e.isTouchBackend;if(y&&t)return y;if(g&&!t)return g;var n={dragDropManager:(0,d.i)(function(e){var n=t?(0,m.zr)(e,void 0,{delayTouchStart:500}):(0,h.PD)(e),r=n.handleTopDropCapture;return n.handleTopDropCapture=function(e){var t,i=n.monitor.getItemType();i===v.HTML||i===v.TEXT?(n.dropTargetIds=[],null===(t=n.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer),n.enterLeaveCounter.reset()):r.call(n,e),n.currentNativeSource&&(n.currentNativeSource.item.dirContent=s(e,{recursive:!0}))},n})};return t?y=n:g=n,n}({isTouchBackend:(0,f.w8)()});return(0,r.tZ)(p.L.Provider,{value:t,children:e.children})}},93801:function(e,t,n){n.d(t,{x:function(){return c}});var r=n(74985),i=n(43312),o=n(94778),a=n(72093),u=(0,i.iv)([a.l0.flex.shrink(1),a.l0.truncate]),l={normal:{matched:a.TV.foregroundDefault,unmatched:a.TV.foregroundDimmer},dimmed:{matched:a.TV.foregroundDimmer,unmatched:a.TV.foregroundDimmest}};function c(e){var t,n,i,c,s=null===(c=e.highlight)||void 0===c?void 0:c.filter(function(e){return e.to>0}),f=e.dimmed?l.dimmed:l.normal;return(null==s?void 0:s.length)?(0,r.tZ)(o.G,{className:e.className,css:u,children:(t=e.text,n=0,i=[],s.forEach(function(e){var r=e.from,o=e.to,a=t.slice(n,r);a&&i.push({text:a,match:!1});var u=t.slice(r,o);u&&i.push({text:u,match:!0}),n=o}),n<t.length&&i.push({text:t.slice(n),match:!1}),i).map(function(e,t){return(0,r.tZ)("span",{style:{fontWeight:e.match?a.TV.fontWeightBold:a.TV.fontWeightRegular,color:e.match?f.matched:f.unmatched},children:e.text},e.text+t)})}):(0,r.tZ)(o.G,{className:e.className,style:{color:f.matched},css:u,children:e.text})}},36365:function(e,t,n){n.d(t,{K:function(){return o}});var r=n(50959),i=n(98314);function o(e){(0,r.useEffect)(function(){e((0,i.r)(),{captureDraggingState:!0})},[e])}},39271:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(69407),i=n(50959);function o(){var e=(0,i.useContext)(r.Z);if(!e)throw Error("Expected Repl info to be in context");return e.id}},97056:function(e,t,n){n.d(t,{UV:function(){return o},fN:function(){return i}});var r=n(63257);function i(e,t){for(var n=0;n<t.length;n+=1e4)e.push.apply(e,(0,r._)(t.slice(n,n+1e4)))}function o(e){return(0,r._)(Array(e))}},28659:function(e,t,n){n.d(t,{j:function(){return r}});function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.root,i=n.rootMargin,o=n.threshold;if("undefined"==typeof IntersectionObserver)return function(){};var a=new WeakMap,u=new IntersectionObserver(function(e){e.forEach(function(e){var n=a.get(e.target);if(!!n!==e.isIntersecting){if(e.isIntersecting){var r=t(e);"function"==typeof r?a.set(e.target,r):u.unobserve(e.target)}else n&&(n(e),a.delete(e.target))}})},{root:r,rootMargin:i,threshold:void 0===o?1:o});return u.observe(e),function(){return u.disconnect()}}},36384:function(e,t,n){n.d(t,{D:function(){return i},V:function(){return a}});var r,i,o=n(36559);function a(e){return(0,o.gK)(e)?"Markdown":(0,o.sL)(e)?"Draw":(0,o.IQ)(e)?"Pedit":(0,o.T3)(e)?"Media":(0,o.hj)(e)?"Binary":"Code"}(r=i||(i={})).Media="Media",r.Binary="Binary",r.Code="Code",r.Markdown="Markdown",r.Draw="Draw",r.Pedit="Pedit"},16923:function(e,t,n){n.d(t,{Z:function(){return ej}});var r=n(41733),i=n(30509),o=n(66626),a=n(74985),u=n(36559),l=n(95938),c=n(51917),s=n(75334),f=n(320),d=n(29316),p=n(78866),h=n(2785),v=n(52888),m=n(82193),g=n(53821),y=n(8688),x=n(23815),w=n(84840),b=n(41304),Z=n(15948),D=n(20105),_=n(99892),S=n(71239),T=n(35564),E=n(92611),k=n(81408),C=n(98803),I=n(5990),R=n(759),P=n(49812),z=n(40166),F=n(17477),j=n(88117),A=n(10844),G=n(75082),O=n(68009),N=n(5299),M=n(11057),U=n(74542),B=n(38786),W=n(18469),V=n(83557),L=n(27678),H=n(69712),X=n(66171),Q=n(20464),K=n(47893),Y=n(43599),$=n(50365),q=n(38961),J=n(65750),ee=n(48562),et=n(13068),en=n(96963),er=n(25403),ei=n(19508),eo=n(39186),ea=n(64337),eu=n(3328),el=n(74215),ec=n(49045),es=n(20990),ef=n(25259),ed=n(1095),ep=n(31511),eh=n(47097),ev=n(27272),em=n(23569),eg=n(17063),ey=n(31916),ex=n(7375),ew=n(12559),eb=n(36084),eZ=n(39864),eD=n(47968),e_=n(75962),eS=n(86596),eT=n(23742),eE=n(23936),ek=n(7466),eC=n(3743),eI=n(93648),eR=n(10239),eP=n(99018),ez=n(65377),eF=RegExp(".+\\.test\\.[^.]+");function ej(e){var t=e.path,n=e.fill,ej=e.size,eA=e.fillDefaultFileIcon,eG={size:ej||20,fill:n};switch((0,u.UO)(t)){case"Dockerfile":case".dockerfile":return(0,a.tZ)(m.Z,(0,r._)({},eG));case"package.json":case"package-lock.json":return(0,a.tZ)(j.Z,(0,r._)({},eG));case"pnpm-lock.yaml":return(0,a.tZ)(A.Z,(0,r._)({},eG));case"yarn.lock":return(0,a.tZ)(e_.Z,(0,r._)({},eG));case"bun.lockb":return(0,a.tZ)(eR.Z,(0,r._)({},eG));case"webpack.config.js":return(0,a.tZ)(K.Z,(0,r._)({},eG));case".rhistory":case".rprofile":return(0,a.tZ)(U.Z,(0,r._)({},eG));case".replit":return(0,a.tZ)(eT.Z,(0,r._)({},eG));case"makefile":case"Makefile":return(0,a.tZ)(F.Z,(0,r._)({},eG));case".bowerrc":case".jshintrc":case".jshitrc":case".eslintrc":case".babelrc":return(0,a.tZ)(C.Z,(0,r._)({},eG));case"Gemfile":case"Gemfile.lock":case".gemspec":case"Rakefile":return(0,a.tZ)(d.Z,(0,r._)({},eG));case"poetry.lock":case"pyproject.toml":case"requirements.txt":return(0,a.tZ)(f.Z,(0,r._)({},eG));case"go.mod":case"go.sum":return(0,a.tZ)(T.Z,(0,r._)({},eG));case"pom.xml":return(0,a.tZ)(y.Z,(0,r._)({},eG))}if(l.uP.includes(t))return(0,a.tZ)(eS.Z,(0,i._)((0,r._)({},eG),{fill:"currentColor"}));var eO=t?(0,u.r6)(t):null;switch(eO){case"py":case"rpy":case"pyw":case"cpy":case"gyp":case"gypi":return(0,a.tZ)(f.Z,(0,r._)({},eG));case"rb":case"rbx":case"rjs":case"erb":return(0,a.tZ)(d.Z,(0,r._)({},eG));case"js":case"jsm":case"mjs":case"cjs":case"esm":case"es6":return(0,a.tZ)(x.Z,(0,i._)((0,r._)({},eG),{fill:eF.test(t)?ez.TV.orangeDefault:void 0}));case"ts":return(0,a.tZ)(w.Z,(0,i._)((0,r._)({},eG),{fill:eF.test(t)?ez.TV.orangeDefault:void 0}));case"jsx":return(0,a.tZ)(eP.Z,(0,i._)((0,r._)({},eG),{fill:eF.test(t)?ez.TV.orangeDefault:"#967D00"}));case"tsx":return(0,a.tZ)(eP.Z,(0,i._)((0,r._)({},eG),{fill:eF.test(t)?ez.TV.orangeDefault:"#0093B0"}));case"graphql":case"gql":return(0,a.tZ)(E.Z,(0,r._)({},eG));case"jav":case"java":return(0,a.tZ)(y.Z,(0,r._)({},eG));case"go":return(0,a.tZ)(T.Z,(0,r._)({},eG));case"html":case"htm":case"shtml":case"xhtml":case"mdoc":case"jsp":case"asp":case"aspx":case"jshtm":return(0,a.tZ)(g.Z,(0,r._)({},eG));case"sh":case"fish":case"zsh":case"bash":return(0,a.tZ)(eE.Z,{});case"asm":return(0,a.tZ)(J.Z,(0,r._)({},eG));case"bal":return(0,a.tZ)(ee.Z,(0,r._)({},eG));case"bas":return(0,a.tZ)(et.Z,(0,r._)({},eG));case"css":return(0,a.tZ)(v.Z,(0,r._)({},eG));case"clj":return(0,a.tZ)(en.Z,(0,r._)({},eG));case"coffee":return(0,a.tZ)(er.Z,(0,r._)({},eG));case"cpp":case"cxx":case"hpp":case"hxx":case"cc":case"hh":case"H":return(0,a.tZ)(h.Z,(0,r._)({},eG));case"c":case"h":return(0,a.tZ)(p.Z,(0,r._)({},eG));case"cr":return(0,a.tZ)(b.Z,(0,r._)({},eG));case"cs":case"csx":case"cake":case"csproj":return(0,a.tZ)(Z.Z,(0,r._)({},eG));case"csv":return(0,a.tZ)(D.Z,(0,r._)({},eG));case"d":return(0,a.tZ)(ei.Z,(0,r._)({},eG));case"dart":return(0,a.tZ)(eo.Z,(0,r._)({},eG));case"draw":return(0,a.tZ)(ex.Z,(0,r._)({},eG));case"ex":case"exs":return(0,a.tZ)(_.Z,(0,r._)({},eG));case"elm":return(0,a.tZ)(S.Z,(0,r._)({},eG));case"fs":case"fsx":case"fsproj":return(0,a.tZ)(ea.Z,(0,r._)({},eG));case"fth":case"forth":return(0,a.tZ)(eu.Z,(0,r._)({},eG));case"hs":case"lhs":return(0,a.tZ)(k.Z,(0,r._)({},eG));case"json":return(0,a.tZ)(C.Z,(0,r._)({},eG));case"jl":return(0,a.tZ)(I.Z,(0,r._)({},eG));case"kt":case"kts":return(0,a.tZ)(R.Z,(0,r._)({},eG));case"lua":return(0,a.tZ)(P.Z,(0,r._)({},eG));case"lisp":return(0,a.tZ)(el.Z,(0,r._)({},eG));case"md":case"mdx":case"markdown":case"mkd":return(0,a.tZ)(z.Z,(0,r._)({},eG));case"ml":case"mli":return(0,a.tZ)(G.Z,(0,r._)({},eG));case"nim":return(0,a.tZ)(ec.Z,(0,r._)({},eG));case"nix":return(0,a.tZ)(ew.Z,(0,r._)({},eG));case"pde":return(0,a.tZ)(es.Z,(0,r._)({},eG));case"pdf":return(0,a.tZ)(O.Z,(0,r._)({},eG));case"php":case"php4":case"php5":case"phtml":case"ctp":return(0,a.tZ)(M.Z,(0,r._)({},eG));case"pmod":case"cgi":case"pl":case"pm":case"t":return(0,a.tZ)(N.Z,(0,r._)({},eG));case"r":case"R":case"rt":return(0,a.tZ)(U.Z,(0,r._)({},eG));case"raku":case"rakumod":case"rakutest":case"pmod6":case"pod6":case"pl6":case"pm6":case"t6":case"p6":return(0,a.tZ)(ef.Z,(0,r._)({},eG));case"re":case"rei":return(0,a.tZ)(B.Z,(0,r._)({},eG));case"rs":case"rlib":return(0,a.tZ)(W.Z,(0,r._)({},eG));case"scss":return(0,a.tZ)(V.Z,(0,r._)({},eG));case"scm":return(0,a.tZ)(ed.Z,(0,r._)({},eG));case"sbt":case"scala":return(0,a.tZ)(L.Z,(0,r._)({},eG));case"sol":return(0,a.tZ)(ep.Z,(0,r._)({},eG));case"sql":return(0,a.tZ)(eh.Z,(0,r._)({},eG));case"sqlite":return(0,a.tZ)(ev.Z,(0,r._)({},eG));case"svelte":return(0,a.tZ)(em.Z,(0,r._)({},eG));case"svg":return(0,a.tZ)(H.Z,(0,r._)({},eG));case"swift":return(0,a.tZ)(X.Z,(0,r._)({},eG));case"tcl":return(0,a.tZ)(eC.Z,(0,r._)({},eG));case"toml":return(0,a.tZ)(eg.Z,(0,r._)({},eG));case"txt":return(0,a.tZ)(ek.Z,(0,r._)({},eG));case"vue":return(0,a.tZ)(ey.Z,(0,r._)({},eG));case"wasm":return(0,a.tZ)(Q.Z,(0,r._)({},eG));case"xml":return(0,a.tZ)(Y.Z,(0,r._)({},eG));case"yml":case"yaml":return(0,a.tZ)($.Z,(0,r._)({},eG));case"zip":return(0,a.tZ)(q.Z,(0,r._)({},eG))}var eN=eO?c.Z.get(eO):null;if(eN)switch((0,o._)(eN.split("/"),1)[0]){case"image":return(0,a.tZ)(eb.Z,{});case"audio":return(0,a.tZ)(eD.Z,{});case"video":return(0,a.tZ)(eZ.Z,{})}return eA?(0,a.tZ)(eI.Z,{size:ej}):(0,a.tZ)(s.Z,{size:ej,color:ez.TV.foregroundDimmer})}},12428:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(42516),i=n(41733),o=n(30509),a=n(74985),u=n(94311),l=n(72093),c=n(64432),s=n(94778),f=n(49224),d=(0,n(33298).$)(["size","fontSize","listGap","iconTextGap","avatarOverlap","tooltipFontSize"]),p=d.styleTokens,h=d.cssVars,v=(0,f.X)({avatarsRow:[l.l0.flex.row,{"& > *":{marginLeft:"calc(-0.4 * ".concat(p.size,")")},"& > *:first-child":{marginLeft:0}}],countCirlce:[l.l0.center,l.l0.overflow("hidden"),l.l0.backgroundColor.backgroundDefault,l.l0.color.foregroundDimmer,l.l0.px(2),{borderRadius:"50%",minWidth:p.size,height:p.size,fontSize:p.fontSize}],tooltop:[{gap:p.listGap,gridTemplateColumns:"repeat(auto-fill, 200px)"}],tooltipRow:[l.l0.rowWithGap(l.TV.space2),l.l0.align.center],tooltipText:[l.l0.flex.growAndShrink(1),l.l0.truncate,l.l0.color.foregroundDimmer,{paddingLeft:p.iconTextGap,fontSize:p.tooltipFontSize}],stackItem:[]}),m={12:{fontSize:8,listGap:2,iconTextGap:2,tooltipAvatarSize:12,tooltipFontSize:8},16:{fontSize:10,listGap:2,iconTextGap:2,tooltipAvatarSize:16,tooltipFontSize:10},24:{fontSize:12,listGap:4,iconTextGap:4,tooltipAvatarSize:16,tooltipFontSize:12},32:{fontSize:14,listGap:4,iconTextGap:4,tooltipAvatarSize:16,tooltipFontSize:14},40:{fontSize:16,listGap:8,iconTextGap:4,tooltipAvatarSize:24,tooltipFontSize:14},48:{fontSize:24,listGap:8,iconTextGap:4,tooltipAvatarSize:24,tooltipFontSize:14}};function g(e){var t,n,l,f,d,p,g,y,x,w=e.activeUsers,b=e.visibleNumOfUsers,Z=void 0===b?3:b,D=e.size,_=void 0===D?24:D,S=w.length,T=(x={},(0,r._)(x,h.size,_+"px"),(0,r._)(x,h.fontSize,(null!==(d=null===(t=m[_])||void 0===t?void 0:t.fontSize)&&void 0!==d?d:_)+"px"),(0,r._)(x,h.listGap,(null!==(p=null===(n=m[_])||void 0===n?void 0:n.listGap)&&void 0!==p?p:8)+"px"),(0,r._)(x,h.iconTextGap,(null!==(g=null===(l=m[_])||void 0===l?void 0:l.iconTextGap)&&void 0!==g?g:8)+"px"),(0,r._)(x,h.tooltipFontSize,(null!==(y=null===(f=m[_])||void 0===f?void 0:f.tooltipFontSize)&&void 0!==y?y:14)+"px"),x),E=S>Z,k=w.slice(0,E?Z-1:Z);return(0,a.tZ)(c.u,{tooltip:(0,a.tZ)(s.G,{css:v.tooltop,style:T,children:w.map(function(e){var t;return(0,a.BX)(s.G,{css:v.tooltipRow,children:[(0,a.tZ)(u.q,{size:(null===(t=m[_])||void 0===t?void 0:t.tooltipAvatarSize)||_,src:e.image||null,ringColor:e.color,username:e.username},e.id),(0,a.tZ)(s.G,{css:v.tooltipText,children:e.username})]},e.username)})}),children:function(e,t){return(0,a.BX)(s.G,(0,o._)((0,i._)({},e),{tag:"ul",innerRef:t,css:v.avatarsRow,style:T,children:[k.map(function(e,t){return(0,a.tZ)(s.G,{tag:"li",style:{zIndex:t+1},css:v.stackItem,children:(0,a.tZ)(u.q,{size:_,src:e.image||null,ringColor:e.color,username:e.username})},e.id)}),E?(0,a.tZ)(s.G,{tag:"li",css:v.stackItem,style:{zIndex:k.length},children:(0,a.tZ)(s.G,{css:v.countCirlce,children:(0,a.BX)(s.G,{children:["+",S-Z+1]})})}):null]}))}})}},57604:function(e,t,n){n.d(t,{P:function(){return m},n:function(){return v}});var r=n(66626),i=n(74044),o=n(99149),a=n(39271),u=n(36647),l=n(75958),c=n(29775),s=n(50959),f=n(87137),d=i.Dy.Array(i.Dy.String()),p=function(e){return"repl:hiddenFiles:"+e},h={get:function(e){var t=l.Z.get(p(e));return o.B4.Check(d,t)?t:null},set:function(e,t){l.Z.set(p(e),t)}},v=function(e){var t=(0,a.Z)(),n=(0,r._)((0,s.useState)(function(){return h.get(t)}),2),i=n[0],o=n[1];return(0,s.useEffect)(function(){return e.watch(function(e){var n=function(e){h.set(t,e),o(e)};if(e.error){e.error===f.Yt.NotFound&&n([]);return}if(!e.config.hidden){n([]);return}n(e.config.hidden)})},[e,t]),i},m=function(e){var t=v(e);return(0,u.Z)(function(){return null===t?null:t.map(function(e){return(0,c.Z)(e)||e})},[t])}},1675:function(e,t,n){n.d(t,{C:function(){return u},Gw:function(){return a},Tg:function(){return l},so:function(){return i},ss:function(){return c},tc:function(){return o}});var r=n(78950);function i(e,t){for(var n=[],r=e.split(t),i=0;i<r.length;i++){var o=r[i].trim();""!==o&&n.push(o)}return n}function o(e){return e.replace(/^<|>$/g,"")}function a(e){return"'".concat(e.replace(/'/g,"'\\''"),"'")}function u(e){return e.replace(/^refs\/(?:heads|remotes)\//,"")}function l(e){if(-1===e.indexOf("/")||e.startsWith("refs/heads/"))return[null,null];if(e.startsWith("refs/remotes/")){var t=(0,r._)(e.split("/"));return[t[2],t.slice(3).join("/")]}var n=(0,r._)(e.split("/"));return[n[0],n.slice(1).join("/")]}function c(e){return e.replace(/^refs\/remotes\//,"")}},44906:function(e,t,n){n.d(t,{Z:function(){return w},h:function(){return a}});var r,i,o,a,u=n(27387),l=n(66626),c=n(96583),s=n(1675),f="# branch.oid ",d="# branch.head ",p="# branch.upstream ",h="# branch.ab ",v="# stash ",m=/^(\S)(\S) (\S{4}) (\S+) (\S+) (\S+) (\S+) (\S+) (.*)$/,g=/^([RC])([0-9]+) (.+?)\t(.+)$/,y=/^(\S)(\S) (\S{4}) (\S+) (\S+) (\S+) (\S+) (\S+) (\S+) (\S+) (.*)$/,x=/([RC][0-9]+ .+?)\0(.+?(?:\0|$))/g;function w(e){return b.apply(this,arguments)}function b(){return(b=(0,u._)(function(e){var t,n,r,i,o,a,u,w,b,D,_,S,T,E,k,C,I,R,P,z,F,j;return(0,c.Jh)(this,function(c){switch(c.label){case 0:return t=null,n=null,r=null,i=0,o=[],a=["-z","--porcelain=v2","--branch","--show-stash","--untracked-files=all"],[4,e("git status ".concat(a.join(" ")),{serviceMethod:"git-status"})];case 1:if((u=c.sent()).error)return[2,u];w=u.output.replaceAll(x,"$1	$2"),b=(0,s.so)(w,"\x00"),D=!0,_=!1,S=void 0;try{for(T=b[Symbol.iterator]();!(D=(E=T.next()).done);D=!0)(k=E.value).startsWith("#")?k.startsWith(f)?(C=k.substring(f.length),"(initial)"!==C&&(t=C)):k.startsWith(d)?(I=k.substring(d.length),"(detached)"!==I&&(n=I)):k.startsWith(p)?(R=k.substring(p.length),"(not queried)"!==R&&(r={branch:R,ahead:0,behind:0})):k.startsWith(h)?r&&(z=(P=(0,l._)(k.substring(h.length).split(" ").map(function(e){return Math.abs(parseInt(e,10))}),2))[0],F=P[1],r.ahead=z,r.behind=F):k.startsWith(v)&&(i=parseInt(k.substring(v.length),10)):(j=function(e){var t=e[0];switch(e=e.substring(2),t){case"!":default:return null;case"?":return{type:{index:"UNTRACKED",worktree:"UNTRACKED"},path:e,staged:!1,unmerged:!1};case"u":var n=e.match(y);if(!n)return null;var r=(0,l._)(n,12),i=r[1],o=r[2],a=r[11],u=Z(i),c=Z(o);return{type:{index:u,worktree:c},path:a,staged:"UNMODIFIED"!==u,unmerged:!0};case"1":case"2":var s=e.match(m);if(!s)return null;var f=(0,l._)(s,10),d=f[1],p=f[2],h=f[9],v=Z(d),x=Z(p),w="UNMODIFIED"!==v;if("1"===t)return{type:{index:v,worktree:x},path:h,staged:w,unmerged:!1};if("2"===t){var b=h.match(g);if(!b)return null;var D=(0,l._)(b,5),_=D[1],S=D[2],T=D[3],E=D[4];return{type:{index:v,worktree:x},path:T,staged:w,unmerged:!1,source:{type:function(e){switch(e){case"R":default:return"RENAMED";case"C":return"COPIED"}}(_),score:parseInt(S,10),path:E}}}return null}}(k),null!==j&&o.push(j))}catch(e){_=!0,S=e}finally{try{D||null==T.return||T.return()}finally{if(_)throw S}}return[2,{commit:t,branch:n,upstream:r,stashes:i,changes:o,error:null}]}})})).apply(this,arguments)}function Z(e){switch(e){case".":default:return"UNMODIFIED";case"M":return"MODIFIED";case"T":return"TYPE_CHANGED";case"A":return"ADDED";case"D":return"DELETED";case"R":return"RENAMED";case"C":return"COPIED";case"U":return"UNMERGED"}}(r=o||(o={})).ORDINARY="1",r.RENAMED_OR_COPIED="2",r.UNMERGED="u",r.UNTRACKED="?",r.IGNORED="!",(i=a||(a={})).UNTRACKED="UNTRACKED",i.UNMODIFIED="UNMODIFIED",i.MODIFIED="MODIFIED",i.TYPE_CHANGED="TYPE_CHANGED",i.ADDED="ADDED",i.DELETED="DELETED",i.RENAMED="RENAMED",i.COPIED="COPIED",i.UNMERGED="UNMERGED"},40824:function(e,t,n){n.d(t,{N5:function(){return a},f0:function(){return o},gs:function(){return u},i7:function(){return i}});var r=Object.values(n(51406).Z.multiplayer);function i(e){var t={};return r.forEach(function(e){t[e]=0}),e.forEach(function(e){t[e.color]++}),Object.keys(t).sort(function(e,n){return t[e]-t[n]})[0]}function o(e){var t=e.sessions.sort(function(e,t){return e.timestamp-t.timestamp}),n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if(u.activeFile)return u.activeFile}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return null}function a(e,t){var n=t.find(function(t){return t.sessions.some(function(t){return t.id===e})});if(!n)throw Error("Expected user with session ID ".concat(e));return n}function u(e){var t=e.seconds,n=e.nanos;return Number(t||0)+(n||0)/1e9}},51406:function(e,t){t.Z={brand:{darkBlue:"#0D101E",lightBlue:"#68CDEE",gray:"#6D7D84"},main:{green:{dark:"#0A6640",default:"#0F9960",light:"#3DCC91",25:"rgba(15,153,96,0.25)",15:"rgba(15,153,96,0.15)"},red:{dark:"#A82A2A",default:"#DB3737",light:"#FF7373",25:"rgba(219, 55, 55, 0.25)",15:"rgba(219, 55, 55, 0.15)"},blue:{dark:"#0068AD",default:"#0097FB",light:"#73C4FA",25:"rgba(0, 151, 251, 0.25)",15:"rgba(0, 151, 251, 0.15)"},orange:{dark:"#A14809",default:"#E16D1A",light:"#FC9C58",25:"rgba(225, 109, 26, 0.25)",15:"rgba(225, 109, 26, 0.15)"},purple:{dark:"#6213B1",default:"#9D43F7",light:"#BF80FF",25:"rgba(98, 19, 177, 0.25)",15:"rgba(98, 19, 177, 0.15)"},gold:{dark:"#A67908",default:"#D99E0B",light:"#FFC940",25:"rgba(217, 158, 11, 0.25)",15:"rgba(217, 158, 11, 0.15)"}},neutrals:{black:"#21242C",white:"#FFFFFF",offWhite:"#F7F8FA",black64:"rgba(33, 36, 44, 0.64)",black50:"rgba(33, 36, 44, 0.50)",black16:"rgba(33, 36, 44, 0.16)",black8:"rgba(33, 36, 44, 0.08)",white64:"rgba(255, 255, 255, 0.64)",white50:"rgba(255, 255, 255, 0.50)",white16:"rgba(255, 255, 255, 0.16)",white8:"rgba(255, 255, 255, 0.08)"},multiplayer:{green:"#1BC47D",red:"#EF5533",blue:"#18A0FB",purple:"#907CFF",teal:"#00B5CE",pink:"#EE46D3"},languages:{java:"#b07219",scheme:"#1e4aec",clojure:"#db5855",haskell:"#5e5086",lua:"#000080",ruby:"#701516",python:"#3572A5",go:"#00ADD8",cpp:"#f34b7d",c:"#555555","c#":"#178600","f#":"#b845fc",rust:"#dea584",swift:"#ffac45",r:"#198CE7",bash:"#000000",crystal:"#000100",julia:"#a270ba",elixir:"#6e4a7e",nim:"#37775b",dart:"#00B4AB",erlang:"#B83998",typescript:"#2b7489",elisp:"#c065db",sql:"#e34c26",php:"#4F5D95",html:"#e34c26",css:"#563d7c",javascript:"#f1e05a"},brands:{github:"#181717",twitter:"#00A8FF",discord:"#7289DA",facebook:"#3B5998",linkedin:"#0077B5"}}},69407:function(e,t,n){var r=(0,n(50959).createContext)(null);t.Z=r},37833:function(e,t,n){n.d(t,{tr:function(){return G}});var r=n(42516),i=n(66626),o=n(74985),a=n(43312),u=n(17198),l=n(19653),c=n(33298),s=n(19068),f=n(16923),d=n(17971),p=n(64479),h=n(94778),v=n(49224),m=n(70501),g=n(34357),y=n(72093),x=n(81199),w=n(25129),b=n(44167),Z=n(50959),D=n(36559),_=n(73372),S=n(57253);function T(e){var t=e.node;return t.type===S.Tv.Directory?(0,o.tZ)(g.Z,{size:16}):(0,o.tZ)(f.Z,{size:16,path:t.path})}var E=(0,c.$)(["menuY","menuX"]),k=E.cssVars,C=E.styleTokens,I=(0,v.X)({root:[y.l0.maxHeight(400),y.l0.position.absolute,y.l0.borderRadius(8),y.l0.shadow(3),{border:"1px solid",borderColor:y.TV.outlineDefault,top:C.menuY,left:C.menuX,"& > div":[y.l0.maxHeight(400)]}]}),R=(0,a.iv)([s.gU.nofill,{transitionProperty:"background-color, box-shadow, opacity",opacity:.8,":focus":{zIndex:1,opacity:1}}]),P={button:(0,a.iv)([y.l0.reset.button,y.l0.p(2),y.l0.rowWithGap(4),y.l0.align.center,R]),text:(0,a.iv)({fontSize:y.TV.fontSizeSmall})},z={opacity:1};function F(e){var t,n=e.node,a=e.openFile,u=e.expandable,c=void 0===u||u,s=(0,i._)((0,Z.useState)(!1),2),f=s[0],v=s[1],m=(0,Z.useRef)(null),g=(0,l.Z)(function(e){var t;!f||e.target instanceof HTMLElement&&(null===(t=m.current)||void 0===t?void 0:t.contains(e.target))||v(!1)},[f]),y=(0,Z.useId)(),x=(0,Z.useId)(),w=(0,D.Il)(n.path)||_.Ql,b=(0,D.UO)(n.path);function S(){var e,t=null===(e=m.current)||void 0===e?void 0:e.getBoundingClientRect();t&&c&&v({x:t.x+"px",y:t.y+t.height+4+"px"})}return(0,o.BX)(o.HY,{children:[(0,o.BX)(h.G,{innerRef:m,tag:"button",id:y,style:f?z:void 0,"aria-haspopup":"true","aria-expanded":!!f,"aria-controls":x,css:P.button,onClick:function(){c&&(f?v(!1):S())},onKeyDown:function(e){switch(e.key){case" ":case"Enter":case"ArrowDown":if(!c)return;S()}},children:[(0,Z.cloneElement)((0,o.tZ)(T,{node:n}),{size:12}),(0,o.tZ)(h.G,{css:P.text,children:b})]}),f&&c?(0,o.tZ)(d.h,{children:(0,o.tZ)(p.Tg,{id:x,css:I.root,innerRef:g,style:(t={},(0,r._)(t,k.menuX,f.x),(0,r._)(t,k.menuY,f.y),t),onKeyDown:function(e){if("Escape"===e.key){var t;v(!1),null===(t=m.current)||void 0===t||t.focus()}},children:(0,o.tZ)(j,{openFile:a,parentPath:w,currentPath:n.path})})}):null]})}function j(e){var t=(0,x.Z)().fs,n=(0,u.Gn)("fontSize").preferences,r=(0,b.T)(!0),i=(0,Z.useCallback)(function(e){return!r(e.filename)},[r]),a=(0,w.p)({fs:t,filter:i,focusedPath:e.currentPath,fontSize:n.fontSize,root:e.parentPath,manageWidth:!0,onFileSelect:function(t){var n=t.path;e.openFile(n)},alwaysShowCreateRow:!0});return(0,o.tZ)(w.s,{store:a.store})}var A=(0,a.iv)([y.l0.flex.row,y.l0.align.center,y.l0.height("100%"),y.l0.px(2)]),G=(0,Z.memo)(function(e){var t,n,r=e.path,i=e.onFileClick,a=e.expandable,u=void 0===a||a,l=e.children,c=(n=(t=r.split("/")).length,t.map(function(e,r){return{type:r===n-1?S.Tv.File:S.Tv.Directory,path:t.slice(0,r+1).join("/")}}));return(0,o.BX)(h.G,{css:A,children:[c.map(function(e){return(0,o.BX)(Z.Fragment,{children:[(0,o.tZ)(F,{node:e,openFile:i,expandable:u}),e.type===S.Tv.Directory?(0,o.tZ)(m.Z,{size:12}):null]},CSS.escape(e.path))}),l||null]})})},25129:function(e,t,n){n.d(t,{s:function(){return rc},p:function(){return rl}});var r,i,o,a,u,l,c,s,f,d,p,h=n(42516),v=n(63257),m=n(74985),g=n(38172),y=n(24268),x=n(94778),w=n(49224),b=n(72093),Z=n(50959),D=n(57253),_=n(41733),S=n(30509),T=n(66626),E=n(16923),k=n(12428),C=n(34357),I=n(44900),R=n(29318),P=n(36559),z=n(19068),F=n(82230),j=n(49580),A=n(87128),G=n(19653),O=n(28659),N={name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;t.styles.popper.width="".concat(t.rects.reference.width,"px")},effect:function(e){var t=e.state;t.elements.reference instanceof HTMLElement&&(t.elements.popper.style.width="".concat(t.elements.reference.offsetWidth,"px"))}},M=n(99266),U=n(17971),B=n(64479),W=n(34335),V=n(93801),L=n(85733),H=n(41974),X=n(88205),Q=n(27387),K=n(96583),Y=n(42650),$=n(73372),q=n(95938),J=n(97056),ee=n(41600),et="No files",en="Loading...";function er(e,t){var n=t.fromIndex;if("next"===t.dir){for(var r=n+1;r<e.length;r++){var i=e[r];if(i&&("dir"===i.type||"file"===i.type))return i}return null}for(var o=n-1;o>=0;o--){var a=e[o];if(a&&("dir"===a.type||"file"===a.type))return a}return null}function ei(e,t,n){if(n){var r=q.nh.includes(t.filename),i=q.nh.includes(e.filename);if(r&&!i)return -1;if(!r&&i)return 1;var o=q.uP.includes(t.filename),a=q.uP.includes(e.filename);if(o&&!a)return -1;if(!o&&a)return 1}return t.type===D.Tv.Directory&&e.type!==D.Tv.Directory?1:e.type===D.Tv.Directory&&t.type!==D.Tv.Directory?-1:(0,P.IV)(e.filename,t.filename)}function eo(e){var t=e.row,n=e.baseDepth;return"dir"===t.type||"file"===t.type||"uploadFile"===t.type?t.path===$.Ql?0:(0,P.U$)(t.path)-1-n:t.dir===$.Ql?0:(0,P.U$)(t.dir)-n}var ea=function(e,t){return e===$.Ql?t:e+"/"+t},eu=function(e,t){return e===$.Ql&&1===(0,P.U$)(t)||(0,ee.pC)(e,t)},el=(0,Y.cn)(new Map),ec=(0,Y.cn)({width:0,height:0}),es=(0,Y.cn)(0),ef=(0,Y.cn)(null),ed=(0,Y.cn)(new Map),ep=(0,Y.cn)(function(e){var t;return null!==(t=e(eZ).root)&&void 0!==t?t:$.Ql}),eh=(0,Y.cn)(null),ev=(0,Y.cn)(null),em=(0,Y.cn)(void 0),eg=(0,Y.cn)(null,function(e,t,n){e(e_)||t(ev,n)}),ey=(0,Y.cn)(function(e){var t=e(eZ).root,n=void 0===t?$.Ql:t;return n===$.Ql?0:(0,P.U$)(n)}),ex=(0,Y.cn)(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=0,i=!0,o=!1,a=void 0;try{for(var u,l=(0,v._)(e.values()).sort(function(e,t){return e.index-t.index})[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value,s={height:c.height,y:c.y,cols:[]};if(n.push(s),0!==c.depth){var f=c.depth+t;f>r&&(r=f);for(var d="divider"===c.row.type||"error"===c.row.type||"create"===c.row.type||"emptyDir"===c.row.type?c.row.dir:(0,P.Il)(c.row.path),p=d.split("/"),h=0;h<(0,P.U$)(d);h++){var m=p.slice(0,Number(h+1)).join("/");s.cols.push(m)}}}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}for(var g=new Map,y=t;y<r;y++){var x=[];g.set(y,x);var w=!0,b=!1,Z=void 0;try{for(var D,_=n[Symbol.iterator]();!(w=(D=_.next()).done);w=!0){var S=D.value,E=S.cols[y],k=S.y;if(E){var C=x[x.length-1];C&&C.y+C.height===k?C.height+=S.height:x.push({y:k,height:S.height,dir:E,depth:y-t})}}}catch(e){b=!0,Z=e}finally{try{w||null==_.return||_.return()}finally{if(b)throw Z}}}var I=[],R=!0,z=!1,F=void 0;try{for(var j,A=g[Symbol.iterator]();!(R=(j=A.next()).done);R=!0){var G=(0,T._)(j.value,2),O=(G[0],G[1]);I.push.apply(I,(0,v._)(O))}}catch(e){z=!0,F=e}finally{try{R||null==A.return||A.return()}finally{if(z)throw F}}return I}(e(ed),e(ey))}),ew=(0,Y.cn)(!1),eb=(0,Y.cn)(null,function(e,t,n){var r=new Map,i=e(eW),o=e(ey),a=!0,u=!1,l=void 0;try{for(var c,s=n.rows[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value,d=f.key.toString(),p=i[f.index];if(p){var h=Math.max(0,eo({row:p,baseDepth:o}));r.set(f.index,{y:f.start+8,height:f.size,index:f.index,key:d,depth:h,row:p})}}}catch(e){u=!0,l=e}finally{try{a||null==s.return||s.return()}finally{if(u)throw l}}t(ed,r),t(es,n.scrollHeight)}),eZ=(0,Y.cn)({}),eD=(0,X.kv)(eZ,function(e){var t;return null!==(t=e.onContextMenu)&&void 0!==t?t:null}),e_=(0,Y.cn)(function(e){return!!e(eZ).readOnly||!e(ew)}),eS=(0,Y.cn)(function(e){var t;return null!==(t=e(eZ).fontSize)&&void 0!==t?t:14}),eT=function(e,t){if("divider"===t)switch(e){case 10:return 28;case 12:case 13:case 14:return 38;case 18:return 44;default:return 48}switch(e){case 10:return 18;case 12:case 13:return 24;case 14:return 32;case 18:return 38;default:return 40}},eE=(0,Y.cn)(function(e){return eT(e(eS),"file")}),ek=function(e){switch(e){case 10:case 12:return 12;case 13:case 14:return 16;case 18:return 20;default:return 24}},eC=(0,Y.cn)(function(e){return ek(e(eS))}),eI=(0,Y.cn)(function(e){return 14>e(eS)?4:8}),eR=(0,Y.cn)(function(e){return 14>=e(eS)?4:8}),eP=(0,Y.cn)(function(e){return 13===e(eS)?6:16>e(eS)?4:8}),ez=function(e){switch(e){case 10:return 10;case 12:case 13:case 14:return 12;case 18:return 14;default:return 18}},eF=function(e){switch(e){case 10:return 12;case 12:case 13:return 16;case 14:return 24;case 18:return 32;default:return 40}},ej=(0,Y.cn)(function(e){return eF(e(eS))}),eA=(0,Y.cn)(function(e){return ez(e(eS))}),eG=function(e){switch(e){case 10:case 12:case 13:return 10;case 14:case 18:return 16;default:return 20}},eO=(0,Y.cn)(function(e){return eG(e(eS))}),eN=(0,Y.cn)(new Map);function eM(e){var t=e.filename;return q.nh.includes(t)?"Config files":q.uP.includes(t)?"Packager files":null}var eU=(0,Y.cn)([]),eB=(0,Y.cn)([]),eW=(0,Y.cn)(function(e){var t,n,r=e(eZ),i=r.filter,o=r.alwaysShowCreateRow,a=r.root,u=void 0===a?$.Ql:a,l=r.sort,c=r.readOnly;return function(e){var t=e.root,n=void 0===t?$.Ql:t,r=e.dirInfo,i=e.filter,o=e.sort,a=e.getSection,u=e.readOnly,l=e.pendingUploads,c=e.pendingMoves,s=e.pathBeingRenamed,f=e.alwaysShowCreateRow,d=[],p=(null==l?void 0:l.length)?function(e){var t=new Map,n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,l=(0,P.Il)(u.targetPath)||$.Ql,c=t.get(l),s={filename:(0,P.UO)(u.targetPath),progress:u.progress};c?c.push(s):t.set(l,[s])}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}(l):null,h=new Map,m=new Map;if(null==c?void 0:c.length){var g=!0,y=!1,x=void 0;try{for(var w,b=c[Symbol.iterator]();!(g=(w=b.next()).done);g=!0){var Z=w.value,_=Z.from,S=Z.to;h.set(_.path,_.type),m.set(S,_.type)}}catch(e){y=!0,x=e}finally{try{g||null==b.return||b.return()}finally{if(y)throw x}}}return!function e(t){var l=r.get(t);if(!(!l||h.has(t))&&l.expanded){if(t===n&&l.loading&&!l.children){d.push({type:"dir",path:t});return}if(l.error){d.push({type:"error",message:l.error.message,dir:t});return}var c=l.children?(0,v._)(l.children):void 0;c&&h.size>0&&(c=c.filter(function(e){return!h.has(ea(t,e.filename))}));var g=!0,y=!1,x=void 0;try{for(var w,b=m[Symbol.iterator]();!(g=(w=b.next()).done);g=!0)!function(){var e=(0,T._)(w.value,2),n=e[0],r=e[1];if(eu(t,n)){var i=(0,P.UO)(n);(null==c||!c.some(function(e){return e.filename===i}))&&(c||(c=[]),c.push({filename:i,type:r}))}}()}catch(e){y=!0,x=e}finally{try{g||null==b.return||b.return()}finally{if(y)throw x}}var Z=null==p?void 0:p.get(t);if(Z){c||(c=[]);var _=!0,S=!1,E=void 0;try{for(var k,C=Z[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){var I=k.value,R=I.filename,z=I.progress;c.push({filename:R,type:D.Tv.File,progress:z})}}catch(e){S=!0,E=e}finally{try{_||null==C.return||C.return()}finally{if(S)throw E}}}if(c){if(!l.create&&!Z&&c&&0===c.length){d.push({type:u?"emptyDir":"create",dir:t});return}var F=function(e,t){var n=t.getSection,r=[],i=new Map,o=!0,a=!1,u=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var s=l.value,f=n(s),d=s.progress?{type:"upload",progress:s.progress,filename:s.filename}:{type:s.type===D.Tv.File?"file":"dir",filename:s.filename};if(!f){r.push(d);continue}var p=i.get(f);if(p){p.push(d);continue}i.set(f,[d])}}catch(e){a=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw u}}var h=!0,v=!1,m=void 0;try{for(var g,y=i[Symbol.iterator]();!(h=(g=y.next()).done);h=!0){var x=(0,T._)(g.value,2),w=x[0],b=x[1];r.push({type:"divider",label:w}),(0,J.fN)(r,b)}}catch(e){v=!0,m=e}finally{try{h||null==y.return||y.return()}finally{if(v)throw m}}return r}(c.filter(i).sort(function(e,r){return o(e,r,t===n)}),{getSection:t===$.Ql?a:function(){return null}}),j=-1,A=!0,G=!1,O=void 0;try{for(var N,M=F[Symbol.iterator]();!(A=(N=M.next()).done);A=!0)!function(){var n=N.value;if("error"===n.type||"emptyDir"===n.type)throw Error("Expected dir, file, or divider row");if("divider"===n.type)return -1===j&&(j=d.length),d.push({type:"divider",dir:t,label:n.label});var i=ea(t,n.filename);if("dir"===n.type){var o={type:"dir",path:i};s===i&&(o.rename=!0),m.has(i)&&(o.pending=!0);var a=null==p?void 0:p.get(i);if(a&&(o.uploadProgress=a.map(function(e){return e.progress})),d.push(o),!r.get(i))return;e(i)}else if("upload"===n.type)d.push({type:"uploadFile",path:i,progress:n.progress});else if(!Z||!Z.some(function(e){return e.filename===n.filename})){var u={type:"file",path:i};s===i&&(u.rename=!0),m.has(i)&&(u.pending=!0),d.push(u)}}()}catch(e){G=!0,O=e}finally{try{A||null==M.return||M.return()}finally{if(G)throw O}}if(l.create||f){var U={type:"create",dir:t,fileType:l.create?l.create:void 0};-1===j?d.push(U):d.splice(j,0,U)}}}}(n),d}({root:u,dirInfo:e(eN),filter:i,sort:void 0===l?ei:l,readOnly:void 0!==c&&c,getSection:eM,pendingUploads:e(eU),pathBeingRenamed:null!==(t=e(ev))&&void 0!==t?t:void 0,pendingMoves:null!==(n=e(eB))&&void 0!==n?n:void 0,alwaysShowCreateRow:o})}),eV=(0,Y.cn)(function(e){var t=e(ef);if(!t)return null;var n=e(eW).findIndex(function(e){return("file"===e.type||"dir"===e.type)&&e.path===t});return -1!==n?n:null}),eL=(0,Y.cn)(null,function(e,t,n){var r,i=e(eV),o=e(ef);if((null===(r=document.activeElement)||void 0===r?void 0:r.tagName)!=="INPUT"&&null!==i&&null!==o){var a=e(eW);switch(n.key){case"ArrowDown":n.preventDefault();var u=er(a,{dir:"next",fromIndex:i});((null==u?void 0:u.type)==="dir"||(null==u?void 0:u.type)==="file")&&t(ef,u.path);return;case"ArrowUp":n.preventDefault();var l=er(a,{dir:"previous",fromIndex:i});((null==l?void 0:l.type)==="dir"||(null==l?void 0:l.type)==="file")&&t(ef,l.path);return;case"ArrowLeft":case"ArrowRight":n.preventDefault();var c=e(eN).get(o);if(!c)return;"ArrowLeft"===n.key&&c.expanded?t(eQ,o):"ArrowRight"!==n.key||c.expanded||t(eY,o);return;case"Enter":case" ":if("Enter"===n.key&&!e(e_))return;if(e(eN).has(o)){t(e$,o);return}e(eZ).onFileSelect({event:n,path:o,type:"keydown"});return}}}),eH=(0,Y.cn)(null,function(e,t,n){var r;n.path===(null!==(r=e(eZ).root)&&void 0!==r?r:$.Ql)&&t(ew,!0),t(eN,function(e){return(0,H.Uy)(e,function(e){var t=n.path===$.Ql?null:n.path+"/",r=!0,i=!1,o=void 0;try{for(var a,u=n.children[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l,c=a.value,s=t?t+c.filename:c.filename,f=e.get(s);if(c.type!==D.Tv.Directory){f&&(null===(l=f.disposeWatcher)||void 0===l||l.call(f),e.delete(s));continue}f||e.set(s,{expanded:!1})}}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}var d=e.get(n.path);d&&(d.children=n.children,d.loading=!1,d.error=void 0)})})}),eX=(0,Y.cn)(null,function(e,t,n){var r;n.path===(null!==(r=e(eZ).root)&&void 0!==r?r:$.Ql)&&t(ew,!0),t(eN,function(e){return(0,H.Uy)(e,function(e){var t,r=e.get(n.path);r&&(r.loading=!1,r.error=n.error,null===(t=r.disposeWatcher)||void 0===t||t.call(r),r.disposeWatcher=null)})})}),eQ=(0,Y.cn)(null,function(e,t,n){var r=Array.isArray(n)?n:[n];t(eN,function(e){return(0,H.Uy)(e,function(e){var t=!0,n=!1,i=void 0;try{for(var o,a=r[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value,l=e.get(u);l&&(l.expanded=!1,l.loading=!1,l.disposeWatcher&&(l.disposeWatcher(),l.disposeWatcher=null))}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}})})}),eK=(0,Y.cn)(null,function(e,t,n){t(eN,function(e){return(0,H.Uy)(e,function(e){var t,r=e.get(n);r&&(null===(t=r.disposeWatcher)||void 0===t||t.call(r),e.delete(n))})})}),eY=(0,Y.cn)(null,function(e,t,n){var r=Array.isArray(n)?n:[n],i=e(eZ).fs;t(eN,function(e){return(0,H.Uy)(e,function(e){var n=!0,o=!1,a=void 0;try{for(var u,l=r[Symbol.iterator]();!(n=(u=l.next()).done);n=!0)!function(){var n,r=u.value,o=null!==(n=e.get(r))&&void 0!==n?n:{expanded:!0};e.has(r)?o.expanded=!0:e.set(r,o),o.disposeWatcher?o.disposeWatcher():o.loading=!0,o.disposeWatcher=i.watchDir(r,{onError:function(e){return t(eX,{path:r,error:e})},onChange:function(e){return t(eH,{path:r,children:e})},onMoveOrDelete:function(){return t(eK,r)}})}()}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}})})}),e$=(0,Y.cn)(null,function(e,t,n){var r=e(eN).get(n);if(!r){t(eN,function(e){return(0,H.Uy)(e,function(e){e.set(n,{expanded:!1})})}),t(eY,n);return}t(r.expanded?eQ:eY,n)}),eq=(0,Y.cn)(function(e){return e(eZ).manageWidth?e(ew)?function(e){var t=e.rows,n=e.baseDepth,r=[],i=new Map,o=!0,a=!1,u=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var s=l.value,f=function(e){var t=e.row,n=eo({row:t,baseDepth:e.baseDepth});switch(t.type){case"file":case"dir":case"uploadFile":return{text:(0,P.UO)(t.path),depth:n};case"error":return{text:t.message,depth:n};case"divider":return{text:t.label,depth:n};case"create":case"emptyDir":return{text:et,depth:n}}}({row:s,baseDepth:n}),d=f.depth,p=f.text,h=i.get(d);if(!h){i.set(d,new Map([[s.type,p]]));continue}var v=h.get(s.type);v&&(null==v?void 0:v.length)>p.length||h.set(s.type,p)}}catch(e){a=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw u}}var m=!0,g=!1,y=void 0;try{for(var x,w=i[Symbol.iterator]();!(m=(x=w.next()).done);m=!0){var b=(0,T._)(x.value,2),Z=b[0],D=b[1],_=!0,S=!1,E=void 0;try{for(var k,C=D[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){var I=(0,T._)(k.value,2),R=I[0],z=I[1];r.push({depth:Z,type:R,text:z})}}catch(e){S=!0,E=e}finally{try{_||null==C.return||C.return()}finally{if(S)throw E}}}}catch(e){g=!0,y=e}finally{try{m||null==w.return||w.return()}finally{if(g)throw y}}return r}({rows:e(eW),baseDepth:e(ey)}):[{type:"dir",text:en,depth:1}]:null}),eJ=(0,Y.cn)(null,function(e,t,n){var r=e(eZ).onCreateStart;if(r){r({parentPath:n.parentPath,fileType:n.fileType});return}t(eY,n.parentPath),t(eN,function(e){return(0,H.Uy)(e,function(e){var t=e.get(n.parentPath);t&&(t.create=n.fileType)})}),t(ef,null)}),e0=(0,Y.cn)(null,function(e,t,n){t(eN,function(e){return(0,H.Uy)(e,function(e){var t=e.get(n);t&&(t.create=void 0)})})}),e1=(0,Y.cn)(null,function(e,t,n){var r={path:n.path,type:n.fileType};t(ef,r.path),t(e6,{node:r}),t(eN,function(e){return(0,H.Uy)(e,function(e){var t=e.get(n.parentPath);t&&(t.create=void 0)})}),r.type===D.Tv.Directory&&t(eY,r.path)}),e2=(0,Y.cn)(new Map),e5=(0,Y.cn)(null),e4=(0,Y.cn)(function(e){var t,n;return null!==(n=null===(t=e(e5))||void 0===t?void 0:t.path)&&void 0!==n?n:null}),e3=(0,Y.cn)(!0),e6=(0,Y.cn)(null,function(e,t,n){var r=n.node,i=n.mode,o=e(eW),a=e(e5);t(e3,!i),t(e2,function(e){return(0,H.Uy)(e,function(e){!function(e,t){var n=t.node,r=t.rows,i=t.mode,o=t.anchor;if(!i){e.clear(),e.set(n.path,n.type);return}if("multi"===i&&e.has(n.path)){e.delete(n.path);return}if("multi"===i){e.set(n.path,n.type);return}var a=n.type===D.Tv.Directory?"dir":"file",u=r.findIndex(function(e){return e.type===a&&e.path===n.path});if(-1!==u){var l=(null==o?void 0:o.type)===D.Tv.Directory?"dir":"file",c=o?r.findIndex(function(e){return e.type===l&&e.path===o.path}):-1;if(-1!==c){var s=c<u?r.slice(c,u+1):r.slice(u,c+1),f=!0,d=!1,p=void 0;try{for(var h,v=r[Symbol.iterator]();!(f=(h=v.next()).done);f=!0){var m=h.value;("file"===m.type||"dir"===m.type)&&(s.includes(m)?e.set(m.path,"file"===m.type?D.Tv.File:D.Tv.Directory):e.delete(m.path))}}catch(e){d=!0,p=e}finally{try{f||null==v.return||v.return()}finally{if(d)throw p}}}}}(e,{node:r,rows:o,mode:i,anchor:a})})});var u=e(e2);if(!(u.size>1)){var l=!0,c=!1,s=void 0;try{for(var f,d=u[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var p=(0,T._)(f.value,2),h=p[0],v=p[1];t(e5,{path:h,type:v})}}catch(e){c=!0,s=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}}}),e9=(0,Y.cn)(null,function(e,t){t(e2,new Map),t(e3,!0),t(e5,null)}),e7=(0,Y.cn)(null,(r=(0,Q._)(function(e,t,n){var r,i,o;return(0,K.Jh)(this,function(a){switch(a.label){case 0:var u;return r=e(eZ).fs,[4,Promise.all(n.map((u=(0,Q._)(function(e){var t;return(0,K.Jh)(this,function(n){switch(n.label){case 0:return[4,r.readDir(e)];case 1:return[2,(t=n.sent()).error?t:{path:e,children:t.children,error:null}]}})}),function(e){return u.apply(this,arguments)})))];case 1:if((o=(i=a.sent()).filter(function(e){return null!==e.error})).length)return[2,{errors:o}];return t(eN,function(e){return(0,H.Uy)(e,function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=i[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;if(u.error)throw Error("Unexpected error");var l=e.get(u.path);if(!l){e.set(u.path,{loading:!1,expanded:!0,children:u.children,error:void 0});continue}l.loading=!1,l.expanded=!0,l.children=u.children,l.error=void 0}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}})}),[2,{errors:null}]}})}),function(e,t,n){return r.apply(this,arguments)})),e8=(0,Y.cn)(null,(i=(0,Q._)(function(e,t,n){var r,i,o,a,u,l,c,s,f;return(0,K.Jh)(this,function(d){switch(d.label){case 0:r=e(eN),i=[],o=!0,a=!1,u=void 0;try{var p;for(l=((p=n.path.split("/")).pop(),[$.Ql].concat((0,v._)(p.map(function(e,t){return p.slice(0,t+1).join("/")}))))[Symbol.iterator]();!(o=(c=l.next()).done);o=!0)s=c.value,null!=(f=r.get(s))&&f.expanded||i.push(s)}catch(e){a=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw u}}if(!i.length)return[3,2];return[4,t(e7,i)];case 1:d.sent(),d.label=2;case 2:return t(e6,{node:n}),[2]}})}),function(e,t,n){return i.apply(this,arguments)})),te=(0,Y.cn)(null),tt=(0,Y.cn)(null,function(e,t,n){var r=e(te);if(r)for(var i=e(eW),o=0;o<i.length;o++){var a=i[o];if(("file"===a.type||"dir"===a.type)&&a.path===n&&!(o>r.options.count-1)){r.scrollToIndex(o);break}}}),tn=n(30660),tr=n(39460),ti=n(37697),to=(0,Z.createContext)(null);function ta(e){return(0,m.tZ)(to.Provider,{value:e.store,children:e.children})}function tu(){var e=(0,Z.useContext)(to);if(!e)throw Error("Expected store in context");return e}function tl(e){return(0,tr.Dv)(e,{store:tu()})}function tc(e){return(0,tn.b)(e,tu())}var ts=function(e){return(0,tr.b9)(e,{store:tu()})};function tf(e){return(0,ti.lV)((0,Z.useCallback)(function(t){return t(e)},[e]),{store:tu()})}var td=(0,n(33298).$)(["scrollHeight","fontSize","fontSizeSmall","iconSize","horizontalPadding","borderRadius","gutterWidth","minHeight","iconTextGap","rowWidth","rowHeight","rowLeftIndent","rowY","dropPreviewDepth","dropPreviewHeight","dropPreviewY","dropPreviewOpacity","strokeDashoffset","statusColor","statusBackgroundColor","dirStatusIconSize","nodeBackgroundColor","dragPreviewX","dragPreviewY","contextMenuButtonDisplay","hasUnsavedChangesDisplay"]),tp=td.cssVars,th=td.styleTokens,tv={paddingLeft:th.horizontalPadding,paddingRight:th.horizontalPadding},tm={"&& svg":{minWidth:th.iconSize+" !important",minHeight:th.iconSize+" !important",width:th.iconSize+" !important",height:th.iconSize+" !important"}},tg=[b.l0.truncate,{fontSize:th.fontSize}],ty=(0,X.kv)(eZ,function(e){return e.autocomplete}),tx=(0,w.X)({icon:[tm,{marginRight:th.iconTextGap}],item:[tv,b.l0.flex.row,b.l0.align.center,z.gU.listItem,{height:th.rowHeight}],text:[tg,b.l0.flex.growAndShrink(1)]});function tw(e){var t=e.id,n=e.items,r=e.activeIndex,i=e.onSuggestion,o=e.fileType,a=e.innerRef;return(0,m.tZ)(x.G,{tag:"ul",id:t,"aria-label":"Suggestions",innerRef:a,children:n.map(function(e,t){var n=t===r;return(0,m.BX)(x.G,{id:e.value,tag:"li",role:"option","aria-selected":n,style:{backgroundColor:n?z.vb.interactiveBackground:void 0,color:n?b.TV.foregroundDefault:b.TV.foregroundDimmer},onClick:function(){return i(e.value)},css:tx.item,children:[(0,m.tZ)(x.G,{css:tx.icon,children:o===D.Tv.Directory?(0,m.tZ)(C.Z,{}):(0,m.tZ)(E.Z,{path:e.value})}),(0,m.tZ)(V.x,{css:tx.text,text:e.value,highlight:e.highlight,dimmed:!n})]},e.value)})})}var tb=n(47357),tZ=n(58474),tD=n(36647),t_=n(46026),tS=n(86976),tT=n(81202),tE=n.n(tT),tk=n(52399);function tC(e){var t=e.fileName,n=e.parentPath,r=n===$.Ql?"":n+"/",i=r+t,o=i.split("/");return{pathPrefix:r,newFilePath:i,segments:o}}function tI(e){return tR.apply(this,arguments)}function tR(){return(tR=(0,Q._)(function(e){var t,n,r,i,o,a,u,l,c,s,f,d,p,h,v,m,g,y,x;return(0,K.Jh)(this,function(w){switch(w.label){case 0:if(t=e.fileName,n=e.parentPath,r=e.fs,t.startsWith("/"))return[2,"File names cannot include forward slashes"];o=(i=tC({fileName:t,parentPath:n})).pathPrefix,a=i.newFilePath,u=i.segments,l=!0,c=!1,s=void 0,w.label=1;case 1:w.trys.push([1,7,8,9]),f=Object.entries(u)[Symbol.iterator](),w.label=2;case 2:if(l=(d=f.next()).done)return[3,6];if(h=(p=(0,T._)(d.value,2))[0],v=p[1],m=Number(h),g=[],m!==u.length-1)return[3,4];return[4,r.stat(a)];case 3:w.sent().exists&&g.push((0,P.UO)(a)),w.label=4;case 4:if(!(y=(0,tS.z)({fileName:v,siblingNames:g,parentPath:o+u.slice(0,m).join("/")})))return[3,5];return[2,y];case 5:return l=!0,[3,2];case 6:return[3,9];case 7:return x=w.sent(),c=!0,s=x,[3,9];case 8:try{l||null==f.return||f.return()}finally{if(c)throw s}return[7];case 9:return[2,null]}})})).apply(this,arguments)}function tP(e){var t=tC({fileName:e.fileName,parentPath:e.parentPath}),n=t.pathPrefix,r=t.segments,i=!0,o=!1,a=void 0;try{for(var u,l=Object.entries(r)[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=(0,T._)(u.value,2),s=c[0],f=c[1],d=Number(s),p=(0,tS.z)({fileName:f,siblingNames:[],parentPath:n+r.slice(0,d).join("/")});if(p)return p}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return null}function tz(e,t){return e.shiftKey?"bulk":"altKey"===t&&e.altKey||"cmdOrCtrlKey"===t&&(0,t_.jh)(e)?"multi":void 0}var tF=(0,Y.cn)(null,function(e,t,n){var r=n.event,i=n.path;t(ef,i);var o=e(eZ).multiselectModifierKey;t(e6,{node:{path:i,type:D.Tv.Directory},mode:o?tz(r,o):void 0}),t(ef,i),r.shiftKey||r.altKey||(0,t_.jh)(r)||t(e$,i)});function tj(){return{fontSize:tc(eS),fontSizeSmall:tc(eA),iconSize:tc(eC),scrollHeight:tc(es),horizontalPadding:tc(eI),borderRadius:tc(eR),gutterWidth:tc(eO),minHeight:tc(eE),iconTextGap:tc(eP)}}function tA(e){return tl((0,tD.Z)(function(){return(0,X.kv)(ef,function(t){return t===e?0:-1})},[e]))}function tG(e){return tl((0,tD.Z)(function(){return(0,X.kv)(ed,function(t){var n,r=t.get(e);return r?{style:(n={},(0,h._)(n,tp.rowHeight,r.height+"px"),(0,h._)(n,tp.rowY,r.y+"px"),(0,h._)(n,tp.rowLeftIndent,"calc(".concat(r.depth," * ").concat(th.gutterWidth,")")),n),depth:r.depth}:void 0},tE())},[e]))}function tO(e){var t=e.index,n=e.path,r=(0,Z.useRef)(null),i=tc(ef);return(0,Z.useEffect)(function(){var e=function(e){var t;null===(t=r.current)||void 0===t||t.setAttribute("tabIndex",e.toString())},o=function(r){if(!r){e(0===t?0:-1);return}e(r===n?0:-1)};return o(i.current),i.subscribe(o)},[i,n,t]),(0,Z.useEffect)(function(){var e=function(e){null!==t&&clearTimeout(t),e===n&&document.activeElement!==r.current&&(t=setTimeout(function(){var e;null===(e=r.current)||void 0===e||e.focus()},50))},t=null;e(i.current);var o=i.subscribe(e);return function(){null!==t&&clearTimeout(t),o()}},[i,n]),[r,ts(ef)]}var tN=[th.horizontalPadding,th.iconSize,th.iconTextGap].join(" + "),tM=[z.gU.filled,{height:"100%",width:"100%",paddingLeft:"calc(".concat(tN,")"),paddingRight:th.horizontalPadding,fontSize:th.fontSize}],tU=(0,w.X)({root:[b.l0.flex.row,tv,{padding:th.horizontalPadding}],icon:[tm,b.l0.color.accentNegativeDefault,{marginRight:th.iconTextGap}],text:[{fontSize:th.fontSize},b.l0.color.foregroundDimmer,b.l0.flex.growAndShrink(1)]});function tB(e){return(0,m.BX)(x.G,{css:tU.root,children:[(0,m.tZ)(x.G,{css:tU.icon,children:(0,m.tZ)(A.Z,{})}),(0,m.tZ)(x.G,{css:tU.text,children:e.message})]})}var tW=(0,w.X)({root:[b.l0.position.relative,b.l0.flex.growAndShrink(1),{height:"100%"}],icon:[tm,b.l0.position.absolute,b.l0.left(th.horizontalPadding),b.l0.top("50%"),{transform:"translateY(-50%)"}],input:tM,inputLoading:[tM,M.p.backgroundPulse()],menu:[b.l0.overflow("hidden"),{borderRadius:th.borderRadius,border:"1px solid",borderColor:b.TV.outlineDefault}],label:[b.l0.visuallyHidden]});function tV(e){var t,n,r,i,o,a,u,l,c,s,f,d=(0,Z.useId)(),p=(0,Z.useId)(),v=(t=(0,Z.useRef)(null),n=tj(),(0,y.j)(t,n.fontSize,function(e){return(0,h._)({},tp.fontSize,e+"px")}),(0,y.j)(t,n.iconTextGap,function(e){return(0,h._)({},tp.iconTextGap,e+"px")}),(0,y.j)(t,n.borderRadius,function(e){return(0,h._)({},tp.borderRadius,e+"px")}),(0,y.j)(t,n.horizontalPadding,function(e){return(0,h._)({},tp.horizontalPadding,e+"px")}),(0,y.j)(t,n.iconSize,function(e){return(0,h._)({},tp.iconSize,e+"px")}),(0,y.j)(t,n.fontSize,function(e){return(0,h._)({},tp.rowHeight,eT(e,"file")+"px")}),(0,y.j)(t,n.iconTextGap,function(e){return(0,h._)({},tp.iconTextGap,e+"px")}),i=(r=(0,T._)((0,Z.useState)(null),2))[0],o=r[1],u=(a=(0,T._)((0,Z.useState)(null),2))[0],l=a[1],s=(c=(0,W.D)(i,u,{modifiers:[{name:"offset",options:{offset:[0,4]}},N],placement:"bottom-start"})).styles,f=c.attributes,{menuRef:(0,g.l)(t,l),menuAnchorRef:o,styles:s.popper,attributes:f.popper}),w=function(e){var t=e.onSuggestion,n=e.siblings,r=e.value,i=tl(ty),o=(0,T._)((0,Z.useState)({items:[],activeIndex:null}),2),a=o[0],u=o[1],l=(0,L.Z)(n),c=(0,L.Z)(r),s=(0,T._)((0,Z.useTransition)(),2)[1],f=i?function(e){s(function(){var t=i(e);u(function(e){return(0,H.Uy)(e,function(e){e.items=t.filter(function(e){return e.value!==c.current&&!l.current.some(function(t){return t.filename===e.value})})})})})}:null;function d(){u({items:[],activeIndex:null})}return{items:a.items.length?a.items:null,activeIndex:a.activeIndex,query:f,onKeyDown:function(e){if("Enter"===e.key){var n=null!==a.activeIndex?a.items[a.activeIndex]:null;if(!n)return;return e.preventDefault(),t(n.value),d(),!0}return"ArrowDown"===e.key?(e.preventDefault(),u(function(e){return(0,H.Uy)(e,function(e){if(null===e.activeIndex||e.activeIndex>e.items.length-1){e.activeIndex=0;return}e.activeIndex++})}),!0):"ArrowUp"===e.key?(e.preventDefault(),u(function(e){return(0,H.Uy)(e,function(e){if(null===e.activeIndex){e.activeIndex=e.items.length-1;return}if(0===e.activeIndex){e.activeIndex=null;return}e.activeIndex--})}),!0):void 0},clear:d}}({onSuggestion:e.onSuggestion,siblings:e.siblings,value:e.value}),b=tf(te),k=(0,T._)((0,Z.useState)(!0),2),I=k[0],R=k[1],P=(0,Z.useRef)(null);(0,Z.useEffect)(function(){if(P.current){var e,t=null===(e=b())||void 0===e?void 0:e.scrollElement;if(t)return(0,O.j)(P.current,function(){return R(!0),function(){return R(!1)}},{root:t})}},[b]);var z=I&&!!(e.error||w.items),F=w.items&&w.activeIndex?w.items[w.activeIndex]:void 0,j=!e.error&&w.items?w.items:null,A=(0,Z.useRef)(null),M=w.clear,V=(0,G.Z)(function(e){var t;null!==(t=A.current)&&void 0!==t&&t.contains(e.target)||M()},[M]),X=(0,G.Z)(function(t){var n,r,i=e.inputRef.current;!i||(null===(n=A.current)||void 0===n?void 0:n.contains(t.target))||(null===(r=V.current)||void 0===r?void 0:r.contains(t.target))||e.onClickOutside({inputValue:i.value})},[]);return(0,m.BX)(m.HY,{children:[(0,m.tZ)("label",{css:tW.label,htmlFor:d,children:"file name"}),(0,m.BX)(x.G,{css:tW.root,innerRef:(0,g.l)(A,v.menuAnchorRef),children:[(0,m.tZ)(x.G,{css:tW.icon,children:e.fileType===D.Tv.Directory?(0,m.tZ)(C.Z,{}):(0,m.tZ)(E.Z,{path:e.value})}),(0,m.tZ)("input",{spellCheck:!1,"aria-controls":w.query?p:void 0,"aria-expanded":w.items?"true":"false","aria-activedescendant":null==F?void 0:F.value,role:w.query?"combobox":void 0,id:d,ref:(0,g.l)(e.inputRef,P,X),css:e.loading?tW.inputLoading:tW.input,value:e.value,onChange:e.loading?void 0:function(t){var n;e.onChange(t),null===(n=w.query)||void 0===n||n.call(w,{input:t.currentTarget.value,fileType:e.fileType,type:e.type,siblings:e.siblings})},onKeyDown:function(t){w.onKeyDown(t)||e.onKeyDown(t)}})]}),(0,m.tZ)(U.h,{children:(0,m.BX)(B.Tg,(0,S._)((0,_._)({css:tW.menu,elevated:!0,innerRef:v.menuRef,style:(0,S._)((0,_._)({},v.styles),{display:z?"block":"none"})},v.attributes),{children:[e.error?(0,m.tZ)(tB,{message:e.error}):null,j?(0,m.tZ)(tw,{id:p,innerRef:V,items:j,activeIndex:w.activeIndex,onSuggestion:function(t){e.onSuggestion(t),M()},fileType:e.fileType}):null]}))})]})}var tL=(0,w.X)({createFilePicker:[b.l0.align.center,b.l0.rowWithGap(4),{fontSize:th.fontSize,paddingRight:th.horizontalPadding,paddingLeft:th.horizontalPadding}],button:[b.l0.reset.button,b.l0.p(2),z.gU.filled,b.l0.color.foregroundDimmer,{fontSize:"inherit"}],text:[tg,b.l0.color.foregroundDimmest],label:[b.l0.visuallyHidden]});function tH(e){var t,n,r,i,o,a,u,l,c,s,f,d,p,h,v,g,y,x,w,b,_,S=(t=e.dir,r=ts(eJ),i=ts(e0),o=ts(e1),u=(a=(0,T._)((0,Z.useState)(""),2))[0],l=a[1],c=tf(eZ),f=(s=(0,T._)((0,Z.useState)(!1),2))[0],d=s[1],h=(p=(0,T._)((0,Z.useState)(null),2))[0],v=p[1],g=(0,tD.Z)(function(){return(0,X.kv)(eN,function(e){return e.get(t)})},[t]),y=(0,tD.Z)(function(){return(0,X.kv)(g,function(e){var t;return null!==(t=null==e?void 0:e.create)&&void 0!==t?t:null})},[g]),x=tl((0,tD.Z)(function(){return(0,X.kv)(g,function(e){var t;return null!==(t=null==e?void 0:e.children)&&void 0!==t?t:null})},[g])),w=tl(y),b=(0,Q._)(function(e){var n,r,i,a,u,s,f,p;return(0,K.Jh)(this,function(h){switch(h.label){case 0:if(!w)return[2];if(i=c().fs,a=null,0!==e.length)return[3,1];return a="File names cannot be empty",[3,4];case 1:if(!e.includes("/"))return[3,3];return[4,tI({fileName:e,parentPath:t,fs:i})];case 2:return a=h.sent(),[3,4];case 3:a=(0,tS.z)({fileName:e,siblingNames:null!==(u=null==x?void 0:x.map(function(e){return e.filename}))&&void 0!==u?u:[],parentPath:t}),h.label=4;case 4:if(a)return v(a),[2];if((f=(s=t===$.Ql?null:t+"/")?s+e:e).includes("//")&&(f=f.split("/").filter(function(e){return e.length>0}).join("/")),d(!0),w!==D.Tv.Directory)return[3,6];return[4,i.createDir(f)];case 5:return p=h.sent(),[3,8];case 6:return[4,i.writeFile(f,new tk.Z(""))];case 7:p=h.sent(),h.label=8;case 8:if(p.error)return v("Something went wrong"),[2];return d(!1),l(""),o({parentPath:t,path:f,fileType:w}),null===(n=(r=c()).onCreate)||void 0===n||n.call(r,{path:f,type:w}),[2]}})}),!(_=h)&&u.includes("/")?_=tP({fileName:u,parentPath:t}):_||(_=(0,tS.z)({fileName:u,siblingNames:null!==(n=null==x?void 0:x.map(function(e){return e.filename}))&&void 0!==n?n:[],parentPath:t})),{value:u,setValue:l,fileType:w,create:function(e){return b.apply(this,arguments)},creating:f,error:_,clearError:function(){return v(null)},cancel:(0,tD.Z)(function(){return function(){return i(t)}},[t,i]),start:(0,tD.Z)(function(){return function(e){return r({parentPath:t,fileType:e})}},[t,r]),siblings:x}),E=(0,Z.useRef)(null);return((0,Z.useEffect)(function(){var e;S.fileType&&(null===(e=E.current)||void 0===e||e.focus())},[S.fileType]),S.fileType)?(0,m.tZ)(tV,{siblings:S.siblings||[],type:"create",inputRef:E,loading:S.creating,error:S.error,value:S.value,fileType:S.fileType,onClickOutside:function(e){var t=e.inputValue;if(""===t){S.cancel();return}S.create(t)},onChange:function(e){S.error&&S.clearError(),S.setValue(e.currentTarget.value)},onKeyDown:function(e){if("Escape"===e.key){S.cancel();return}"Enter"===e.key&&S.create(e.currentTarget.value)},onSuggestion:function(e){S.setValue(e),S.create(e)}}):(0,m.tZ)(tX,{create:S.start})}function tX(e){return(0,m.BX)(x.G,{css:tL.createFilePicker,children:[(0,m.tZ)(x.G,{css:tL.text,children:"Add a"}),(0,m.tZ)(x.G,{tag:"button",css:tL.button,onClick:function(){return e.create(D.Tv.File)},children:"file"}),(0,m.tZ)(x.G,{css:tL.text,children:"or "}),(0,m.tZ)(x.G,{tag:"button",css:tL.button,onClick:function(){return e.create(D.Tv.Directory)},children:"folder"})]})}var tQ=(0,w.X)({root:[{marginLeft:"auto",paddingLeft:th.horizontalPadding}],svg:[{transform:"rotate(-90deg)",transformOrigin:"center center","& .inner-circle":{strokeDashoffset:th.strokeDashoffset}}]});function tK(e){var t=tl(eS)/2,n=t/2,r=2*n*Math.PI,i=(0,Z.useRef)(null);return(0,y.j)(i,e.progress,function(e){return(0,h._)({},tp.strokeDashoffset,(r-e*r).toString())}),(0,m.tZ)(x.G,{innerRef:i,css:tQ.root,children:(0,m.BX)("svg",{css:tQ.svg,height:2*t,width:2*t,children:[(0,m.tZ)("circle",{fill:b.TV.backgroundHigher,r:t,cx:t,cy:t}),(0,m.tZ)("circle",{className:"inner-circle",stroke:b.TV.foregroundDimmest,fill:"transparent",strokeWidth:t,strokeDasharray:r+" "+r,r:n,cx:t,cy:t})]})})}var tY=function(e){return e.reduce(function(e,t){return e+t.current},0)/e.length};function t$(e){var t,n,r,i,o=tl(eS)/2,a=o/2,u=2*a*Math.PI,l=(t=e.uploadProgress,r=(n=(0,T._)((0,Z.useState)(tY(t)),2))[0],i=n[1],(0,Z.useEffect)(function(){var e=[],n=!0,r=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;e.push(l.subscribe(function(){i(tY(t))}))}}catch(e){r=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}return function(){e.map(function(e){return e()})}},[t]),r),c=(0,Z.useRef)(null);return(0,m.tZ)(x.G,{innerRef:c,css:tQ.root,children:(0,m.BX)("svg",{css:tQ.svg,height:2*o,width:2*o,children:[(0,m.tZ)("circle",{fill:b.TV.backgroundHigher,r:o,cx:o,cy:o}),(0,m.tZ)("circle",{className:"inner-circle",style:(0,h._)({},tp.strokeDashoffset,(u-l*u).toString()),stroke:b.TV.foregroundDimmest,fill:"transparent",strokeWidth:o,strokeDasharray:u+" "+u,r:a,cx:o,cy:o})]})})}function tq(e){var t,n,r,i,o,a,u,l,c,s,f,d,p,h,v,g,y,x,w,b,_,S=(0,T._)((t={path:e.path,type:e.fileType},r=tf(eZ),o=(i=(0,T._)((0,Z.useState)(null),2))[0],a=i[1],u=(0,P.Il)(t.path)||$.Ql,l=(0,P.UO)(t.path),c=ts(ev),s=ts(ef),d=(f=(0,T._)((0,Z.useState)(l),2))[0],p=f[1],v=(h=(0,T._)((0,Z.useState)(!1),2))[0],g=h[1],y=(0,tD.Z)(function(){return(0,X.kv)(eN,function(e){var t;return null===(t=e.get(u))||void 0===t?void 0:t.children})},[u]),x=d!==l,w=tl(y),b=null,x&&d.includes("/")?b=tP({fileName:d,parentPath:u}):x&&(b=(0,tS.z)({fileName:d,siblingNames:null!==(n=null==w?void 0:w.map(function(e){return e.filename}))&&void 0!==n?n:[],parentPath:u})),_=(0,Q._)(function(e){var n,i,o,f,d,p,h;return(0,K.Jh)(this,function(v){switch(v.label){case 0:if(b||!e||e===l)return[2];if(n=r().fs,i=null,!e.includes("/"))return[3,2];return[4,tI({fileName:e,parentPath:u,fs:n})];case 1:return i=v.sent(),[3,3];case 2:i=(0,tS.z)({fileName:e,siblingNames:null!==(o=null==w?void 0:w.map(function(e){return e.filename}))&&void 0!==o?o:[],parentPath:u}),v.label=3;case 3:if(i)return a(i),[2];if(g(!0),d=(f=u===$.Ql?null:u+"/")?f+e:e,!((p=(0,P.Il)(d)||$.Ql)!==$.Ql))return[3,6];return[4,n.stat(p)];case 4:if(v.sent().exists)return[3,6];return[4,n.createDir(p)];case 5:v.sent(),v.label=6;case 6:if(t.type!==D.Tv.Directory)return[3,8];return[4,n.moveDir(t.path,d)];case 7:return h=v.sent(),[3,10];case 8:return[4,n.moveFile(t.path,d)];case 9:h=v.sent(),v.label=10;case 10:if(h.error)return a("Something went wrong"),g(!1),[2];return c(null),s(d),[2]}})}),[{canRename:!!d&&x&&!b,value:d,renaming:v,error:o||b,siblings:w},{setValue:p,rename:function(e){return _.apply(this,arguments)},cancel:function(){c(null),s(t.path)}}]),2),E=S[0],k=S[1],C=k.setValue,I=k.rename,R=k.cancel,z=(0,Z.useRef)(null),F=(0,Z.useRef)(E.value);return(0,Z.useEffect)(function(){if(z.current){var e=F.current;if(e){var t=e.lastIndexOf(".");-1===t&&(t=e.length),z.current.focus(),z.current.setSelectionRange(0,t)}}},[]),(0,m.tZ)(tV,{siblings:E.siblings?E.siblings.filter(function(t){return t.filename!==(0,P.UO)(e.path)}):[],type:"rename",inputRef:z,loading:E.renaming,error:E.error,value:E.value,fileType:e.fileType,onClickOutside:function(e){var t=e.inputValue;E.canRename?I(t):E.error||R()},onChange:function(e){C(e.currentTarget.value)},onKeyDown:function(e){if("Escape"===e.key){R();return}"Enter"!==e.key||(E.canRename?I(e.currentTarget.value):E.error||R())},onSuggestion:function(e){C(e),I(e)}})}var tJ=n(44906),t0=(l={},(0,h._)(l,tJ.h.ADDED,"A"),(0,h._)(l,tJ.h.UNTRACKED,"A"),(0,h._)(l,tJ.h.MODIFIED,"M"),(0,h._)(l,tJ.h.DELETED,"D"),(0,h._)(l,tJ.h.RENAMED,"R"),(0,h._)(l,tJ.h.COPIED,"C"),l),t1=(c={},(0,h._)(c,tJ.h.ADDED,b.TV.greenDimmest),(0,h._)(c,tJ.h.UNTRACKED,b.TV.greenDimmest),(0,h._)(c,tJ.h.MODIFIED,b.TV.yellowDimmest),(0,h._)(c,tJ.h.DELETED,b.TV.redDimmest),(0,h._)(c,tJ.h.RENAMED,b.TV.tealDimmest),(0,h._)(c,tJ.h.COPIED,b.TV.limeDimmest),c),t2=(s={},(0,h._)(s,tJ.h.ADDED,b.TV.greenStrongest),(0,h._)(s,tJ.h.UNTRACKED,b.TV.greenStrongest),(0,h._)(s,tJ.h.MODIFIED,b.TV.yellowStrongest),(0,h._)(s,tJ.h.DELETED,b.TV.redStrongest),(0,h._)(s,tJ.h.RENAMED,b.TV.tealStrongest),(0,h._)(s,tJ.h.COPIED,b.TV.limeStrongest),s);function t5(e){return e===tJ.h.ADDED||e===tJ.h.UNTRACKED||e===tJ.h.MODIFIED||e===tJ.h.DELETED||e===tJ.h.RENAMED||e===tJ.h.COPIED}var t4={color:th.statusColor,fontSize:th.fontSizeSmall,minWidth:th.dirStatusIconSize,height:th.dirStatusIconSize},t3=(0,w.X)({fileIcon:[b.l0.fontWeight.bold,b.l0.px(2),b.l0.center,t4],directoryCountIcon:[b.l0.fontWeight.medium,b.l0.borderRadius(4),b.l0.px(2),b.l0.center,t4,{backgroundColor:th.statusBackgroundColor}],directoryDraftBufferIndicator:[b.l0.width(8),b.l0.height(8),b.l0.ml(8),b.l0.border({color:b.TV.foregroundDimmer,width:1}),{borderRadius:"50%"}],fileDraftBufferIndicator:[b.l0.width(8),b.l0.height(8),b.l0.backgroundColor.foregroundDimmer,{borderRadius:"50%"}]});function t6(e){return(0,m.tZ)(x.G,{css:t3.fileIcon,children:(0,m.tZ)(x.G,{children:e.text})})}function t9(e){return(0,m.tZ)(x.G,{css:t3.directoryCountIcon,children:(0,m.tZ)(x.G,{children:e.count})})}var t7=n(74044),t8=n(99149),ne=n(36365),nt=n(69170),nn=n(11120),nr=n(33024),ni=n.n(nr),no=n(30826),na=n.n(no);function nu(e,t,n){return Math.floor(Math.min(t,Math.max(e,n)))}var nl=n(91664),nc=n(48376);function ns(){return(ns=(0,Q._)(function(e){var t,n,r,i,o,a,u,l,c,s,f;return(0,K.Jh)(this,function(d){switch(d.label){case 0:var p;if(t=e.parentPath,n=e.overwrite,r=e.fs,i=e.files,o=e.onStart,a=e.onUpload,u=e.onError,l=e.onDone,i.length>1e6)throw Error("Trying to upload too many files at once.");if(i.reduce(function(e,t){return t.size+e},0)>104857600)throw Error("Total file upload size exceeds maximum limit.");return p=(0,Q._)(function(e){var t,i,o,l,c,s,f;return(0,K.Jh)(this,function(d){switch(d.label){case 0:if(t=e.targetPath,i=e.file,o=e.progress,n)return[3,2];return[4,r.stat(t)];case 1:if(d.sent().exists)return u(l={file:i,path:t,error:"ALREADY_EXIST"}),[2,l];d.label=2;case 2:c=null,d.label=3;case 3:return d.trys.push([3,5,,6]),[4,(0,nl.pV)(i)];case 4:return c=d.sent(),[3,6];case 5:return d.sent(),u(s={file:i,path:t,error:"FILE_READ"}),[2,s];case 6:return f=tk.Z.from(c),[4,r.transferFile(t,f,function(e,t){o.current=t/e})];case 7:return d.sent(),a({file:i,path:t}),[2,{path:t,file:i}]}})}),c=function(e){return p.apply(this,arguments)},o(s=i.map(function(e){var n=e.dirPath||e.webkitRelativePath||e.name;return{targetPath:t?t+"/"+n:n,progress:(0,nc.u)(0),file:e}})),[4,Promise.all(s.map(c))];case 1:return f=d.sent(),l({parentPath:t,uploads:f.filter(function(e){return!("error"in e)}),errors:f.reduce(function(e,t){return"error"in t?(0,v._)(e).concat([t]):e},[])}),[2]}})})).apply(this,arguments)}(o=f||(f={})).AlreadyExists="ALREADY_EXIST",o.FileRead="FILE_READ",o.Network="NETWORK";var nf=n(25978),nd=n(20314),np=n(72287),nh=n(6191),nv=n(10422);function nm(e,t){if(t===e.path)return!1;var n=t+"/"+(0,P.UO)(e.path);return!(n===e.path||(0,ee.yr)(e.path,t)||(0,ee.yr)(n,e.path))}var ng=(0,Y.cn)(null,(a=(0,Q._)(function(e,t,n){var r,i,o,a,u,l,c,s;return(0,K.Jh)(this,function(f){var d,p,h,v,m,g,y,x;switch(f.label){case 0:if(i=null==(r=e(eN).get(n.to))?void 0:r.children)return[3,2];return[4,e(eZ).fs.readDir(n.to)];case 1:if((o=f.sent()).error)return[2];i=o.children,f.label=2;case 2:if(!i)throw Error("Expected children");if(d=n.nodes,p=n.to,h=i,a=d.reduce(function(e,t){var n=(0,P.UO)(t.path),r=(0,P.Il)(t.path),i=null==h?void 0:h.find(function(e){return e.filename===n});return i&&(""===r?$.Ql:r)!==p&&e.push({type:i.type,path:p===$.Ql?i.filename:p+"/"+i.filename}),e},[]),v=n.nodes,m=n.to,!(u=(g=(0,P.RQ)(v)).every(function(e){return nm(e,m)})?g.map(function(e){var t=(0,P.UO)(e.path);return{from:e,to:m===$.Ql?t:m+"/"+t}}):null))return[2];if(l=e(eZ).fs,!a.length)return[3,4];if(a.some(function(e){return u.some(function(t){var n=t.from;return(0,ee.yr)(e.path,n.path)})}))return[2];if(!n.overwrite)return null==(c=e(eZ).onConflicts)||c({type:"move",nodes:n.nodes,to:n.to,conflicts:a}),[2];return[4,Promise.all(a.map((y=(0,Q._)(function(e){var t;return(0,K.Jh)(this,function(n){switch(n.label){case 0:return[4,e.type===D.Tv.Directory?l.deleteDir(e.path):l.deleteFile(e.path)];case 1:return[2,(t=n.sent()).error?{error:t.error,node:e}:null]}})}),function(e){return y.apply(this,arguments)})))];case 3:if(f.sent().filter(Boolean).length)return[2];f.label=4;case 4:return t(eB,u),[4,Promise.all(u.map((x=(0,Q._)(function(e){var t,n,r;return(0,K.Jh)(this,function(i){switch(i.label){case 0:return t=e.from,n=e.to,[4,t.type===D.Tv.Directory?l.moveDir(t.path,n):l.moveFile(t.path,n)];case 1:return[2,(r=i.sent()).error?{error:r.error,from:t,to:n}:null]}})}),function(e){return x.apply(this,arguments)})))];case 5:if(s=f.sent(),t(eB,[]),s.filter(Boolean).length)return[2];return t(e2,new Map(u.map(function(e){return[e.to,e.from.type]}))),[2]}})}),function(e,t,n){return a.apply(this,arguments)})),ny=n(36556),nx=(0,Y.cn)(null,(u=(0,Q._)(function(e,t,n){var r,i,o,a,u,l,c,s,f;return(0,K.Jh)(this,function(d){switch(d.label){case 0:if(r=e(eZ).fs,i=n.parentPath||$.Ql,a=null==(o=e(eN).get(i))?void 0:o.children,n.files.length>1e6)return n.onError("Trying to upload too many files at once. Please try again with fewer files."),[2];if(n.files.reduce(function(e,t){return t.size+e},0)>104857600)return n.onError("Total file upload size exceeds maximum limit. Please try again with smaller files."),[2];if(n.files.some(function(e){return e.name===$.wL&&!e.dirPath})&&n.onError("Uploading .env files is not supported. Please use the secrets pane instead."),a)return[3,2];return[4,r.readDir(i)];case 1:if((u=d.sent()).error)return[2];a=u.children,d.label=2;case 2:var p;if(!a)throw Error("Expected children");if(l=(0,v._)(new Set(n.files.map(function(e){return e.dirPath?e.dirPath.split("/")[0]:e.name}))),(s=(c=a.filter(function(e){return l.some(function(t){return t===e.filename})})).length?c.map(function(e){return{path:i===$.Ql?e.filename:i+"/"+e.filename,type:e.type}}):null)&&!n.overwrite)return null==(f=e(eZ).onConflicts)||f({type:"upload",files:n.files,to:i,conflicts:c.map(function(e){return{path:i===$.Ql?e.filename:i+"/"+e.filename,type:e.type}})}),[2];if(!s)return[3,4];return[4,Promise.all(s.map((p=(0,Q._)(function(e){var t;return(0,K.Jh)(this,function(n){switch(n.label){case 0:return[4,e.type===D.Tv.Directory?r.deleteDir(e.path):r.deleteFile(e.path)];case 1:return[2,(t=n.sent()).error?{error:t.error,node:e}:null]}})}),function(e){return p.apply(this,arguments)})))];case 3:if(d.sent().filter(Boolean).length)return[2];d.label=4;case 4:return function(e){ns.apply(this,arguments)}({parentPath:n.parentPath,files:n.files,fs:r,onStart:function(e){t(eU,function(t){return(0,H.Uy)(t,function(t){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;t.push(u)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}})})},onUpload:function(e){t(eU,function(t){return(0,H.Uy)(t,function(t){var n=t.findIndex(function(t){return t.targetPath===e.path});-1!==n&&t.splice(n,1)})})},onError:function(e){t(eU,function(t){return(0,H.Uy)(t,function(t){var n=t.findIndex(function(t){return t.targetPath===e.path});-1!==n&&t.splice(n,1)})})},onDone:function(e){var t=e.errors,n=e.parentPath;if(!t.length){ny.kg.info("Successfully uploaded files",{uploadSource:"filetree",parentPath:n});return}}}),[2]}})}),function(e,t,n){return u.apply(this,arguments)})),nw=(0,Y.cn)(0),nb=(0,Y.cn)(null),nZ=(0,Y.cn)(function(e){var t=e(nb);if(null===t)return null;var n=e(ed),r=-1!==t?n.get(t):null;return r&&r.depth>0||(null==r?void 0:r.row.type)==="dir"?function(e,t){var n=e.get(t);if(!n)return null;var r=0,i=n.height,o="dir"===n.row.type?n.depth+1:n.depth;if("dir"===n.row.type)o=n.depth+1,r=n.y;else{o=n.depth;for(var a=t-1;a>=0;a--){var u=e.get(a);if(!u)break;if("dir"===u.row.type&&("file"===n.row.type||"uploadFile"===n.row.type?eu(u.row.path,n.row.path):u.row.path===n.row.dir)){i+=u.height,r=u.y;break}u.depth>=n.depth&&(i+=u.height)}}for(var l=t+1;l<e.size;l++){var c=e.get(l);if(!c||c.depth<=("dir"===n.row.type?n.depth:n.depth-1))break;i+=c.height}return{y:r,height:i,depth:o}}(n,t):{y:e(nw),depth:1,height:e(ec).height-8}}),nD="(".concat(th.dropPreviewDepth," - 1) * ").concat(th.gutterWidth),n_=(0,w.X)({root:[b.l0.position.absolute,b.l0.top(0),b.l0.left(0),b.l0.borderRadius(8),{pointerEvents:"none",transform:"translate(calc(".concat(nD,"), ").concat(th.dropPreviewY,")"),width:"calc(100% - ".concat(nD,")"),height:th.dropPreviewHeight,opacity:th.dropPreviewOpacity,outline:"1px dashed ".concat(th.statusColor),outlineOffset:-1}]}),nS=(0,Z.memo)(function(){var e=tc(nZ),t=tc(nF),n=tc(nz),r=(0,Z.useRef)(null);(0,y.j)(r,e,function(e){var t,n,r,i;return i={},(0,h._)(i,tp.dropPreviewY,(null!==(t=null==e?void 0:e.y)&&void 0!==t?t:0)+"px"),(0,h._)(i,tp.dropPreviewHeight,(null!==(n=null==e?void 0:e.height)&&void 0!==n?n:0)+"px"),(0,h._)(i,tp.dropPreviewDepth,null!==(r=null==e?void 0:e.depth.toString())&&void 0!==r?r:"0"),i}),(0,y.j)(r,n,function(e){return(0,h._)({},tp.dropPreviewOpacity,e?"1":"0")}),(0,y.j)(r,t,function(e){return(0,h._)({},tp.statusColor,e?b.TV.accentPrimaryDefault:b.TV.accentNegativeDefault)});var i=(0,nn.T)();return(0,m.tZ)(x.G,{style:{transition:i?void 0:"transform 140ms, width 140ms, height 140ms, opacity 140ms ease-out 60ms"},innerRef:r,css:n_.root})}),nT=(0,Y.cn)(null,function(e,t,n){if(null!==n){var r=!0,i=!1,o=void 0;try{for(var a,u=e(ed)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=(0,T._)(a.value,2),c=l[0],s=l[1];if(!(n.y<s.y)&&!(n.y>s.y+s.height))return t(nb,c),s}}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}t(nb,-1)}}),nE=t7.Dy.Object({type:t7.Dy.Literal("nodes"),width:t7.Dy.Number(),height:t7.Dy.Number(),nodes:t7.Dy.Array(t7.Dy.Object({path:t7.Dy.String(),type:t7.Dy.Enum(D.Tv)}))}),nk=(0,Y.cn)(null,function(e,t,n){t(e2,function(e){return(0,H.Uy)(e,function(e){e.set(n.path,n.type)})});var r=[n];if(e(e3))return r;var i=!0,o=!1,a=void 0;try{for(var u,l=e(e2)[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=(0,T._)(u.value,2),s=c[0],f=c[1];s!==n.path&&r.push({path:s,type:f})}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return r});function nC(e){var t=ts(nb),n=ts(nk),r=tl(e_),i=(0,Z.useRef)(null),o=(0,T._)((0,nd.c)({type:e.type,item:function(){var t,r,o=n(e),a=null!==(r=null===(t=i.current)||void 0===t?void 0:t.getBoundingClientRect())&&void 0!==r?r:{width:160,height:32};return{nodes:o,type:"nodes",width:a.width,height:a.height}},collect:function(t){var n=t.getItem();return{isDragging:!!((null==n?void 0:n.type)==="nodes"&&n.nodes.some(function(t){return t.path===e.path}))}},end:function(){t(null)}}),3),a=o[0],u=o[1],l=o[2],c=a.isDragging;return(0,ne.K)(l),{isDragging:c,dragRef:r?void 0:u,sizeRef:i}}var nI=(0,w.X)({root:[b.l0.position.absolute,{left:0,top:0,transform:"translate(".concat(th.dragPreviewX,", ").concat(th.dragPreviewY,")"),pointerEvents:"none"}],item:[b.l0.backgroundColor.backgroundHighest,b.l0.flex.row,b.l0.align.center,b.l0.shadow(3),tv,{height:th.rowHeight,borderRadius:th.borderRadius}],icon:[tm,{marginRight:th.iconTextGap}],text:[tg,b.l0.flex.growAndShrink(1),{color:th.statusColor}],count:[tg,b.l0.backgroundColor.accentPrimaryDimmest,b.l0.color.accentPrimaryStrongest,b.l0.fontWeight.medium,b.l0.position.absolute,b.l0.left("calc(50% - 4px)"),b.l0.top("calc(100% - 4px)"),b.l0.borderRadius("full"),b.l0.px(4),b.l0.center,{fontSize:th.fontSizeSmall}]}),nR=(0,Z.memo)(function(e){var t=(0,Z.useRef)(null),n=tj(),r=tc(nP);return(0,y.j)(t,r,function(e){var t;return t={},(0,h._)(t,tp.dragPreviewX,(e?e.x:0)+"px"),(0,h._)(t,tp.dragPreviewY,(e?e.y:0)+"px"),t}),(0,y.j)(t,n.horizontalPadding,function(e){return(0,h._)({},tp.horizontalPadding,e+"px")}),(0,y.j)(t,n.fontSize,function(e){return(0,h._)({},tp.fontSize,e+"px")}),(0,y.j)(t,n.fontSizeSmall,function(e){return(0,h._)({},tp.fontSizeSmall,e+"px")}),(0,y.j)(t,n.iconSize,function(e){return(0,h._)({},tp.iconSize,e+"px")}),(0,y.j)(t,n.iconTextGap,function(e){return(0,h._)({},tp.iconTextGap,e+"px")}),(0,y.j)(t,n.borderRadius,function(e){return(0,h._)({},tp.borderRadius,e+"px")}),(0,y.j)(t,n.gutterWidth,function(e){return(0,h._)({},tp.gutterWidth,e+"px")}),(0,m.tZ)(x.G,{innerRef:t,css:nI.root,children:(0,m.BX)(x.G,{css:nI.item,style:{width:e.width,height:e.height},children:[(0,m.tZ)(x.G,{css:nI.icon,children:e.type===D.Tv.File?(0,m.tZ)(E.Z,{path:e.path}):(0,m.tZ)(C.Z,{})}),(0,m.tZ)(x.G,{css:nI.text,children:(0,P.UO)(e.path)}),e.count>1?(0,m.tZ)(x.G,{css:nI.count,children:e.count}):null]})})}),nP=(0,Y.cn)(null);(0,Y.cn)(function(e){return null!==e(nP)});var nz=(0,Y.cn)(!1),nF=(0,Y.cn)(!1);function nj(){var e=(0,np.f)(function(e){return{item:e.getItem(),isDragging:e.isDragging(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset()}}),t=e.isDragging,n=e.item,r=e.currentOffset,i=ts(nP);if((0,Z.useEffect)(function(){i(r?{x:r.x,y:r.y}:null)},[i,r]),!t||!t8.B4.Check(nE,n))return null;var o=n.nodes,a=n.width,u=n.height,l=(0,T._)(o,1)[0];return l?(0,nv.createPortal)((0,m.tZ)(nR,{type:l.type,path:l.path,count:o.length,width:a,height:u}),document.body):null}var nA=[b.l0.position.absolute,b.l0.top(0),b.l0.left(0),{width:"calc(100% - ".concat(th.rowLeftIndent,")"),height:th.rowHeight,transform:"translateY(".concat(th.rowY,")"),marginLeft:th.rowLeftIndent}],nG=(0,w.X)({divider:(0,v._)(nA).concat([tv,b.l0.flex.growAndShrink(1),b.l0.justify.center]),dividerInner:[{borderTop:"1px dashed",borderColor:b.TV.outlineDimmest,height:"70%",justifyContent:"end"}],dividerText:[b.l0.truncate,b.l0.color.foregroundDimmer,{fontSize:th.fontSizeSmall}],error:(0,v._)(nA).concat([b.l0.rowWithGap(4),b.l0.align.center,tv]),emptyDir:(0,v._)(nA).concat([tv,b.l0.color.foregroundDimmest,b.l0.justify.center,{paddingLeft:th.iconSize,paddingRight:th.horizontalPadding}]),row:(0,v._)(nA).concat([b.l0.flex.growAndShrink(1),b.l0.flex.row,b.l0.align.center,z.gU.nofill,(p={backgroundColor:th.nodeBackgroundColor,borderRadius:th.borderRadius,cursor:"pointer","&:focus":{boxShadow:"0 0 0 2px "+b.TV.accentPrimaryDefault,zIndex:1}},(0,h._)(p,tp.hasUnsavedChangesDisplay,"flex"),(0,h._)(p,"@media (hover: hover)",(0,h._)({},tp.contextMenuButtonDisplay,"none")),(0,h._)(p,"&:hover, &:active, &:focus",(d={},(0,h._)(d,tp.contextMenuButtonDisplay,"flex"),(0,h._)(d,tp.hasUnsavedChangesDisplay,"none"),d)),(0,h._)(p,"transitionDuration","0ms"),p)]),rowContent:[b.l0.flex.row,b.l0.align.center,b.l0.flex.growAndShrink(1),tv],uploadRow:(0,v._)(nA).concat([b.l0.flex.growAndShrink(1),b.l0.align.center,b.l0.flex.row,b.l0.align.center,tv,b.l0.border({color:"transparent"}),(0,h._)({backgroundColor:th.nodeBackgroundColor,borderRadius:th.borderRadius},tp.statusColor,b.TV.foregroundDimmer)]),createRow:(0,v._)(nA).concat([b.l0.justify.center]),icon:[tm,{marginRight:th.iconTextGap}],fileInput:[b.l0.flex.row,b.l0.align.center],text:[tg,b.l0.flex.growAndShrink(1),{color:th.statusColor}],emptyDirText:[tg,b.l0.display.flex,b.l0.justify.center,b.l0.flex.growAndShrink(1),{color:th.statusColor}],contextMenuButton:[b.l0.reset.button,b.l0.height("100%"),b.l0.center,b.l0.cursor.pointer,z.gU.filled,tm,{display:th.contextMenuButtonDisplay,borderRadius:"0 ".concat(th.borderRadius," ").concat(th.borderRadius," 0"),transitionDuration:"0ms",backgroundColor:"transparent"}],draftBufferContainer:[{display:th.hasUnsavedChangesDisplay}]});function nO(e){var t,n=(t=e.path,tl((0,tD.Z)(function(){return(0,Y.cn)(function(e){var n;return null!==(n=e(el).get(t))&&void 0!==n?n:null})},[t]))),r=tl(ej);return(null==n?void 0:n.length)?(0,m.tZ)(k.Z,{size:r,activeUsers:n}):null}function nN(e){var t,n=(t=e.path,tl((0,tD.Z)(function(){return(0,Y.cn)(function(e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e(el)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=(0,T._)(a.value,2),c=l[0],s=l[1];if(!(0,ee.yr)(t,c))return;n.push.apply(n,(0,v._)(s))}}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n.length?n:null})},[t])));return(null==n?void 0:n.length)?(0,m.tZ)(k.Z,{activeUsers:n}):null}function nM(e){return(0,m.tZ)(x.G,{title:"menu",tag:"button",css:nG.contextMenuButton,onClick:e.onClick,children:(0,m.tZ)(j.Z,{})})}function nU(e,t){var n=tc((0,tD.Z)(function(){return(0,X.kv)(e2,function(e){return e.has(t)})},[t]));(0,y.j)(e,n,function(e){return(0,h._)({},tp.nodeBackgroundColor,e?b.TV.backgroundHigher:"transparent")}),(0,Z.useEffect)(function(){var t=function(t){e.current&&e.current.setAttribute("aria-selected",t?"true":"false")};return t(n.current),n.subscribe(t)},[e,n,t])}var nB=(0,Z.memo)(function(e){var t,n,r,i,o,a,u,l,c,s,f,d=(0,Z.useRef)(null),p=tG(e.index),v=tl((t=e.path,(0,tD.Z)(function(){return(0,X.kv)(eN,function(e){var n;return!!(null===(n=e.get(t))||void 0===n?void 0:n.expanded)})},[t]))),y=tl((n=e.path,(0,tD.Z)(function(){return(0,X.kv)(eN,function(e){var t;return!!(null===(t=e.get(n))||void 0===t?void 0:t.loading)})},[n]))),w=(i=(r=(0,T._)((0,Z.useState)(y),2))[0],o=r[1],(0,Z.useEffect)(function(){if(!y){o(!1);return}var e=setTimeout(function(){return o(!0)},500);return function(){clearTimeout(e)}},[y]),i),E=ts(eg),k=tl(ep),z=tA(e.path),F=(a=e.path,u=ts(tF),(0,tD.Z)(function(){return function(e){u({event:e,path:a})}},[u,a])),j=(0,T._)(tO({path:e.path,index:e.index}),2),A=j[0],G=j[1],O=e.path===k&&y,N=O?en:(0,P.UO)(e.path),M=nC({path:e.path,type:D.Tv.Directory}),U=M.dragRef,B=M.sizeRef,W=M.isDragging;nU(d,e.path);var V=(l=e.path,tl((0,tD.Z)(function(){return(0,X.kv)(eh,function(e){return e?function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=(0,T._)(a.value,2),c=l[0],s=l[1],f=s.index,d=s.worktree;(0,ee.yr)(t,c)&&n.push({path:c,index:f,worktree:d})}}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}if(0===n.length)return null;var p=n.every(function(e){return e.index===tJ.h.ADDED||e.worktree===tJ.h.UNTRACKED})?tJ.h.ADDED:tJ.h.MODIFIED;if(!t5(p))return null;var h=n.length;return{color:t2[p],backgroundColor:t1[p],count:h}}(e,l):null},tE())},[l]))),L=tl(eD);return(0,m.BX)(x.G,{style:(0,S._)((0,_._)({},null==p?void 0:p.style),(f={},(0,h._)(f,tp.statusColor,null!==(c=null==V?void 0:V.color)&&void 0!==c?c:b.TV.foregroundDimmer),(0,h._)(f,tp.statusBackgroundColor,null==V?void 0:V.backgroundColor),(0,h._)(f,"opacity",W?.1:void 0),f)),tabIndex:z,role:"treeitem","aria-label":N,"aria-expanded":v,"aria-level":(null!==(s=null==p?void 0:p.depth)&&void 0!==s?s:0)+1,css:nG.row,onFocus:function(){return G(e.path)},innerRef:(0,g.l)(d,A,B,e.pending?void 0:U),onContextMenu:L?function(t){L(t,{path:e.path,type:D.Tv.Directory})}:void 0,onKeyDown:e.pending?void 0:function(t){"Enter"===t.key&&E(e.path)},onClick:e.pending?void 0:function(e){e.currentTarget===e.target&&F(e)},children:[(0,m.BX)(x.G,{title:e.path,css:nG.rowContent,onClick:e.pending?void 0:F,children:[(0,m.tZ)(x.G,{css:nG.icon,children:O||w&&!v?(0,m.tZ)(R.Z,{}):(0,m.tZ)(m.HY,{children:v?(0,m.tZ)(I.Z,{color:b.TV.foregroundDimmer}):(0,m.tZ)(C.Z,{color:b.TV.foregroundDimmer})})}),(0,m.tZ)(x.G,{css:nG.text,children:N}),e.uploadProgress?(0,m.tZ)(t$,{uploadProgress:e.uploadProgress}):null,V?(0,m.tZ)(t9,{count:V.count}):null,v?null:(0,m.tZ)(nN,{path:e.path}),null]}),L?(0,m.tZ)(nM,{onClick:function(t){L(t,{path:e.path,type:D.Tv.Directory})}}):null]})}),nW=(0,Z.memo)(function(e){var t,n,r,i,o,a,u,l,c=(0,Z.useRef)(null),s=tG(e.index),f=(t=e.path,n=tf(eZ),r=ts(e6),i=ts(ef),(0,tD.Z)(function(){return{onClick:function(e){var o=n(),a=o.onFileSelect,u=o.multiselectModifierKey,l=u?tz(e,u):void 0;r({node:{path:t,type:D.Tv.File},mode:l}),i(t),l||a({path:t,event:e,type:"click"})},onDoubleClick:function(e){var r=n().onFileDoubleClick;null==r||r(e,t)}}},[t,n,i,r])),d=f.onClick,p=f.onDoubleClick,v=tA(e.path),y=ts(eg),w=(0,T._)(tO({path:e.path,index:e.index}),2),k=w[0],C=w[1],I=(0,P.UO)(e.path),R=nC({path:e.path,type:D.Tv.File}),z=R.dragRef,F=R.sizeRef,j=R.isDragging;nU(c,e.path);var A=(o=e.path,tl((0,tD.Z)(function(){return(0,X.kv)(eh,function(e){return e?function(e,t){var n=null==e?void 0:e.get(t);if(!n)return null;var r=null;return n.worktree!==tJ.h.UNMODIFIED?r=n.worktree:n.index!==tJ.h.UNMODIFIED&&(r=n.index),r&&t5(r)?{color:t2[r],text:t0[r]}:null}(e,o):null},tE())},[o]))),G=tl(eD);return(0,m.BX)(x.G,{style:(0,S._)((0,_._)({},null==s?void 0:s.style),(l={},(0,h._)(l,tp.statusColor,null!==(a=null==A?void 0:A.color)&&void 0!==a?a:b.TV.foregroundDimmer),(0,h._)(l,"opacity",j?.1:void 0),l)),tabIndex:v,dataCy:"filetree-file",css:nG.row,onFocus:function(){return C(e.path)},innerRef:(0,g.l)(c,k,F,e.pending?void 0:z),role:"treeitem","aria-label":I,"aria-level":(null!==(u=null==s?void 0:s.depth)&&void 0!==u?u:0)+1,onDoubleClick:e.pending?void 0:p,onContextMenu:G?function(t){G(t,{path:e.path,type:D.Tv.File})}:void 0,onKeyDown:e.pending?void 0:function(t){"Enter"===t.key&&y(e.path)},onClick:e.pending?void 0:function(e){e.currentTarget===e.target&&d(e)},children:[(0,m.BX)(x.G,{title:e.path,css:nG.rowContent,onClick:e.pending?void 0:d,children:[(0,m.tZ)(x.G,{css:nG.icon,children:(0,m.tZ)(E.Z,{path:e.path})}),(0,m.tZ)(x.G,{css:nG.text,children:I}),A?(0,m.tZ)(t6,{text:A.text}):null,(0,m.tZ)(nO,{path:e.path}),null]}),G?(0,m.tZ)(nM,{onClick:function(t){G(t,{path:e.path,type:D.Tv.File})}}):null]})}),nV=(0,Z.memo)(function(e){var t=tG(e.index);return(0,m.tZ)(x.G,{css:nG.divider,style:null==t?void 0:t.style,role:"treeitem",children:(0,m.tZ)(x.G,{css:nG.dividerInner,children:(0,m.tZ)(x.G,{css:nG.dividerText,children:e.label})})})}),nL=(0,Z.memo)(function(e){var t=tG(e.index);return(0,m.BX)(x.G,{css:nG.error,style:null==t?void 0:t.style,role:"treeitem",children:[(0,m.tZ)(A.Z,{}),(0,m.tZ)(F.xv,{multiline:!1,children:e.message})]})}),nH=(0,Z.memo)(function(e){var t=tG(e.index);return(0,m.tZ)(x.G,{css:nG.emptyDir,style:null==t?void 0:t.style,role:"treeitem",children:(0,m.tZ)(x.G,{css:nG.emptyDirText,children:et})})}),nX=(0,Z.memo)(function(e){var t=tG(e.index);return(0,m.tZ)(x.G,{css:nG.createRow,style:null==t?void 0:t.style,role:"treeitem",children:(0,m.tZ)(tH,{dir:e.dir})})}),nQ=(0,Z.memo)(function(e){var t=tG(e.index),n=(0,P.UO)(e.path);return(0,m.tZ)(x.G,{style:null==t?void 0:t.style,css:nG.createRow,role:"treeitem","aria-label":n,children:(0,m.tZ)(tq,{path:e.path,fileType:e.fileType})})}),nK=(0,Z.memo)(function(e){var t=tG(e.index),n=(0,P.UO)(e.path);return(0,m.BX)(x.G,{style:null==t?void 0:t.style,css:nG.uploadRow,role:"treeitem","aria-label":n,children:[(0,m.tZ)(x.G,{css:nG.icon,children:(0,m.tZ)(E.Z,{path:e.path})}),(0,m.tZ)(x.G,{css:nG.text,children:n}),(0,m.tZ)(tK,{progress:e.progress})]})}),nY=(0,Z.memo)(function(e){var t,n=tl((t=e.index,(0,tD.Z)(function(){return(0,Y.cn)(function(e){var n,r;return null!==(r=null===(n=e(ed).get(t))||void 0===n?void 0:n.row)&&void 0!==r?r:null})},[t])));return n?"error"===n.type?(0,m.tZ)(nL,{index:e.index,message:n.message}):"divider"===n.type?(0,m.tZ)(nV,{index:e.index,label:n.label}):"emptyDir"===n.type?(0,m.tZ)(nH,{index:e.index}):"create"===n.type?(0,m.tZ)(nX,{index:e.index,dir:n.dir}):"uploadFile"===n.type?(0,m.tZ)(nK,{index:e.index,path:n.path,progress:n.progress}):n.rename?(0,m.tZ)(nQ,{index:e.index,path:n.path,fileType:"file"===n.type?D.Tv.File:D.Tv.Directory}):"file"===n.type?(0,m.tZ)(nW,{index:e.index,path:n.path,pending:!!n.pending}):(0,m.tZ)(nB,{index:e.index,path:n.path,pending:!!n.pending,uploadProgress:n.uploadProgress}):null}),n$=[th.horizontalPadding,th.rowLeftIndent,th.iconSize,th.iconTextGap].join(" + "),nq=(0,w.X)({root:[b.l0.overflow("hidden"),b.l0.height(0),{pointerEvents:"none"}],file:[{paddingLeft:"calc(".concat(n$,")"),paddingRight:th.horizontalPadding}]}),nJ=(0,Z.memo)(function(){var e=tl(eq);return e?(0,m.tZ)(x.G,{css:nq.root,children:e.map(function(e){var t=e.type,n=e.text,r=e.depth,i=(0,h._)({},tp.rowLeftIndent,"calc(".concat(r," * ").concat(th.gutterWidth,")")),o=t+r;return"divider"===t?(0,m.tZ)(x.G,{style:i,css:nG.dividerInner,children:(0,m.tZ)(F.xv,{css:nG.dividerInner,multiline:!1,children:n.toUpperCase()})},o):(0,m.tZ)(x.G,{css:nq.file,style:i,children:"create"===t?(0,m.tZ)(tX,{create:function(){}}):(0,m.tZ)(x.G,{css:nG.text,children:n.toUpperCase()})},o)})}):null}),n0=(0,Y.cn)(null),n1=(0,Y.cn)(null,function(e,t,n){var r=[n];if(!e(e3)){var i=!0,o=!1,a=void 0;try{for(var u,l=e(e2)[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=(0,T._)(u.value,2),s=c[0],f=c[1];n.path!==s&&r.push({path:s,type:f})}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}t(n0,(0,P.RQ)(r))});function n2(){return(n2=(0,Q._)(function(e,t){return(0,K.Jh)(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(t){return t.type===D.Tv.Directory?e.deleteDir(t.path):e.deleteFile(t.path)}))];case 1:return[2,{error:n.sent().filter(function(e){return e.error}).length?"Something went wrong deleting files":null}]}})})).apply(this,arguments)}var n5=n(75958),n4=n(86763),n3=n.n(n4),n6=t7.Dy.Enum(D.Tv),n9=t7.Dy.Object({filename:t7.Dy.String({minLength:1}),type:n6}),n7=t7.Dy.Object({scrollOffset:t7.Dy.Number({minimum:0}),dirInfo:t7.Dy.Record(t7.Dy.String(),t7.Dy.Object({expanded:t7.Dy.Boolean(),children:t7.Dy.Array(n9)}))});function n8(e){return"repl:workspace:filetree:"+e}var re=t7.Dy.Array(t7.Dy.String()),rt="repl:workspace:filetree:savedKeys",rn=(0,X.kv)(eZ,function(e){return e.localCacheKey?n8(e.localCacheKey):null}),rr=(0,Y.cn)(null,function(e){var t=e(eZ),n=t.localCacheKey,r=t.filter;if(n){var i=null!==(f=null===(s=e(te))||void 0===s?void 0:s.scrollOffset)&&void 0!==f?f:0,o=e(eN),a=!1,u=!0,l=!1,c=void 0;try{for(var s,f,d,p=o[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=(0,T._)(d.value,2)[1].children;if(a=!!(null==h?void 0:h.length))break}}catch(e){l=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw c}}if(a){var v=function(e,t){var n={dirInfo:Object.create(null),scrollOffset:e.scrollOffset},r=!0,i=!1,o=void 0;try{for(var a,u=e.dirInfo[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=(0,T._)(a.value,2),c=l[0],s=l[1],f=s.expanded,d=s.children;if(d){var p=d.filter(t);p.length&&(n.dirInfo[c]={expanded:f,children:p})}}}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}({dirInfo:o,scrollOffset:i},r),m=n8(n),g=(D=n5.Z.get(rt),t8.B4.Check(re,D)?D:null);if(g){var y=g.filter(function(e){return e!==m});y.unshift(m);var x=y.splice(20),w=!0,b=!1,Z=void 0;try{for(var D,_,S=x[Symbol.iterator]();!(w=(_=S.next()).done);w=!0){var E=_.value;n5.Z.remove(E)}}catch(e){b=!0,Z=e}finally{try{w||null==S.return||S.return()}finally{if(b)throw Z}}n5.Z.set(rt,y)}else n5.Z.set(rt,[m]);return n5.Z.set(n8(n),v)}}}),ri=(0,w.X)({content:[b.l0.px(2),b.l0.position.relative,{overflowY:"auto",height:"100%",minHeight:th.minHeight}],scroll:[{position:"relative",height:th.scrollHeight}],root:[b.l0.rowWithGap(0),b.l0.align.center],gutter:[b.l0.position.absolute,b.l0.top(0),b.l0.left(0),b.l0.reset.button,b.l0.align.end,b.l0.cursor.pointer,{width:th.gutterWidth,"& > div":[b.l0.height("100%"),b.l0.width(1),{marginRight:"25%",opacity:.2,backgroundColor:b.TV.foregroundDimmest}],"&:hover > div":{backgroundColor:b.TV.accentPrimaryDefault,opacity:1}}]}),ro=(0,Z.memo)(function(e){var t,n,r,i,o,a,u,l,c,s,f,d,p,w,b,_,S,E,k,C,I,R,z,F=tl(ed),j=tj();(0,y.j)(e.scrollRef,j.fontSize,function(e){var t;return t={},(0,h._)(t,tp.fontSize,e+"px"),(0,h._)(t,tp.dirStatusIconSize,e+"px"),t}),(0,y.j)(e.scrollRef,j.fontSizeSmall,function(e){return(0,h._)({},tp.fontSizeSmall,e+"px")}),(0,y.j)(e.scrollRef,j.iconSize,function(e){return(0,h._)({},tp.iconSize,e+"px")}),(0,y.j)(e.scrollRef,j.iconTextGap,function(e){return(0,h._)({},tp.iconTextGap,e+"px")}),(0,y.j)(e.scrollRef,j.horizontalPadding,function(e){return(0,h._)({},tp.horizontalPadding,e+"px")}),(0,y.j)(e.scrollRef,j.borderRadius,function(e){return(0,h._)({},tp.borderRadius,e+"px")}),(0,y.j)(e.scrollRef,j.scrollHeight,function(e){return(0,h._)({},tp.scrollHeight,e+"px")}),(0,y.j)(e.scrollRef,j.gutterWidth,function(e){return(0,h._)({},tp.gutterWidth,e+"px")}),(0,y.j)(e.scrollRef,j.minHeight,function(e){return(0,h._)({},tp.minHeight,e+"px")});var A=ts(eL),G=(t=ts(nT),n=ts(nb),r=(0,Z.useRef)(null),i=(0,Z.useRef)(null),o=(0,Z.useRef)(null),a=(0,nt.Z)().showError,u=tf(nw),l=ts(nx),c=ts(ng),s=ts(nF),f=(0,Z.useRef)(null),d=tf(eN),p=tf(ep),w=ts(ec),b=ts(eY),_=tl(e_),E=(S=(0,T._)((0,nf.L)(function(){return{accept:[D.Tv.File,D.Tv.Directory,nh.FILE],canDrop:function(){return!0},hover:function(e,n){var a=o.current;if(a){i.current&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{scrollZoneSize:{w:50,h:50},scrollVelocity:{x:50,y:50},scrollUpdateThrottle:100},r=n.scrollZoneSize,i=n.scrollVelocity,o=n.scrollUpdateThrottle,a=na()(function(){var n=t.getClientOffset();if(!n)return[0,0];var o=n.x,a=n.y,u=e.getBoundingClientRect(),l=u.x,c=u.y,s=u.width,f=u.height,d=Math.min(s/2,r.w),p=Math.min(f/2,r.h),h=function(e,t){var n=(0,T._)(t,2),r=n[0],i=n[1];return ni()(e,r[0],r[1])?(e-r[1])/(r[1]-r[0]):ni()(e,i[0],i[1])?(e-i[0])/(i[1]-i[0]):0};return[h(o,[[l,l+d],[l+s-d,l+s]])*i.x,h(a,[[c,c+p],[c+f-p,c+f]])*i.y]},o,{trailing:!1})();if(a){var u=(0,T._)(a,2),l=u[0],c=u[1];if(0!==l||0!==c){var s=e.scrollLeft,f=e.scrollTop,d=e.scrollWidth,p=e.scrollHeight,h=e.clientWidth,v=e.clientHeight;requestAnimationFrame(function(){e.scrollTop=nu(0,d-h,s+l),e.scrollTop=nu(0,p-v,f+c)})}}}(i.current,n);var l=n.getClientOffset();if(l){var c=t({x:l.x-a.x,y:l.y-a.y+u()});c?"file"===c.row.type||"uploadFile"===c.row.type?r.current=(0,P.Il)(c.row.path)||$.Ql:"dir"===c.row.type?r.current=c.row.path:r.current=c.row.dir:r.current=p();var h="nodes"!==e.type||(0,P.RQ)(e.nodes).every(function(e){var t;return nm(e,null!==(t=r.current)&&void 0!==t?t:p())});if(s(h),(null==c?void 0:c.row.type)!=="dir"){f.current&&(clearTimeout(f.current.timer),f.current=null);return}var v=c.row.path;if(f.current){if(f.current.dir===v)return;clearTimeout(f.current.timer),f.current=null}if(h){var m=setTimeout(function(){var e;null!==(e=d().get(v))&&void 0!==e&&e.expanded||b(v)},400);f.current={dir:v,timer:m}}}}},drop:function(e,t){var n,i=null!==(n=r.current)&&void 0!==n?n:p();if("nodes"===e.type){c({to:i,nodes:e.nodes}),r.current=null;return}e.dirContent.then(function(e){var t=e.reduce(function(e,t){return t.size+e},0);if(e.length>1e6){a("Trying to upload too many files at once. Please try again with fewer files.");return}if(t>104857600){a("Total file upload size exceeds maximum limit. Please try again with smaller files.");return}l({parentPath:i===$.Ql?void 0:i,files:e.filter(Boolean),onError:a})}),r.current=null},collect:function(e){return{isOver:e.isOver()}}}},[]),2))[0].isOver,k=S[1],C=ts(nz),(0,Z.useEffect)(function(){if(C(E),E){var e,t=null===(e=i.current)||void 0===e?void 0:e.getBoundingClientRect();o.current=t?{x:t.x,y:t.y}:null,t&&w({width:t.width,height:t.height});return}f.current&&(clearTimeout(f.current.timer),f.current=null),r.current=null,n(null)},[C,E,n,w]),I=ts(nw),(0,Z.useEffect)(function(){var e=i.current;if(e){var t=na()(function(){I(e.scrollTop)},200);return e.addEventListener("scroll",t),function(){t.cancel(),e.removeEventListener("scroll",t)}}},[I]),{dropRef:_?void 0:k,containerRef:i}),O=G.dropRef,N=G.containerRef,M=ts(e9),U=tl(eD),B=tl(ep);return R=ts(tt),z=tc(e4),(0,Z.useEffect)(function(){var e=function(){z.current&&R(z.current)};return e(),z.subscribe(e)},[z,R]),(0,m.BX)(x.G,{css:ri.content,innerRef:(0,g.l)(e.scrollRef,O,N),onKeyDown:A,onContextMenu:U?function(e){e.target===e.currentTarget&&U(e,{type:D.Tv.Directory,path:B})}:void 0,onClick:function(e){e.target===e.currentTarget&&M()},children:[(0,m.tZ)(nJ,{}),(0,m.BX)(x.G,{css:ri.scroll,role:"tree",children:[(0,v._)(F.values()).map(function(e){var t=e.key,n=e.index;return(0,m.tZ)(nY,{index:n},t)}),(0,m.tZ)(ru,{}),(0,m.tZ)(nS,{}),(0,m.tZ)(nj,{})]})]})}),ra=(0,Z.memo)(function(){var e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,g,y,x,w,b,D=(t=(0,Z.useRef)(null),n=tl(eW),r=tf(eW),i=tf(eS),o=(0,tD.Z)(function(){return function(e){var t=r()[e];return t?eT(i(),t.type):0}},[r,i]),a=tf(eZ),u=tc(eV),l=(0,Z.useRef)(tl(em)),c=(0,tb.MG)({count:n.length,overscan:null!==(e=a().overscan)&&void 0!==e?e:100,getScrollElement:function(){return t.current},getItemKey:function(e){var t=n[e];return t?"error"===t.type?"error:"+t.dir+t.message:"divider"===t.type?"divider:"+t.dir+t.label:"emptyDir"===t.type?"emptyDir:"+t.dir:"create"===t.type?"create:"+t.dir:t.type+":"+t.path:""},estimateSize:o,rangeExtractor:function(e){var t=(0,tZ.MK)(e);return null===u.current||t.includes(u.current)||void 0===n[u.current]?t:(0,v._)(t).concat([u.current])}}),(0,Z.useEffect)(function(){l.current&&c.scrollToOffset(l.current)},[c,l]),s=ts(eb),f=c.getVirtualItems(),d=c.getTotalSize(),(0,Z.useEffect)(function(){s({rows:f,scrollHeight:d})},[s,f,d]),p=tl(ew),(0,Z.useEffect)(function(){if(p){var e=function(e){null!==e&&c.getVirtualItems()[e]&&c.scrollToIndex(e,{align:"auto",behavior:"auto"})};return setTimeout(function(){return e(u.current)}),u.subscribe(e)}},[c,u,p]),h=ts(te),(0,Z.useEffect)(function(){h(c)},[h,c]),{scrollRef:t,virtualizer:c}).scrollRef;return g=tc(n0),y=tf(eZ),(0,Z.useEffect)(function(){return g.subscribe(function(e){if(e){var t=y().onDeleteNodes;t&&t({nodes:e,confirm:function(){return function(e,t){return n2.apply(this,arguments)}(y().fs,e)}})}})},[y,g]),x=tl(rn),w=tc(eN),b=ts(rr),(0,Z.useEffect)(function(){if(x){var e,t,n=null,r=null!==(e=window.requestIdleCallback)&&void 0!==e?e:window.requestAnimationFrame,i=null!==(t=window.cancelIdleCallback)&&void 0!==t?t:window.cancelAnimationFrame,o=n3()(function(){n&&i(n),n=r(b)},1e3),a=w.subscribe(o);return document.addEventListener("visibilitychange",b),document.addEventListener("beforeunload",b),function(){o.cancel(),n&&i(n),document.removeEventListener("visibilitychange",b),document.removeEventListener("beforeunload",b),a(),b()}}},[x,w,b]),(0,m.tZ)(ro,{scrollRef:D})}),ru=(0,Z.memo)(function(){var e=tl(ex),t=ts(eQ);return(0,m.tZ)(m.HY,{children:e.map(function(e){return(0,m.tZ)(x.G,{tag:"button",onClick:function(){return t(e.dir)},css:ri.gutter,style:{height:e.height,transform:"translate(calc(".concat(e.depth," * ").concat(th.gutterWidth,"), ").concat(e.y,"px)")},children:(0,m.tZ)(x.G,{})},"gutter"+e.dir+e.depth+e.y)})})});function rl(e){var t,n,r;return t=(0,nt.Z)().showError,n=(0,T._)((0,Z.useState)(function(){var n,r,i,o,a=(0,Y.MT)();a.set(eZ,e);var u=null!==(n=e.root)&&void 0!==n?n:$.Ql,l=e.localCacheKey?(i=e.localCacheKey,o=n5.Z.get(n8(i)),t8.B4.Check(n7,o)?{dirInfo:new Map(Object.entries(o.dirInfo)),scrollOffset:o.scrollOffset}:null):null;l&&a.set(em,l.scrollOffset);var c=null!==(r=null==l?void 0:l.dirInfo)&&void 0!==r?r:new Map;return c.has(u)||c.set(u,{expanded:!0}),a.set(eN,c),e.focusedPath&&a.set(ef,e.focusedPath),{store:a,create:function(e,t){if(t){a.set(eJ,{parentPath:t,fileType:e});return}var n=u,r=a.get(e5);(null==r?void 0:r.type)===D.Tv.File?n=(0,P.Il)(r.path)||$.Ql:(null==r?void 0:r.type)===D.Tv.Directory&&(n=r.path),a.set(eJ,{parentPath:n,fileType:e})},setPresenceState:function(e){a.set(el,e)},setFileStatus:function(e){a.set(eh,e)},rename:function(e){a.set(eg,e)},move:function(e){a.set(ng,e)},upload:function(e){a.set(nx,(0,S._)((0,_._)({},e),{onError:t}))},onLoad:function(t){var n=e.fs.watchDir(u,{onChange:function(){t({error:null}),n()},onError:function(e){t({error:e}),n()}});return n},select:function(e){return null===e?a.set(e9):a.set(e8,e)},scrollToPath:function(e){return a.set(tt,e)},hasLocalCache:!!l,getChildren:function(e){var t,n;return null!==(n=null===(t=a.get(eN).get(e))||void 0===t?void 0:t.children)&&void 0!==n?n:null},getSelectedNode:function(){return a.get(e5)},getSelectedNodes:function(){return a.get(e2)},deleteNodes:function(e){a.set(n1,e)},collapse:function(e){return a.set(eQ,e)},getExpandedDirs:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$.Ql,n=new Set,r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=(0,T._)(a.value,2),c=l[0],s=l[1];c!==t&&s.expanded&&(t===$.Ql||(0,ee.yr)(t,c))&&n.add(c)}}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return 0===n.size?null:n}(a.get(eN),e)}}}),1)[0],(0,Z.useEffect)(function(){n.store.set(eZ,e)},[n.store,e]),(0,Z.useEffect)(function(){var e=!0,t=!1,r=void 0;try{for(var i,o=n.store.get(eN)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=(0,T._)(i.value,2),u=a[0];a[1].expanded&&n.store.set(eY,u)}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}return function(){var e=!0,t=!1,r=void 0;try{for(var i,o=n.store.get(eN)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a,u=(0,T._)(i.value,2),l=(u[0],u[1]);null===(a=l.disposeWatcher)||void 0===a||a.call(l)}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}}},[n.store]),r=(0,L.Z)(e.onLoad),(0,Z.useEffect)(function(){return n.onLoad(function(e){var t;return null===(t=r.current)||void 0===t?void 0:t.call(r,e)})},[n,r]),n}function rc(e){return(0,m.tZ)(ta,{store:e.store,children:(0,m.tZ)(ra,{})})}},64510:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(41733),i=n(74985),o=n(77865),a=n(14872),u=n(36647),l=n(50761),c=n(47713),s=n(50959).memo(o.ZP);function f(e){var t=e.source,n=e.sourcePos,o=e.fs,f=e.path,d=e.onCodeInsert,p=(0,l.l)(o,f),h=(0,a.Z)(t,100),v=(0,u.Z)(function(){return{img:p,a:function(e){return(0,i.tZ)(c.Z,(0,r._)({filePath:f},e))}}},[p,f]);return(0,i.tZ)(s,{onCodeInsert:d,components:v,sourcePos:n,children:h})}},22706:function(e,t,n){n.d(t,{A:function(){return p},Z:function(){return d}});var r=n(66626),i=n(74985),o=n(85763),a=n(82230),u=n(38057),l=n(29318),c=n(72093),s=n(50959),f=n(36559);function d(e){var t=e.fs,n=e.filePath,d=(0,r._)((0,s.useState)(null),2),h=d[0],v=d[1],m=(0,r._)((0,s.useState)(!0),2),g=m[0],y=m[1];return((0,s.useEffect)(function(){var e=t.watchFile(n,{onChange:function(e){v(e.toString("base64")),y(!1)},onError:function(){v(null),y(!1)},onMoveOrDelete:function(){v(null),y(!1)}});return function(){e(),y(!0),v(null)}},[t,n]),g)?(0,i.tZ)(l.Z,{}):h?(0,i.BX)(i.HY,{children:[(0,i.tZ)(p,{content:h,mime:(0,f.yC)(n)}),(0,i.tZ)(o.hU,{alt:"Download",css:[c.l0.position.absolute,c.l0.bottom(8),c.l0.right(8),c.l0.p(16)],children:(0,i.tZ)("a",{href:"data:text/plain;base64,".concat(h),download:(0,f.UO)(n),css:[c.l0.color.foregroundDimmer],children:(0,i.tZ)(u.Z,{})})})]}):(0,i.tZ)(a.xv,{multiline:!1,children:"Failed to load media file"})}var p=function(e){var t=e.content,n=e.mime,r=void 0===n?"":n;if(r.startsWith("video/"))return(0,i.tZ)("video",{src:"data:".concat(r,";base64,").concat(t),css:{maxHeight:"100%",maxWidth:"100%"},controls:!0});if(r.startsWith("image/"))return(0,i.tZ)("img",{alt:"Preview",src:"data:".concat(r,";base64,").concat(t),css:{width:"80%",height:"80%",objectFit:"contain",imageRendering:"pixelated"}});if(r.startsWith("audio/")){var o=r;return"audio/wave"===o&&(o="audio/wav"),(0,i.tZ)("audio",{src:"data:".concat(o,";base64,").concat(t),css:{maxHeight:"100%",maxWidth:"100%"},controls:!0})}return"application/pdf"===r?(0,i.tZ)("object",{data:"data:".concat(r,";base64,").concat(t),type:"application/pdf",css:{width:"100%",height:"100%",flex:1},children:(0,i.tZ)("embed",{src:"data:".concat(r,";base64,").concat(t),type:"application/pdf",css:{width:"100%",height:"100%"}})}):(0,i.tZ)(a.xv,{multiline:!1,children:"File type not supported."})}},44167:function(e,t,n){n.d(t,{T:function(){return g}});var r=n(39271),i=n(57604),o=n(81199),a=n(52425),u=n(50959),l=n(90005),c=n(33444),s=n(41733),f=n(21262),d=n(71440),p=n(58995);function h(){var e=(0,f._)(["\n  query ShouldHideFileInWorkspace($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isProjectFork\n        isModelSolution\n        isModelSolutionFork\n      }\n    }\n  }\n"]);return h=function(){return e},e}var v={},m=(0,d.Ps)(h()),g=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,r.Z)(),f=(0,o.Z)().dotReplit,d=(e=(0,s._)({},v,{variables:{replId:n}}),p.a(m,e)),h=d.data,g=d.loading,y=(null==h?void 0:h.repl.__typename)==="Repl"&&(h.repl.isProjectFork||h.repl.isModelSolution||h.repl.isModelSolutionFork),x=(0,i.P)(f),w=(0,a.t9)();return(0,u.useCallback)(function(e){return!!((y||g)&&(0,c.TI)(e)||(0,c.MF)(e))||!!t&&!w&&((0,c.uC)(e)||(0,l.Ci)(e)||(0,l.cJ)(e)||(0,c.lv)(e,x))},[y,g,w,x,t])}},32108:function(e,t,n){n.d(t,{W:function(){return f}});var r=n(27387),i=n(66626),o=n(96583),a=n(90005),u=n(29139),l=n(36559),c=n(73372),s=n(57253);function f(e){return d.apply(this,arguments)}function d(){return(d=(0,r._)(function(e){var t,n,f,d,p,h,v,m,g;function y(){return(y=(0,r._)(function(){var e;return(0,o.Jh)(this,function(n){switch(n.label){case 0:if("function"==typeof t)return[2,t()];return[4,t.getConfig()];case 1:return[2,null===(e=n.sent().config)||void 0===e?void 0:e.entrypoint]}})})).apply(this,arguments)}function x(){return(x=(0,r._)(function(){var e,t;return(0,o.Jh)(this,function(r){switch(r.label){case 0:if(!(e=p))return[2,null];if(!(0,l.Il)(e))return[2,m.includes(e)?e:null];return[4,n.stat(e)];case 1:return[2,(t=r.sent()).exists&&t.type===s.Tv.File?e:null]}})})).apply(this,arguments)}return(0,o.Jh)(this,function(r){switch(r.label){case 0:if(t=e.dotReplit,n=e.fs,!u.l)throw Error("Expected apollo client");return[4,Promise.all([n.readDir(c.Ql),function(){return y.apply(this,arguments)}()])];case 1:if(d=(f=i._.apply(void 0,[r.sent(),2]))[0],p=f[1],!d||d.error)throw Error("Could not read files");return v=(h=d.children).find(function(e){return e.type===s.Tv.File&&e.filename.toLowerCase().endsWith("readme.md")}),m=h.filter(function(e){return e.type===s.Tv.File}).map(function(e){return e.filename}),[4,function(){return x.apply(this,arguments)}()];case 2:var o,w;if(g=r.sent())return[2,{entrypoint:g,readmeFile:null==v?void 0:v.filename}];return[2,{entrypoint:(w=(o=m).find(function(e){return e.toLowerCase().endsWith("readme.md")}))?w:o.includes("Makefile")?"Makefile":o.find(l.gK)||o.find(function(e){return![".replit","replit.nix"].includes(e)&&!(0,a.Ci)(e)&&!(0,a.cJ)(e)}),readmeFile:null==v?void 0:v.filename}]}})})).apply(this,arguments)}},79760:function(e,t,n){function r(e){var t=document.createElement("canvas"),n=t.getContext("2d");if(t.width=e.width,t.height=e.height,!n)throw Error("failed to get canvas ctx");return{version:"1",width:e.width,height:e.height,palette:[[0,0,0,255],[255,255,255,255],[255,255,128,255],[255,128,255,255],[0,128,128,255],[128,0,255,255],[255,0,128,255],[0,255,255,255]],anims:{},frames:e.frames.map(function(r){var i=new window.ImageData(new Uint8ClampedArray(r.pixels),e.width,e.height);return n.putImageData(i,0,0),t.toDataURL()})}}function i(e){return new Promise(function(t,n){var r=new window.Image;r.src=e,r.onload=function(){t(r)},r.onerror=n})}function o(e){return new Promise(function(t,n){Promise.all(e.frames.map(i)).then(function(r){var i=document.createElement("canvas");i.width=e.width,i.height=e.height;var o=i.getContext("2d");if(!o){n(Error("failed to get canvas ctx"));return}t({frames:r.map(function(t){return o.drawImage(t,0,0),{pixels:Array.from(o.getImageData(0,0,e.width,e.height).data),width:e.width,height:e.height}}),preview:e.frames[0],width:e.width,height:e.height})}).catch(n)})}n.d(t,{C:function(){return r},u:function(){return o}})},86976:function(e,t,n){n.d(t,{z:function(){return o}});var r=n(90005),i=n(73372);function o(e){var t=e.siblingNames,n=e.fileName,o=e.initialValue,a=e.parentPath;if(n.includes("/"))return"File names cannot include forward slashes";if("."===n||".."===n)return'File names cannot be "'.concat(n,'"');if(n.match(/^\s/)||n.match(/\s$/))return"File names cannot start or end with whitespace";if(o!==n&&t.includes(n))return"A file or folder with that name already exists";if(n.length>100)return"File names cannot be longer than 100 characters";var u=a===i.Ql?n:a+"/"+n;return u===i.wL?"You can create environment variables with the Secrets tool! (.env files are deprecated)":(0,r.Ci)(u)?'"'.concat(u,'" is reserved'):null}},77454:function(e,t,n){n.d(t,{NH:function(){return l},Qt:function(){return s},R3:function(){return c},_s:function(){return o},p5:function(){return f}});var r=n(42650),i=n(43471),o=(0,r.cn)(null),a=(0,r.cn)(function(e){var t=e(o);return(null==t?void 0:t.isVisible)?t.path:null}),u=(0,r.cn)(null,function(e,t,n,r){switch(r.type){case"focus":t(o,{hasFocus:!0,isVisible:!0,position:r.position,path:n});return;case"update":t(o,{hasFocus:r.hasFocus,isVisible:!0,position:r.position,path:n});return;case"blur":t(o,function(e){var t;return{hasFocus:!1,isVisible:!!(null==e?void 0:e.isVisible),position:null!==(t=null==e?void 0:e.position)&&void 0!==t?t:{line:1,column:1,offset:0},path:n}});return;case"unmount":t(o,null);return;case"hidden":t(o,function(e){var t;return{hasFocus:!1,isVisible:!1,position:null!==(t=null==e?void 0:e.position)&&void 0!==t?t:{line:1,column:1,offset:0},path:n}});return;case"unhidden":t(o,function(e){var t;return{hasFocus:!!(null==e?void 0:e.hasFocus),isVisible:!0,position:null!==(t=null==e?void 0:e.position)&&void 0!==t?t:{line:1,column:1,offset:0},path:n}});return}});function l(){return(0,i.$X)(u)}function c(){return(0,i.Hg)(a)}function s(){return(0,i.XD)(o)}function f(){return(0,i.yL)(o)}},52425:function(e,t,n){n.d(t,{eA:function(){return w},_s:function(){return c._s},aG:function(){return x.aG},t9:function(){return g},R3:function(){return c.R3},Qt:function(){return c.Qt},b2:function(){return v},ev:function(){return u},OM:function(){return y},Cp:function(){return h},_o:function(){return l}});var r=n(74985),i=n(43471),o=n(42650),a=(0,o.cn)(null);function u(){return(0,i.Hg)(a)}function l(){return(0,i.$X)(a)}var c=n(77454),s=n(36647),f=n(41974),d=(0,o.cn)(new Map),p=(0,o.cn)(null,function(e,t,n){t(d,function(e){return(0,f.Uy)(e,function(e){n.indicatorType?e.set(n.paneType,n.indicatorType):e.delete(n.paneType)})})});function h(){return(0,i.$X)(p)}function v(e){var t=e.paneType;return(0,i.Hg)((0,s.Z)(function(){return(0,o.cn)(function(e){return t?e(d).get(t):void 0})},[t]))}var m=(0,n(88205).O4)("areHiddenFilesVisible",!1);function g(){return(0,i.Hg)(m)}function y(){return(0,i.$X)(m)}var x=n(51973);function w(e){var t=(0,i.ns)();return(0,r.tZ)(i.B3.Provider,{value:t,children:e.children})}},51973:function(e,t,n){n.d(t,{aG:function(){return P},f:function(){return T},HQ:function(){return I},e_:function(){return G}});var r,i=n(27387),o=n(66626),a=n(63257),u=n(96583),l=n(66403),c=n(36647),s=n(29139),f=n(40824),d=n(81202),p=n.n(d),h=n(41974),v=n(42650),m=n(88205),g=n(86763),y=n.n(g),x=n(50959),w=n(21262);function b(){var e=(0,w._)(["\n  query WorkspaceSessionPresence($userIds: [Int!]!) {\n    usersByIds(ids: $userIds) {\n      id\n      image\n    }\n  }\n"]);return b=function(){return e},e}var Z=(0,n(71440).Ps)(b()),D=n(43471),_=(0,v.cn)(new Map),S=(0,v.cn)(null,function(e,t,n){return t(_,function(e){return(0,h.Uy)(e,function(e){e.set(n.userId,n.color)})})});function T(){var e=(0,D.XD)(k),t=(0,D.$X)(S);return(0,x.useCallback)(function(n){var r,i=e(),o=null===(r=i.get(n.userId))||void 0===r?void 0:r.color;return o||t({color:o=(0,f.i7)(Object.values(i)),userId:n.userId}),o},[e,t])}function E(e,t,n,r){var i=r||{timestamp:Math.floor(Date.now()/1e3),activeFile:null},o=e.get(t.id);if(o){o.sessions.set(t.session,i);return}e.set(t.id,{id:t.id,username:t.name,color:null!=n?n:(0,f.i7)((0,a._)(e.values())),roles:t.roles,sessions:new Map([[t.session,i]])})}var k=(0,v.cn)(new Map),C=(0,m.kv)(k,function(e){var t=new Map,n=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=(0,o._)(a.value,2)[1],c=null,s=!0,f=!1,d=void 0;try{for(var p,h=l.sessions[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var v=(0,o._)(p.value,2)[1];!v.activeFile||c&&c.timestamp>v.timestamp||(c=v)}}catch(e){f=!0,d=e}finally{try{s||null==h.return||h.return()}finally{if(f)throw d}}if(null==c?void 0:c.activeFile){var m=t.get(c.activeFile),g={id:l.id,username:l.username,image:l.image,color:l.color,roles:l.roles};m?m.push(g):t.set(c.activeFile,[g])}}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t},p());function I(){return(0,D.yL)(C)}var R=(0,m.kv)(k,function(e){return(0,a._)(e.values()).map(function(e){return{id:e.id,username:e.username,color:e.color,image:e.image,roles:e.roles}})},p());function P(){return(0,D.Hg)(R)}function z(e){var t=e.id,n=e.name,r=e.session,i=e.roles;return t&&n&&r&&i?{id:t,name:n,session:r,roles:i}:null}function F(e){var t=e.seconds,n=e.nanos;return"number"!=typeof t||"number"!=typeof n?null:(0,f.gs)({seconds:t,nanos:n})}var j=(0,v.cn)(null,function(e,t,n,r){t(k,function(t){return(0,h.Uy)(t,function(t){var i;if(null===(i=n.roster)||void 0===i?void 0:i.user){var a=!0,u=!1,l=void 0;try{for(var c,s=n.roster.user[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value,d=z(f);if(null!==d&&(null==d?void 0:d.id)!==r){var p=function(e,t){if(!e.files)return null;var n=e.files.find(function(e){return e.userId===t.id&&e.session===t.session});if(!n)return null;var r=n.timestamp?F(n.timestamp):null;return r?{activeFile:n.file||null,timestamp:r}:null}(n.roster,d),h=e(_).get(d.id);E(t,d,h,p)}}}catch(e){u=!0,l=e}finally{try{a||null==s.return||s.return()}finally{if(u)throw l}}return}if(n.join){var v=z(n.join);if(!v||v.id===r)return;var m=e(_).get(v.id);E(t,v,m);return}if(n.part){var g,y,x=n.part,w=x.id,b=x.session;if(!w||!b)return;g={id:w,session:b},(y=t.get(g.id))&&(1===y.sessions.size?t.delete(g.id):y.sessions.delete(g.session));return}if(n.fileOpened){var Z=n.fileOpened,D=Z.session,S=Z.userId,T=Z.file,k=n.fileOpened.timestamp?F(n.fileOpened.timestamp):null;if(!k||!D||!S||!T)return;!function(e,t){var n=e.get(t.userId);if(n){var r=n.sessions.get(t.session);r?(r.timestamp=t.timestamp,r.activeFile=t.file):n.sessions.set(t.session,{timestamp:t.timestamp,activeFile:t.file})}}(t,{timestamp:k,session:D,userId:S,file:T});return}if(n.sessionTimestampUpdated){var C=n.sessionTimestampUpdated.session,I=n.sessionTimestampUpdated.timestamp?F(n.sessionTimestampUpdated.timestamp):null;if(!I||!C)return;!function(e,t){var n=t.session,r=t.timestamp,i=!0,a=!1,u=void 0;try{for(var l,c=e[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var s=(0,o._)(l.value,2)[1].sessions.get(n);if(s){s.timestamp=r;break}}}catch(e){a=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw u}}}(t,{timestamp:I,session:C});return}})})}),A=(0,v.cn)(null,(r=(0,i._)(function(e,t){var n,r,i,a,l,c,f,d,p,v,m;return(0,u.Jh)(this,function(u){switch(u.label){case 0:n=[],r=e(k),i=!0,a=!1,l=void 0;try{for(c=r[Symbol.iterator]();!(i=(f=c.next()).done);i=!0)p=(d=(0,o._)(f.value,2))[0],d[1].image||n.push(p)}catch(e){a=!0,l=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}if(!n.length)return[2];return[4,null===s.l||void 0===s.l?void 0:s.l.query({query:Z,variables:{userIds:n}})];case 1:if(!(m=null==(v=u.sent())?void 0:v.data.usersByIds))return[2];return t(k,function(e){return(0,h.Uy)(e,function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=m[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,u=e.get(a.id);u&&(u.image=a.image)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}})}),[2]}})}),function(e,t){return r.apply(this,arguments)}));function G(){var e=(0,l.d)(),t=(0,D.$X)(A),n=(0,D.$X)(j),r=(0,D.yL)(k);return(0,x.useEffect)(function(){t();var e=y()(t,2e3);return r.subscribe(function(){return e()})},[t,r]),(0,c.Z)(function(){return function(t){e&&n(t,e)}},[n,e])}},36559:function(e,t,n){n.d(t,{RQ:function(){return D},IV:function(){return Z},eb:function(){return h},r6:function(){return f},UO:function(){return p},yC:function(){return c},Il:function(){return v},U$:function(){return d},hj:function(){return l},sL:function(){return m},gK:function(){return x},T3:function(){return s},Mb:function(){return y},IQ:function(){return g},B4:function(){return w}});var r=n(5172),i=n(51917),o=n(57253),a=n(41600),u=["zip","gz","tgz","tar","rar","7z"];function l(e){var t;return t=f(e),u.includes(t)}function c(e){return i.Z.get(f(e).toLowerCase())}function s(e){return!e.endsWith(".ts")&&!!c(e)}function f(e){return(0,r.extname)(e).slice(1)}var d=function(e){return e.split("/").length};function p(e){return e.split("/").pop()}function h(e){return p(e).split(".")[0]}function v(e){return e.split("/").slice(0,-1).join("/")}function m(e){return e.endsWith(".draw")}function g(e){return e.endsWith(".pedit")||e.endsWith(".kbmsprite")}function y(e){return!(g(e)||m(e)||s(e)||l(e))}function x(e){return e.endsWith(".md")}function w(e){return e.endsWith(".svg")}var b=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});function Z(e,t){return e&&t?b.compare(e,t):0}var D=function(e){var t=e.sort(function(e,t){var n=d(e.path);return d(t.path)-n}),n=[];return t.forEach(function(e,r){for(var i=r+1;i<t.length;i++)if(t[i].type===o.Tv.Directory&&(0,a.yr)(t[i].path,e.path))return;n.push(e)}),n}},51917:function(e,t){var n=new Map([["pdf","application/pdf"],["3gpp","video/3gpp"],["adp","audio/adpcm"],["au","audio/basic"],["snd","audio/basic"],["mid","audio/midi"],["midi","audio/midi"],["kar","audio/midi"],["rmi","audio/midi"],["mp3","audio/mpeg"],["m4a","audio/mp4"],["mp4a","audio/mp4"],["mpga","audio/mpeg"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["m2a","audio/mpeg"],["m3a","audio/mpeg"],["oga","audio/ogg"],["ogg","audio/ogg"],["spx","audio/ogg"],["s3m","audio/s3m"],["sil","audio/silk"],["uva","audio/vnd.dece.audio"],["uvva","audio/vnd.dece.audio"],["eol","audio/vnd.digital-winds"],["dra","audio/vnd.dra"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["lvp","audio/vnd.lucent.voice"],["pya","audio/vnd.ms-playready.media.pya"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["rip","audio/vnd.rip"],["wav","audio/wave"],["weba","audio/webm"],["aac","audio/x-aac"],["aif","audio/x-aiff"],["aiff","audio/x-aiff"],["aifc","audio/x-aiff"],["caf","audio/x-caf"],["flac","audio/x-flac"],["mka","audio/x-matroska"],["m3u","audio/x-mpegurl"],["wax","audio/x-ms-wax"],["wma","audio/x-ms-wma"],["ram","audio/x-pn-realaudio"],["ra","audio/x-pn-realaudio"],["rmp","audio/x-pn-realaudio-plugin"],["xm","audio/xm"],["exr","image/aces"],["apng","image/apng"],["bmp","image/bmp"],["cgm","image/cgm"],["drle","image/dicom-rle"],["emf","image/emf"],["fits","image/fits"],["g3","image/g3fax"],["gif","image/gif"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["hsj2","image/hsj2"],["ief","image/ief"],["jls","image/jls"],["jp2","image/jp2"],["jpg2","image/jp2"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["jpe","image/jpeg"],["jph","image/jph"],["jhc","image/jphc"],["jpm","image/jpm"],["jpx","image/jpx"],["jpf","image/jpx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["ktx","image/ktx"],["png","image/png"],["btif","image/prs.btif"],["pti","image/prs.pti"],["sgi","image/sgi"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["t38","image/t38"],["tif","image/tiff"],["tiff","image/tiff"],["tfx","image/tiff-fx"],["psd","image/vnd.adobe.photoshop"],["azv","image/vnd.airzip.accelerator.azv"],["uvi","image/vnd.dece.graphic"],["uvvi","image/vnd.dece.graphic"],["uvg","image/vnd.dece.graphic"],["uvvg","image/vnd.dece.graphic"],["djvu","image/vnd.djvu"],["djv","image/vnd.djvu"],["sub","image/vnd.dvb.subtitle"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["fbs","image/vnd.fastbidsheet"],["fpx","image/vnd.fpx"],["fst","image/vnd.fst"],["mmr","image/vnd.fujixerox.edmics-mmr"],["rlc","image/vnd.fujixerox.edmics-rlc"],["ico","image/vnd.microsoft.icon"],["dds","image/vnd.ms-dds"],["mdi","image/vnd.ms-modi"],["wdp","image/vnd.ms-photo"],["npx","image/vnd.net-fpx"],["tap","image/vnd.tencent.tap"],["vtf","image/vnd.valve.source.texture"],["wbmp","image/vnd.wap.wbmp"],["xif","image/vnd.xiff"],["pcx","image/vnd.zbrush.pcx"],["webp","image/webp"],["wmf","image/wmf"],["3ds","image/x-3ds"],["ras","image/x-cmu-raster"],["cmx","image/x-cmx"],["fh","image/x-freehand"],["fhc","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["jng","image/x-jng"],["sid","image/x-mrsid-image"],["pic","image/x-pict"],["pct","image/x-pict"],["pnm","image/x-portable-anymap"],["pbm","image/x-portable-bitmap"],["pgm","image/x-portable-graymap"],["ppm","image/x-portable-pixmap"],["rgb","image/x-rgb"],["tga","image/x-tga"],["xbm","image/x-xbitmap"],["xpm","image/x-xpixmap"],["xwd","image/x-xwindowdump"],["3gp","video/3gpp"],["3g2","video/3gpp2"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["jpgv","video/jpeg"],["jpgm","video/jpm"],["mj2","video/mj2"],["mjp2","video/mj2"],["ts","video/mp2t"],["mp4","video/mp4"],["mp4v","video/mp4"],["mpg4","video/mp4"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpe","video/mpeg"],["m1v","video/mpeg"],["m2v","video/mpeg"],["ogv","video/ogg"],["qt","video/quicktime"],["mov","video/quicktime"],["uvh","video/vnd.dece.hd"],["uvvh","video/vnd.dece.hd"],["uvm","video/vnd.dece.mobile"],["uvvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvvs","video/vnd.dece.sd"],["uvv","video/vnd.dece.video"],["uvvv","video/vnd.dece.video"],["dvb","video/vnd.dvb.file"],["fvt","video/vnd.fvt"],["mxu","video/vnd.mpegurl"],["m4u","video/vnd.mpegurl"],["pyv","video/vnd.ms-playready.media.pyv"],["uvu","video/vnd.uvvu.mp4"],["uvvu","video/vnd.uvvu.mp4"],["viv","video/vnd.vivo"],["webm","video/webm"],["f4v","video/x-f4v"],["fli","video/x-fli"],["flv","video/x-flv"],["m4v","video/x-m4v"],["mkv","video/x-matroska"],["mk3d","video/x-matroska"],["mks","video/x-matroska"],["mng","video/x-mng"],["asf","video/x-ms-asf"],["asx","video/x-ms-asf"],["vob","video/x-ms-vob"],["wm","video/x-ms-wm"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wvx","video/x-ms-wvx"],["avi","video/x-msvideo"],["movie","video/x-sgi-movie"],["smv","video/x-smv"]]);t.Z=n},41600:function(e,t,n){function r(e){return""===e||e.endsWith("/")?e:e+"/"}function i(e,t){return t!==e&&t.startsWith(r(e))}function o(e,t){if(!i(e,t))return!1;var n=r(e),o=t.slice(n.length);return o.endsWith("/")&&(o=o.slice(-1)),!o.includes("/")}function a(e){return""===e||"./"===e?".":e.startsWith("./")?e.slice(2):e}n.d(t,{AH:function(){return a},Oh:function(){return r},pC:function(){return o},yr:function(){return i}})},57253:function(e,t,n){var r,i,o,a,u,l,c,s,f,d,p,h,v,m;n.d(t,{Df:function(){return u},Fl:function(){return o},KF:function(){return c},Tv:function(){return a},WL:function(){return r},kO:function(){return l},kS:function(){return i}}),(s=r||(r={}))[s.UNKNOWN=0]="UNKNOWN",s[s.MANUAL_SAVE=1]="MANUAL_SAVE",(f=i||(i={})).Create="CREATE",f.Move="MOVE",f.Delete="DELETE",f.Modify="MODIFY",(d=o||(o={})).Local="LOCAL",d.Container="CONTAINER",(p=a||(a={})).File="FILE",p.Directory="DIRECTORY",(h=u||(u={})).NotFound="NOT_FOUND",h.AlreadyExists="ALREADY_EXIST",h.NotDirectory="NOT_DIRECTORY",h.IsDirectory="IS_DIRECTORY",h.InvalidPath="INVALID_PATH",h.DiskQuotaExceeded="DISK_QUOTA_EXCEEDED",h.PermissionDenied="PERMISSION_DENIED",h.FileSystemUnavailable="FileSystemUnavailable",(v=l||(l={})).Syncing="SYNCING",v.Clean="CLEAN",(m=c||(c={})).Dirty="DIRTY",m.Syncing="SYNCING",m.Clean="CLEAN"}}]);
//# sourceMappingURL=6083-b48c561e4fea1717.js.map