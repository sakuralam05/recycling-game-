!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d6e235c9-5ba7-40bc-acf9-1f07e4cea9a1",e._sentryDebugIdIdentifier="sentry-dbid-d6e235c9-5ba7-40bc-acf9-1f07e4cea9a1")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"ec45b404"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1072],{62611:function(e,t,r){r.d(t,{B:function(){return y},Z:function(){return u}});var n=r(21262),i=r(71440),h=r(63218),l=r(23409),o=r(33756),c=r(81542),d=r(33204);function a(){var e=(0,n._)(["\n  fragment ReplViewRepl on Repl {\n    id\n    title\n    timeCreated\n    imageUrl\n    releasesForkCount\n    publicForkCount\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n    authorizations {\n      editFileContents {\n        isAuthorized\n      }\n      editMetadata {\n        isAuthorized\n      }\n      publish {\n        isAuthorized\n      }\n    }\n    publishedAs\n    deployment {\n      id\n      activeRelease {\n        id\n        timeCreated\n      }\n    }\n    ...ReplViewReplTitleRepl\n    ...ReplViewReplViewerRepl\n    ...ReplLinkRepl\n    ...ReplViewFooterRepl\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return a=function(){return e},e}function s(){var e=(0,n._)(["\n  fragment ReplViewCurrentUser on CurrentUser {\n    id\n    username\n    isSubscribed\n    ...ReplViewReplViewerCurrentUser\n    ...ReplViewReplActionsCurrentUser\n  }\n  ","\n  ","\n"]);return s=function(){return e},e}var u=(0,i.Ps)(a(),h.rv,o.Q,l.Y,c.A),y=(0,i.Ps)(s(),o.r,d.o3)},63218:function(e,t,r){r.d(t,{cu:function(){return y},rv:function(){return s}});var n=r(41733),i=r(21262),h=r(71440),l=r(33204),o=r(99165);function c(){var e=(0,i._)(["\n  fragment ReplViewReplTitleRepl on Repl {\n    id\n    title\n    iconUrl\n    templateInfo {\n      iconUrl\n    }\n    owner {\n      ... on User {\n        id\n        username\n      }\n      ... on Team {\n        id\n        username\n      }\n    }\n    ...ReplViewReplActionsPermissions\n  }\n  ","\n"]);return c=function(){return e},e}function d(){var e=(0,i._)(["\n  mutation ReplViewReplTitleUpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        ...ReplViewReplTitleRepl\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var a={},s=(0,h.Ps)(c(),l.jN),u=(0,h.Ps)(d(),s);function y(e){var t=(0,n._)({},a,e);return o.D(u,t)}},33756:function(e,t,r){r.d(t,{r:function(){return y},Q:function(){return u}});var n=r(21262),i=r(71440),h=r(30177),l=r(95420);function o(){var e=(0,n._)(["\n  fragment UseReplViewerRepl on Repl {\n    id\n    wasPosted\n    wasPublished\n    publishedAs\n    isProject\n    deployment {\n      id\n      activeRelease {\n        id\n        previewUrl: hostedUrl\n      }\n    }\n    replViewSettings {\n      id\n      defaultView\n      replFile\n    }\n    ...CrosisContextRepl\n  }\n  ","\n"]);return o=function(){return e},e}var c=(0,i.Ps)(o(),l.C),d=r(75728);function a(){var e=(0,n._)(["\n  fragment ReplViewReplViewerRepl on Repl {\n    id\n    publishedAs\n    publicForkCount\n    releasesForkCount\n    prodUrl: hostedUrl(dotty: true)\n    isProject\n    nextPagePathname\n    ...ReplViewerOutputOverlayRepl\n    ...UseReplViewerRepl\n    ...LikeButtonRepl\n  }\n  ","\n  ","\n  ","\n"]);return a=function(){return e},e}function s(){var e=(0,n._)(["\n  fragment ReplViewReplViewerCurrentUser on CurrentUser {\n    id\n    ...LikeButtonCurrentUser\n    ...CrosisContextCurrentUser\n  }\n  ","\n  ","\n"]);return s=function(){return e},e}var u=(0,i.Ps)(a(),h.sI,c,d.R7),y=(0,i.Ps)(s(),d.wO,l.D)},32571:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(27387),i=r(66626),h=r(96583),l=r(2993),o=r(45098),c=r(19393),d=r(46180),a=r(1813),s=r(50745),u=r(85438),y=r(50959),x=r(39126),f=r(36632),w=r(85421),g=r(32108),p=r(57253),Z=".lesson/lessonplan.md";function v(e){var t,r,v,m,b,R,k,C,V,S,_,F,T,P,U,E,L,D,B,I,A=e.currentUser,X=e.repl,z=e.enableDeeplinks,O=(0,i._)((0,y.useState)(null),2),M=O[0],G=O[1],W=(0,i._)((0,a.qg)(),2),N=W[0],j=W[1],H=(0,a.ic)(),Y=(0,i._)((0,y.useState)(function(){var e,t,r,n;return e=({onUnrecoverableError:(0,d.Z)({origin:"replView: useReplViewer/services/onUnrecoverableError",onNonBsodUnrecoverableError:function(e){G(e)},throwBsod:j})}).onUnrecoverableError,t=(0,l.ZP)({onUnrecoverableError:e}),r=(0,x.Z)({container:t}),n=(0,f.Z)({container:t,fs:r}),{container:t,fs:r,dotReplit:n}}),1)[0],J=Y.container,q=Y.fs,K=Y.dotReplit,Q=(0,y.useRef)((0,s.u9)()),$=(null===(I=X.replViewSettings)||void 0===I?void 0:I.defaultView)===u.dZ.ReplFile&&X.replViewSettings.replFile?X.replViewSettings.replFile:void 0,ee={type:"Readme"};X.isProject?ee={type:"LessonPlan"}:$&&(ee={type:"FilePath",path:$});var et=(0,i._)((0,y.useState)(function(){return{fs:q}}),2),er=et[0],en=et[1],ei=(0,i._)((0,y.useState)(Q.current),2),eh=ei[0],el=ei[1],eo=!!(!(null==er?void 0:er.deeplink)&&!Q.current),ec=(r=(t={fs:q,getEntrypoint:(0,y.useCallback)((0,n._)(function(){var e,t;return(0,h.Jh)(this,function(r){switch(r.label){case 0:return[4,K.getConfig()];case 1:return[2,null!==(t=null===(e=r.sent().config)||void 0===e?void 0:e.entrypoint)&&void 0!==t?t:null]}})}),[K]),preferredFile:ee,skip:!eo}).fs,v=t.getEntrypoint,m=t.skip,b=t.preferredFile,k=(R=(0,i._)((0,y.useState)(null),2))[0],C=R[1],(0,y.useEffect)(function(){if(!m){var e=!1;return Promise.all([(0,g.W)({dotReplit:v,fs:r}),(null==b?void 0:b.type)==="LessonPlan"?r.stat(Z):null,(null==b?void 0:b.type)==="FilePath"?r.stat(b.path):null]).then(function(t){var r=(0,i._)(t,3),n=r[0],h=n.entrypoint,l=n.readmeFile,o=r[1],c=r[2];if(!e){if((null==b?void 0:b.type)==="LessonPlan"&&o&&o.exists&&o.type===p.Tv.File){C(Z);return}if((null==b?void 0:b.type)==="FilePath"&&c&&c.exists&&c.type===p.Tv.File){C(b.path);return}if(h)C(h);else if((null==b?void 0:b.type)==="Readme"&&l){C(l);return}}}),function(){e=!0}}},[r,v,m,b]),k);S=(V={fs:q,currentDeeplink:null==er?void 0:er.deeplink,onChange:function(e){en({deeplink:null!=e?e:void 0,fs:q})},enabled:z}).currentDeeplink,_=V.onChange,F=V.fs,T=V.enabled,P=(0,y.useRef)(!1),U=(0,w.useRouter)(),E=(0,y.useCallback)((0,n._)(function(){var e,t,r,n;return(0,h.Jh)(this,function(i){switch(i.label){case 0:if(P.current)return[2];return[4,(0,s.mv)(F)];case 1:if(t=(e=i.sent()).path,r=e.line,n=e.col,!t)return _(null),[2];return _({path:t,line:r,col:n}),[2]}})}),[F,_]),D=(L=(0,i._)((0,y.useState)(!1),2))[0],B=L[1],(0,y.useEffect)(function(){D||E().then(function(){return B(!0)})}),(0,y.useEffect)(function(){if(T)return window.addEventListener("hashchange",E),function(){window.removeEventListener("hashchange",E)}},[T,E]),(0,y.useEffect)(function(){if(T&&S&&U.isReady){var e=(0,s.YM)(S),t=U.asPath;try{t=window.decodeURI(t)}catch(e){}if(!t.endsWith(e)){var r=U.asPath.includes("#")?U.asPath.slice(0,U.asPath.indexOf("#")):U.asPath;P.current=!0,U.replace({pathname:U.pathname,query:U.query},"".concat(r).concat(e),{shallow:!0}),P.current=!1}}},[F,S,T]),(0,y.useEffect)(function(){if((0,s.u9)()){var e=!1;return(0,s.mv)(q).then(function(t){var r=t.path,n=t.line,i=t.col;!e&&r&&en({fs:q,deeplink:{path:r,line:n,col:i}})}),function(){e=!0}}},[J,q,K]),(0,y.useEffect)(function(){eo&&ec&&en({fs:q,deeplink:{path:ec}})},[eo,ec,J,q,K]);var ed=(0,o.b)({repl:X,currentUser:A}),ea=eh||!!er,es=(0,c.S)();return(0,y.useEffect)(function(){if(ea&&ed&&J.getConnectionState()===l.em.DISCONNECTED)return J.connect({context:ed,getMinimumRetryDelayMs:es}),function(){J.close()}},[ea,J,ed,es]),{fs:q,openFile:function(e){en({fs:q,deeplink:e})},viewState:er,isFileTreeOpen:eh,setIsFileTreeOpen:el,bsodId:null==N?void 0:N.eventId,nonBsodUnrecoverableError:M,devClearBsod:function(){H()}}}},64051:function(e,t,r){r.d(t,{Z:function(){return K}});var n,i=r(74985),h=r(42516),l=r(43312),o=r(41733),c=r(98924),d=r(66626),a=r(62942),s=r(87502),u=r(17198),y=r(72093),x=r(50959);function f(e){var t=e.code,r=e.fontSize,n=e.hideGutter,h=(0,u.Gn)("indentSize","wrapping").preferences;return(0,i.tZ)("code",{css:[y.l0.p(4),y.l0.pl(4),y.l0.pr(2),!n&&y.l0.pl(64),y.l0.font.code,y.l0.fontSize(r||y.TV.fontSizeDefault),{lineHeight:y.TV.lineHeightSmall,overflowX:"auto",tabSize:h.indentSize},h.wrapping?{wordBreak:"break-word",whiteSpace:"break-spaces",overflowWrap:"anywhere"}:{whiteSpace:"pre"}],children:t})}function w(e){var t=e.code,r=(0,c._)(e,["code"]),n=(0,d._)((0,x.useState)(!1),2),h=n[0],l=n[1],u=(0,s.Z)(),y=u.ref,w=u.view;(0,x.useEffect)(function(){if(w)return l(!0),function(){return l(!1)}},[w]),(0,x.useEffect)(function(){w&&w.dispatch({changes:{from:0,to:w.state.doc.length,insert:t}})},[t,w]);var g=!h;return(0,i.BX)(i.HY,{children:[(0,i.tZ)(a.ZP,(0,o._)({ref:y,css:{height:g?0:"auto"},initialDoc:t,readOnly:!0},r)),g&&(0,i.tZ)(f,(0,o._)({code:t},r))]})}var g=r(11715),p=r(94778),Z=(0,l.F4)({"0%":{opacity:0},"100%":{opacity:.5}}),v=(0,l.iv)({overflow:"hidden",height:"100%",width:"100%","> svg":{opacity:0,animation:"".concat(Z," 200ms 250ms linear forwards"),height:"100%","@media (prefers-reduced-motion: reduce)":{animationDuration:"0ms",animationDelay:"400ms"}}});function m(){var e=(0,x.useId)();return(0,i.tZ)(p.G,{css:v,children:(0,i.BX)(g.Z,{speed:2,backgroundColor:y.TV.backgroundHighest,foregroundColor:y.TV.backgroundHigher,uniqueKey:e,children:[(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"0",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"0",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"128",y:"0",width:"144",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"280",y:"0",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"420",y:"0",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"476",y:"0",width:"144",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"20",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"20",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"128",y:"20",width:"192",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"328",y:"20",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"384",y:"20",width:"312",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"40",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"40",width:"0",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"60",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"60",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"80",y:"60",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"124",y:"60",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"180",y:"60",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"60",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"352",y:"60",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"408",y:"60",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"440",y:"60",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"532",y:"60",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"600",y:"60",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"644",y:"60",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"80",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"80",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"92",y:"80",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"148",y:"80",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"180",y:"80",width:"108",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"296",y:"80",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"364",y:"80",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"396",y:"80",width:"108",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"100",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"100",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"116",y:"100",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"256",y:"100",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"276",y:"100",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"120",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"120",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"120",width:"96",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"268",y:"120",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"336",y:"120",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"140",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"140",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"140",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"256",y:"140",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"324",y:"140",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"464",y:"140",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"532",y:"140",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"600",y:"140",width:"156",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"160",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"160",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"160",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"304",y:"160",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"372",y:"160",width:"144",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"180",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"180",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"200",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"200",width:"0",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"220",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"220",width:"96",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"152",y:"220",width:"264",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"424",y:"220",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"240",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"240",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"116",y:"240",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"196",y:"240",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"216",y:"240",width:"312",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"260",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"260",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"104",y:"260",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"136",y:"260",width:"120",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"264",y:"260",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"344",y:"260",width:"120",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"472",y:"260",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"564",y:"260",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"608",y:"260",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"280",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"280",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"104",y:"280",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"136",y:"280",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"168",y:"280",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"224",y:"280",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"304",y:"280",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"348",y:"280",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"440",y:"280",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"508",y:"280",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"564",y:"280",width:"144",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"300",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"300",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"104",y:"300",width:"216",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"328",y:"300",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"360",y:"300",width:"96",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"464",y:"300",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"544",y:"300",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"320",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"320",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"152",y:"320",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"340",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"340",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"340",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"244",y:"340",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"264",y:"340",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"404",y:"340",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"424",y:"340",width:"144",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"360",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"360",width:"96",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"200",y:"360",width:"144",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"380",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"380",width:"108",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"380",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"400",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"400",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"420",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"420",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"440",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"440",width:"0",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"460",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"460",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"92",y:"460",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"148",y:"460",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"168",y:"460",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"460",width:"144",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"480",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"480",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"128",y:"480",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"172",y:"480",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"228",y:"480",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"248",y:"480",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"500",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"500",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"500",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"520",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"520",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"540",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"540",width:"300",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"404",y:"540",width:"204",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"560",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"560",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"580",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"580",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"580",width:"156",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"600",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"600",width:"24",height:"15"})]})})}var b=r(64510),R=r(22706),k=r(52399),C=r(36559),V=r(27387),S=r(96583),_=r(55460),F=r(11765),T=r.n(F),P=(0,l.iv)({cursor:"all-scroll",height:"100%",width:"100%",".excalidraw .App-toolbar-content":{display:"none"}}),U=(n=(0,V._)(function(){return(0,S.Jh)(this,function(e){return[2,Promise.all([r.e(6655),r.e(7454)]).then(r.t.bind(r,63668,23)).then(function(e){return e.Excalidraw})]})}),function(){return n.apply(this,arguments)}),E=T()(U,{ssr:!1,loading:function(){return null}});function L(e){var t=e.contents,r=e.key,n={scrollToContent:!0};try{n=(0,o._)({},n,JSON.parse(t||"{}"))}catch(e){}var h=(0,_.F)().isDarkColorScheme;return(0,i.tZ)("div",{css:P,children:(0,i.tZ)(E,{viewModeEnabled:!0,initialData:n,theme:h?"dark":"light"})},r)}var D=r(32681),B=r.n(D),I=r(79760),A=(0,l.iv)({width:"100%",height:"100%"});function X(e){var t=e.contents,r=e.isKbmsprite,n=(0,x.useRef)(null);return(0,x.useEffect)(function(){var e=n.current;if(e){e.width=e.offsetWidth,e.height=e.offsetHeight;var i=JSON.parse(t),h=B()({canvas:e,data:r?(0,I.C)(i):i,readonly:!0});return function(){h.cleanUp()}}},[t,r]),(0,i.tZ)("canvas",{css:A,ref:n})}var z=r(60772).j.tabletMin,O=r(36384);function M(e,t){return(0,o._)({},e,t)}var G={isLoading:!1,result:null,error:null,fileViewerType:null},W=r(49224),N=(0,l.F4)({"0%":{opacity:0},"100%":{opacity:1}}),j=(0,W.X)({root:{position:"absolute",top:0,left:0,display:"flex",justifyContent:"space-between",align:"stretch",height:"100%",width:"100%"},markdown:[y.l0.p(16),{wordBreak:"break-word",maxWidth:"840px",margin:"0 auto",overflowY:"auto",position:"relative",height:"100%"}],draw:{height:"100%",width:"100%"},"file-tree":[y.l0.backgroundColor.backgroundRoot,y.l0.borderRadius(4),(0,h._)({overflow:"auto",display:"none"},"@media screen and (min-width: ".concat(z,"px)"),{display:"block",width:"260px"})],content:{flex:"1 1 auto",width:"100%",height:"100%",overflowY:"auto",position:"relative"},fileLoader:[y.l0.p(16),{width:"100%",position:"absolute",top:0,left:0,zIndex:100,opacity:0,animation:"".concat(N," ease 0s forwards"),animationDelay:"200ms"}],media:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},error:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}});function H(e){var t,r,n,h,l,o,c=e.fs,a=e.deeplink,s=null==a?void 0:a.path,u=(r=(t={fs:c,path:s}).fs,n=t.path,l=(h=(0,d._)((0,x.useReducer)(M,G),2))[0],o=h[1],(0,x.useEffect)(function(){if(!n){o(G);return}var e=!1,t=(0,O.V)(n);return o({isLoading:!0,fileViewerType:t}),r.readFile(n).then(function(r){if(!e){if(r.error){o({isLoading:!1,result:null,error:{path:n,fileViewerType:t,error:r.error}});return}o({isLoading:!1,result:{path:n,fileViewerType:t,content:r.content},error:null})}}),function(){e=!0}},[r,n]),l);return(0,i.tZ)("div",{css:j.root,children:(0,i.BX)("div",{css:j.content,children:[!u.isLoading&&u.result&&u.result.fileViewerType===O.D.Media?(0,i.tZ)("div",{css:j.media,children:(0,i.tZ)(R.A,{content:k.Z.from(u.result.content).toString("base64"),mime:(0,C.yC)(u.result.path)})}):null,u.isLoading&&u.fileViewerType===O.D.Media?(0,i.tZ)("div",{css:j.fileLoader,children:(0,i.tZ)(m,{})}):null,!u.isLoading&&u.result&&u.result.fileViewerType===O.D.Markdown?(0,i.tZ)("div",{css:j.markdown,children:(0,i.tZ)(b.Z,{path:u.result.path,source:u.result.content.toString(),fs:c,sourcePos:!1})}):null,u.isLoading&&u.fileViewerType===O.D.Markdown?(0,i.tZ)("div",{css:j.fileLoader,children:(0,i.tZ)(m,{})}):null,!u.isLoading&&u.result&&u.result.fileViewerType===O.D.Draw?(0,i.tZ)("div",{css:j.draw,children:(0,i.tZ)(L,{contents:u.result.content.toString()},u.result.path)}):null,u.isLoading&&u.fileViewerType===O.D.Draw?(0,i.tZ)("div",{css:j.fileLoader,children:(0,i.tZ)(m,{})}):null,!u.isLoading&&u.result&&u.result.fileViewerType===O.D.Code?(0,i.tZ)(w,{filePath:u.result.path,code:u.result.content.toString(),fontSize:14}):null,u.isLoading&&u.fileViewerType===O.D.Code?(0,i.tZ)("div",{css:j.fileLoader,children:(0,i.tZ)(m,{})}):null,!u.isLoading&&u.result&&u.result.fileViewerType===O.D.Pedit?(0,i.tZ)(X,{contents:u.result.content.toString(),isKbmsprite:!!(null==s?void 0:s.endsWith(".kbmsprite"))}):null,!u.isLoading&&u.error?(0,i.tZ)("div",{css:j.error,children:(0,i.BX)("div",{children:["Could not load ",u.error.path]})}):null]})})}var Y=r(64479),J=r(37833),q=(0,W.X)({root:[y.l0.display.flex,y.l0.colWithGap(2),y.l0.flex.growAndShrink(1),y.l0.position.relative,y.l0.overflow("hidden")],breadcrumbs:[y.l0.flex.shrink(0),y.l0.px(2),y.l0.py(6),{borderBottom:"1px solid ".concat(y.TV.backgroundHigher)}],code:[y.l0.flex.grow(1),y.l0.position.relative],fileViewer:[y.l0.width("100%"),y.l0.height("100%"),y.l0.position.absolute,y.l0.top(0),y.l0.left(0)]});function K(e){var t=e.deeplink,r=e.fs;return(0,i.BX)(Y.Tg,{css:q.root,elevated:!0,children:[(0,i.tZ)(p.G,{css:q.breadcrumbs,children:(0,i.tZ)(J.tr,{path:t.path,onFileClick:function(){},expandable:!1})}),(0,i.tZ)(p.G,{css:q.code,children:(0,i.tZ)(H,{fs:r,deeplink:t})})]})}},64874:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(42516),i=r(74985),h=r(94778),l=r(49224),o=r(72093),c=r(64051),d=r(73459),a=r(88503),s=(0,l.X)({root:[o.l0.position.relative,o.l0.flex.grow(1),o.l0.flex.row],filetree:[o.l0.position.absolute,o.l0.width(200),o.l0.height("100%"),o.l0.top(0),o.l0.right("100%"),o.l0.backgroundColor.backgroundRoot,o.l0.px(6),(0,n._)({transform:"translateX(0)",zIndex:1,transition:"transform 0.2s ease"},o.BC.min("tabletMin"),[o.l0.width(240)])],filetreeOpen:{transform:"translateX(100%)"},code:[o.l0.flex.grow(1)]});function u(e){var t,r=e.isFiletreeOpen,n=e.onToggleFiletree,l=e.viewer;return(0,i.BX)(h.G,{css:s.root,children:[(0,i.tZ)(h.G,{css:[s.filetree,r&&s.filetreeOpen],children:(0,i.tZ)(a.Z,{fs:l.fs,onFileSelect:function(e){l.openFile({path:e.path}),n()}})}),(0,i.tZ)(h.G,{css:s.code,children:(null===(t=l.viewState)||void 0===t?void 0:t.deeplink)?(0,i.tZ)(c.Z,{deeplink:l.viewState.deeplink,fs:l.viewState.fs}):(0,i.tZ)(d.Z,{})})]})}},73459:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(74985),i=r(64479),h=r(94778),l=r(49224),o=r(72093),c=(0,l.X)({root:[o.l0.display.flex,o.l0.colWithGap(2),o.l0.flex.growAndShrink(1),o.l0.position.relative,o.l0.borderRadius(4),o.l0.overflow("hidden")],breadcrumbs:[o.l0.flex.shrink(0),o.l0.px(2),o.l0.py(6),{borderBottom:"1px solid ".concat(o.TV.backgroundHigher)}],code:[o.l0.flex.grow(1),o.l0.position.relative],fileViewer:[o.l0.width("100%"),o.l0.height("100%")]});function d(){return(0,n.tZ)(i.Tg,{css:c.root,elevated:!0,children:(0,n.tZ)(h.G,{css:c.code})})}},88503:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(74985),i=r(25129),h=r(90005);function l(e){var t=e.fs,r=e.onFileSelect,l=(0,i.p)({readOnly:!0,fs:t,onFileSelect:r,filter:function(e){return!(0,h.Ci)(e.filename)}});return(0,n.tZ)(i.s,{store:l.store})}},81542:function(e,t,r){r.d(t,{A:function(){return d}});var n=r(21262),i=r(71440),h=r(23409);function l(){var e=(0,n._)(["\n  fragment ReplViewSourceRepl on Repl {\n    id\n    iconUrl\n    title\n    templateLabel\n    ...ReplLinkRepl\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function o(){var e=(0,n._)(["\n  fragment ReplViewFooterRepl on Repl {\n    id\n    description\n    lastPublishedAt\n    timeCreated\n    publishedAs\n    publicForkCount\n    deployment {\n      id\n      activeRelease {\n        id\n        timeCreated\n      }\n    }\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n        followerCount\n        isFollowedByCurrentUser\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n        followerCount\n        isFollowedByCurrentUser\n      }\n    }\n    source {\n      release {\n        id\n      }\n      deployment {\n        id\n        repl {\n          id\n          ...ReplViewSourceRepl\n        }\n      }\n    }\n    tags {\n      id\n    }\n    origin {\n      id\n      ...ReplViewSourceRepl\n    }\n  }\n  ","\n"]);return o=function(){return e},e}var c=(0,i.Ps)(l(),h.Y),d=(0,i.Ps)(o(),c)},61416:function(e,t,r){r.d(t,{R:function(){return s}});var n=r(66626),i=r(74985),h=r(43312),l=r(94778),o=r(72093),c=r(30826),d=r.n(c),a=r(50959),s=function(e){var t=e.children,r=e.gap,c=void 0===r?32:r,s=(0,n._)((0,a.useState)(!1),2),u=s[0],y=s[1],x=(0,n._)((0,a.useState)(0),2),f=x[0],w=x[1],g=(0,n._)((0,a.useState)(0),2),p=g[0],Z=g[1],v=(0,a.useRef)(null),m=(0,a.useRef)(null);(0,a.useEffect)(function(){var e=d()(function(){v.current&&m.current&&(w(v.current.offsetWidth),Z(m.current.offsetWidth)),f>p?y(!0):y(!1)},100);return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}},[f,p]);var b=(f+c)*32,R=3e3/b*100,k=(0,h.F4)("\n    0% { transform: translateX(0%); }\n    ".concat(Math.min(Math.max(R,1),99),"% { transform: translateX(0%); }\n    100% { transform: translateX(calc(-100% - ").concat(c,"px)); }\n  ")),C={animation:u?"".concat(k," ").concat(b,"ms linear infinite"):"none"};return(0,i.tZ)("div",{ref:m,css:[o.l0.width("100%"),o.l0.overflow("hidden"),u?{maskImage:"linear-gradient(to left, transparent, black 16px, black)"}:null],children:(0,i.BX)(l.G,{css:[o.l0.flex.row,o.l0.width("max-content")],children:[(0,i.tZ)("div",{ref:v,css:C,children:t}),u?(0,i.tZ)("div",{"aria-hidden":!0,css:[C,{marginLeft:c}],children:t}):null]})})}}}]);
//# sourceMappingURL=1072-70eedf3148d78ea6.js.map