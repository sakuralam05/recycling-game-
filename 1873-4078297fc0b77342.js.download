!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8ec4e056-7612-40e4-b7e5-c9fcd645555f",e._sentryDebugIdIdentifier="sentry-dbid-8ec4e056-7612-40e4-b7e5-c9fcd645555f")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"ec45b404"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1873],{41873:function(e,n,t){t.d(n,{Z:function(){return t4}});var r,i,l,o,a,s,c=t(42516),u=t(66626),d=t(74985),h=t(27387),p=t(96583),m=t(28690),f=t(59786),v=t(29609),g=t(98984),y=t(15235),Z=t(18060),b=t(45271),C=t(99236),w=t(78803),x=t(82230),_=t(64432),B=t(94778),G=t(59947),I=t(76575),T=t(73789),U=t(19003),P=t(55821),S=t(72093),k=t(24857),X=t(85438),R=t(50959),A=t(41733),D=t(21262),E=t(71440),W=t(99165),N=t(58995);function V(){var e=(0,D._)(["\n  fragment AccountAccountCurrentUser on CurrentUser {\n    id\n    email\n    isVerified\n    verifiedPhoneNumber\n    locale\n    replContinent {\n      id\n      name\n    }\n  }\n"]);return V=function(){return e},e}function M(){var e=(0,D._)(["\n  mutation AccountUpdateEmail($email: String!, $password: String!) {\n    updateEmail(email: $email, password: $password) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return M=function(){return e},e}function L(){var e=(0,D._)(["\n  mutation AccountUpdatePassword(\n    $currentPassword: String!\n    $newPassword: String!\n  ) {\n    updatePassword(\n      currentPassword: $currentPassword\n      newPassword: $newPassword\n    ) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n      }\n    }\n  }\n"]);return L=function(){return e},e}function z(){var e=(0,D._)(["\n  mutation AccountDeleteAccount {\n    deleteAccount\n  }\n"]);return z=function(){return e},e}function F(){var e=(0,D._)(["\n  mutation AccountSelectReplContinent($input: SelectReplContinentInput!) {\n    selectReplContinent(input: $input) {\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return F=function(){return e},e}function Y(){var e=(0,D._)(["\n  query AccountGetAvailableReplContinents {\n    replContinents {\n      __typename\n      ... on ReplContinentsOutput {\n        continents {\n          id\n          name\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return Y=function(){return e},e}var O={},H=(0,E.Ps)(V()),$=(0,E.Ps)(M(),H),j=(0,E.Ps)(L()),q=(0,E.Ps)(z()),K=(0,E.Ps)(F(),H),Q=(0,E.Ps)(Y());function J(){var e=(0,D._)(["\n  fragment AccountEmailSettingsCurrentUser on CurrentUser {\n    id\n    emailNotifications\n    marketingNotifications\n  }\n"]);return J=function(){return e},e}function ee(){var e=(0,D._)(["\n  mutation AccountEmailSettingsUpdate($input: UpdateCurrentUserInput!) {\n    updateCurrentUser(input: $input) {\n      id\n      ...AccountEmailSettingsCurrentUser\n    }\n  }\n  ","\n"]);return ee=function(){return e},e}var en={},et=(0,E.Ps)(J()),er=(0,E.Ps)(ee(),et),ei=t(87128),el=t(49224),eo=(0,el.X)({styles0:[S.l0.align.start],styles1:[S.l0.pr(8)]});function ea(e){var n=e.children;return"string"!=typeof n?null:(0,d.tZ)(B.G,{css:eo.styles0,children:(0,d.tZ)(C.E,{icon:(0,d.tZ)(ei.Z,{}),colorway:"negative",text:n,css:eo.styles1})})}var es=t(99266),ec=t(39732),eu=t(11894),ed=(0,el.X)({styles0:[S.l0.colWithGap(16)],styles1:[S.l0.fontWeight.medium],styles2:[S.l0.rowWithGap(16)],styles3:[S.l0.flex.column,{width:"calc(50% - 8px)"}],styles4:[S.l0.flex.column,{width:"calc(50% - 8px)"}],styles5:[S.l0.rowWithGap(12),S.l0.justify.end],styles6:[S.l0.colWithGap(8)],styles7:[S.l0.flex.row,S.l0.justify.spaceBetween],styles8:[S.l0.colWithGap(4)],styles9:[S.l0.fontWeight.medium],styles10:[S.l0.colWithGap(16)],styles11:[S.l0.fontWeight.medium],styles12:[S.l0.rowWithGap(16)],styles13:[S.l0.flex.column,{width:"calc(50% - 8px)"}],styles14:[S.l0.flex.column,{width:"calc(50% - 8px)"}],styles15:[S.l0.rowWithGap(12),S.l0.justify.end],styles16:[S.l0.colWithGap(8)],styles17:[S.l0.flex.row,S.l0.justify.spaceBetween],styles18:[S.l0.colWithGap(4)],styles19:[S.l0.fontWeight.medium],styles20:[S.l0.rowWithGap(8),S.l0.align.center],styles21:[S.l0.fontWeight.medium],styles22:[S.l0.colWithGap(16)],continentSelectContainer:[(0,c._)({},S.BC.max(385),{leftMargin:0,width:"100%"})],styles26:[S.l0.colWithGap(8)],continentInputRow:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.start,(0,c._)({},S.BC.max(385),{flexDirection:"column",gap:"8px"})],styles28:[S.l0.colWithGap(4)],styles29:[S.l0.colWithGap(16)],styles30:[S.l0.flex.column],styles31:[S.l0.fontWeight.medium],styles32:[S.l0.colWithGap(24)],styles33:[S.l0.rowWithGap(12),S.l0.justify.end],styles34:[S.l0.rowWithGap(4),S.l0.align.center],styles35:[S.l0.fontWeight.medium],styles36:[S.l0.rowWithGap(4),S.l0.align.center],styles37:[S.l0.fontWeight.medium],styles38:[S.l0.colWithGap(24),S.l0.p(16)],styles39:[S.l0.border({color:S.TV.outlineDimmest,direction:"top"}),S.l0.p(16)],loadingContinentSelect:[S.l0.backgroundColor.backgroundDefault,es.p.backgroundPulse(),S.l0.borderRadius(4),S.l0.p(8),S.l0.height(24),S.l0.minWidth(200)],loadingContinentTitle:[S.l0.backgroundColor.backgroundDefault,es.p.backgroundPulse(),S.l0.borderRadius(4),S.l0.p(4),S.l0.height(20),S.l0.minWidth(30)],continentSelect:[S.l0.minWidth(160)]});function eh(e){var n,t,r=e.currentUser,i=(0,u._)((0,R.useState)(!1),2),l=i[0],o=i[1],a=(0,u._)((0,R.useState)(!1),2),s=a[0],c=a[1],m=(0,u._)((0,R.useState)(null),2),f=m[0],b=m[1],w=(0,v.Y)("",g.Z.email),_=(0,v.Y)("",g.Z.password),T=(0,u._)((n=(0,A._)({},O,{onError:function(){return b("Something went wrong, try reloading the page and try again")},onCompleted:function(e){var n;(null===(n=e.updateEmail)||void 0===n?void 0:n.__typename)==="UserError"?b(e.updateEmail.message):(o(!1),c(!0),_.setValue(""))}}),W.D($,n)),2),P=T[0],S=T[1].loading,k=(t=(0,h._)(function(e){var n,t;return(0,p.Jh)(this,function(r){switch(r.label){case 0:return e.preventDefault(),w.value&&_.value||b("Please fill in all fields"),[4,w.validate()];case 1:if(null==(n=r.sent())?void 0:n.message)return b(null==n?void 0:n.message),[2];return[4,_.validate()];case 2:if(null==(t=r.sent())?void 0:t.message)return b(null==t?void 0:t.message),[2];return P({variables:{email:w.value,password:_.value}}),[2]}})}),function(e){return t.apply(this,arguments)});return l?(0,d.tZ)("form",{onSubmit:k,children:(0,d.BX)(B.G,{css:ed.styles0,children:[(0,d.tZ)(x.h4,{level:2,css:ed.styles1,children:"Update your email"}),(0,d.BX)(B.G,{css:ed.styles2,children:[(0,d.BX)(B.G,{css:ed.styles3,children:[(0,d.tZ)("label",{htmlFor:"newEmail",children:(0,d.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New email"})}),(0,d.tZ)(Z.II,{id:"newEmail",placeholder:"your@email.com",onChange:function(e){return w.setValue(e.target.value)},value:w.value})]}),(0,d.BX)(B.G,{css:ed.styles4,children:[(0,d.tZ)("label",{htmlFor:"passwordConfirmation",children:(0,d.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Password confirmation"})}),(0,d.tZ)(Z.II,{id:"passwordConfirmation",type:"password",placeholder:"••••••••••••",onChange:function(e){return _.setValue(e.target.value)},value:_.value})]})]}),f?(0,d.tZ)(ea,{children:f}):null,(0,d.BX)(B.G,{css:ed.styles5,children:[(0,d.tZ)(y.zx,{onClick:function(){return o(!1)},text:"Cancel"}),(0,d.tZ)(y.zx,{disabled:S,colorway:"primary",type:"submit",text:S?"Updating...":"Update",iconLeft:(0,d.tZ)(G.Z,{})})]})]})}):(0,d.BX)(B.G,{css:ed.styles6,children:[(0,d.BX)(B.G,{css:ed.styles7,children:[(0,d.BX)(B.G,{css:ed.styles8,children:[(0,d.tZ)(x.xv,{css:ed.styles9,children:"Your email"}),(0,d.tZ)(x.xv,{children:r.email})]}),(0,d.tZ)(y.zx,{variant:"outlined",onClick:function(){return o(!0)},text:"Edit",iconLeft:(0,d.tZ)(I.Z,{})})]}),s?(0,d.tZ)(C.E,{colorway:"positive",icon:(0,d.tZ)(G.Z,{}),text:"Visit the verification link sent to ".concat(w.value," to complete your email change.")}):null,s||r.isVerified?null:(0,d.tZ)(C.E,{colorway:"negative",icon:(0,d.tZ)(U.Z,{}),text:"Your email is unverified! Click on the link we sent you to fix this."})]})}function ep(){var e,n=(0,u._)((0,R.useState)(!1),2),t=n[0],r=n[1],i=(0,u._)((0,R.useState)(!1),2),l=i[0],o=i[1],a=(0,u._)((0,R.useState)(null),2),s=a[0],c=a[1],h=(0,v.Y)("",function(e){if(e.length<0)return{message:"Must include password"}}),p=(0,v.Y)("",function(e){if(e.length<0)return{message:"Must include password"}}),m=(0,u._)((e=(0,A._)({},O,{onError:function(){return c("Something went wrong")},onCompleted:function(e){var n;(null===(n=e.updatePassword)||void 0===n?void 0:n.__typename)==="UserError"?c(e.updatePassword.message):(c(null),r(!1),o(!0),p.setValue(""),h.setValue(""))}}),W.D(j,e)),2),f=m[0],g=m[1].loading;return t?(0,d.tZ)("form",{onSubmit:function(e){e.preventDefault(),f({variables:{newPassword:h.value,currentPassword:p.value}})},children:(0,d.BX)(B.G,{css:ed.styles10,children:[(0,d.tZ)(x.h4,{level:2,css:ed.styles11,children:"Update your password"}),(0,d.BX)(B.G,{css:ed.styles12,children:[(0,d.BX)(B.G,{css:ed.styles13,children:[(0,d.tZ)("label",{htmlFor:"currentPassword",children:(0,d.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Current password"})}),(0,d.tZ)(Z.II,{id:"currentPassword",type:"password",placeholder:"••••••••••••",onChange:function(e){return p.setValue(e.target.value)},value:p.value})]}),(0,d.BX)(B.G,{css:ed.styles14,children:[(0,d.tZ)("label",{htmlFor:"newPassword",children:(0,d.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New password"})}),(0,d.tZ)(Z.II,{id:"newPassword",type:"password",placeholder:"••••••••••••",onChange:function(e){return h.setValue(e.target.value)},value:h.value})]})]}),s?(0,d.tZ)(ea,{children:s}):null,(0,d.BX)(B.G,{css:ed.styles15,children:[(0,d.tZ)(y.zx,{onClick:function(){return r(!1)},text:"Cancel"}),(0,d.tZ)(y.zx,{disabled:g,colorway:"primary",type:"submit",text:g?"Updating...":"Update",iconLeft:(0,d.tZ)(G.Z,{})})]})]})}):(0,d.BX)(B.G,{css:ed.styles16,children:[(0,d.BX)(B.G,{css:ed.styles17,children:[(0,d.BX)(B.G,{css:ed.styles18,children:[(0,d.tZ)(x.xv,{css:ed.styles19,children:"Your password"}),(0,d.tZ)(x.xv,{children:"••••••••••••"})]}),(0,d.tZ)(y.zx,{variant:"outlined",onClick:function(){return r(!0)},text:"Edit",iconLeft:(0,d.tZ)(I.Z,{})})]}),l?(0,d.tZ)(C.E,{colorway:"positive",icon:(0,d.tZ)(G.Z,{}),text:"Password updated"}):null]})}function em(e){var n,t,r,i,l=e.currentUser,o=(r={},(0,c._)(r,X.aG.Na,"North America"),(0,c._)(r,X.aG.Asia,"Asia"),r),a=(i={},(0,c._)(i,X.aG.Na,"Continental United States"),(0,c._)(i,X.aG.Asia,"Mumbai, India"),i),s=(0,u._)((0,R.useState)(!1),2),h=s[0],p=s[1],m=(0,u._)((0,R.useState)(null),2),f=m[0],v=m[1],g=(0,R.useRef)(null);(0,R.useEffect)(function(){return function(){g.current&&clearTimeout(g.current)}},[]);var y=(n=(0,A._)({},O,{}),N.a(Q,n)),Z=y.data,b=y.loading,w=(null==Z?void 0:Z.replContinents.__typename)==="ReplContinentsOutput"?Z.replContinents.continents:[],I=w.map(function(e){return{value:e.id,title:o[e.id],subtitle:a[e.id],name:e.name,taller:!0}}),U=l.replContinent,P=I.find(function(e){return e.value===U.id}),k=function(e,n){null!==g.current&&clearTimeout(g.current),g.current=setTimeout(e,n)},D=(0,u._)((t=(0,A._)({},O,{onError:function(){v("Something went wrong"),k(function(){v(null)},4e3)},onCompleted:function(e){var n;(null===(n=e.selectReplContinent)||void 0===n?void 0:n.__typename)==="CurrentUser"?(v(null),p(!0),k(function(){p(!1)},4e3)):(v(e.selectReplContinent.message),k(function(){v(null)},4e3))}}),W.D(K,t)),2),E=D[0],V=D[1].loading,M=function(e){var n,t=null===(n=w.find(function(n){return n.id===e}))||void 0===n?void 0:n.id;t!==U.id&&E({variables:{input:{continent:t}}})},L=(0,d.BX)(B.G,{css:ed.styles20,children:[(0,d.tZ)(x.xv,{css:ed.styles21,children:"Your server location"}),(0,d.tZ)(_.u,{tooltip:"Select a server location closest to you for the best possible experience.",children:(0,d.tZ)(T.Z,{color:S.TV.foregroundDimmer})})]}),z=(0,d.tZ)(B.G,{css:ed.continentSelectContainer,children:b?(0,d.tZ)(B.G,{css:ed.loadingContinentSelect}):(0,d.tZ)(eu.P,{css:ed.continentSelect,placeholder:"Select your server location",initialSelectedItem:P,items:I,onChange:function(e){return M(e.value)}})});return(0,d.BX)(B.G,{css:ed.styles26,children:[(0,d.BX)(B.G,{css:ed.continentInputRow,children:[(0,d.BX)(B.G,{css:ed.styles28,children:[L,(0,d.tZ)(x.xv,{children:V||b?(0,d.tZ)(B.G,{css:ed.loadingContinentTitle}):null==P?void 0:P.title})]}),z]}),f?(0,d.tZ)(C.E,{colorway:"negative",icon:(0,d.tZ)(ec.Z,{}),text:f}):null,h?(0,d.tZ)(C.E,{colorway:"positive",icon:(0,d.tZ)(G.Z,{}),text:"Server location updated"}):null]})}function ef(){var e,n,t=(0,u._)((0,R.useState)(!1),2),r=t[0],i=t[1],l=(0,u._)((0,R.useState)(null),2),o=l[0],a=l[1],s=(0,u._)((e={onError:function(){return a("Something went wrong")},onCompleted:(0,h._)(function(){return(0,p.Jh)(this,function(e){switch(e.label){case 0:return[4,(0,m.w7)()];case 1:return e.sent(),window.location.href="/logout",[2]}})})},n=(0,A._)({},O,e),W.D(q,n)),2),c=s[0],f=s[1],v=f.data,g=f.loading,Z=(null==v?void 0:v.deleteAccount)===!0;return(0,d.BX)(B.G,{css:ed.styles29,children:[(0,d.BX)(B.G,{css:ed.styles30,children:[(0,d.tZ)(x.xv,{css:ed.styles31,children:"Danger Zone"}),(0,d.tZ)(x.xv,{color:"dimmer",children:"Irreversible and destructive actions"})]}),(0,d.tZ)(y.zx,{onClick:function(){return i(!0)},colorway:"negative",variant:"outlined",text:"Request account deletion",css:{alignSelf:"flex-start"},iconLeft:(0,d.tZ)(P.Z,{})}),o?(0,d.tZ)(ea,{children:o}):null,(0,d.tZ)(b.u,{isOpen:r,onRequestClose:function(){return i(!1)},children:(0,d.BX)(B.G,{css:ed.styles32,children:[(0,d.tZ)(x.h4,{variant:"headerDefault",level:2,children:"Delete Account"}),(0,d.tZ)(x.xv,{children:"All your hosted Repls and content will be taken down within 24 hours. This cannot be undone."}),(0,d.BX)(B.G,{css:ed.styles33,children:[(0,d.tZ)(y.zx,{text:"Cancel",disabled:g||Z,onClick:function(){return i(!1)}}),(0,d.tZ)(y.zx,{iconLeft:(0,d.tZ)(P.Z,{}),disabled:g||Z,onClick:function(){return c()},text:"Yes, Delete my Account",colorway:"negative"})]})]})})]})}function ev(e){var n,t=e.currentUser,r=(0,u._)((0,R.useState)(null),2),i=r[0],l=r[1],o=(0,u._)((n=(0,A._)({},en,{onError:function(){return l("Something went wrong")},onCompleted:function(){return l(null)}}),W.D(er,n)),2),a=o[0],s=o[1].loading;return(0,d.BX)(k.gC,{spacing:2,align:"stretch",children:[(0,d.BX)(k.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,d.BX)(B.G,{css:ed.styles34,children:[(0,d.tZ)(x.xv,{color:"default",css:ed.styles35,children:"Receive transactional notifications via email"}),(0,d.tZ)(_.u,{tooltip:"Transactional emails can be important notifications about your deployment status, bounties chat updates, balance-related reminders, and other product-related communication that can improve the product experience.",children:(0,d.tZ)(T.Z,{color:S.TV.foregroundDimmer})})]}),(0,d.tZ)(w.r,{isSelected:t.emailNotifications,onChange:function(){s||a({variables:{input:{emailNotifications:!t.emailNotifications}}})},"aria-labelledby":"receive-email-product-notifications"})]}),(0,d.BX)(k.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,d.BX)(B.G,{css:ed.styles36,children:[(0,d.tZ)(x.xv,{color:"default",css:ed.styles37,children:"Receive marketing notifications"}),(0,d.tZ)(_.u,{tooltip:"Marketing emails can be about new features, products, and other updates we think can be interesting for you to know. This preference can take up to 24 hours to update.",children:(0,d.tZ)(T.Z,{color:S.TV.foregroundDimmer})})]}),(0,d.tZ)(w.r,{isSelected:t.marketingNotifications,onChange:function(){s||a({variables:{input:{marketingNotifications:!t.marketingNotifications}}})},"aria-labelledby":"receive-marketing-notifications"})]}),i?(0,d.tZ)(ea,{children:i}):null]})}function eg(e){var n=e.currentUser,t=(0,f.P5)({controlName:"select-geo-continent",logFlagToAnalytics:!1});return(0,d.BX)(B.G,{children:[(0,d.BX)(B.G,{css:ed.styles38,children:[(0,d.tZ)(eh,{currentUser:n}),(0,d.tZ)(ep,{}),t?(0,d.tZ)(em,{currentUser:n}):null,(0,d.tZ)(ev,{currentUser:n})]}),(0,d.tZ)(B.G,{css:ed.styles39,children:(0,d.tZ)(ef,{})})]})}var ey=(0,el.X)({container:[S.l0.colWithGap(24),S.l0.p(16)],row:[S.l0.flex.row,S.l0.justify.spaceBetween],cell:[S.l0.colWithGap(4)],label:[S.l0.fontWeight.medium]});function eZ(e){var n=e.currentUser;return(0,d.tZ)(B.G,{css:ey.container,children:(0,d.tZ)(B.G,{css:ey.row,children:(0,d.BX)(B.G,{css:ey.cell,children:[(0,d.tZ)(x.xv,{css:ey.label,children:"Your email"}),(0,d.tZ)(x.xv,{children:n.email})]})})})}var eb=t(13618),eC=t(69170),ew=t(85995),ex=t(88686),e_=t(85638),eB=t(33359),eG=t(29318),eI=t(95966),eT=t(27769);function eU(){var e=(0,D._)(["\n  fragment IsYearlyBillingCurrentUser on CurrentUser {\n    id\n    billingInfo {\n      planInfo {\n        interval\n      }\n    }\n  }\n"]);return eU=function(){return e},e}function eP(){var e=(0,D._)(['\n  fragment AccountBillingCurrentUser on CurrentUser {\n    id\n    ...IsYearlyBillingCurrentUser\n    userSubscription {\n      isTrial\n      timeRemainingInTrial\n    }\n    billingInfo {\n      planInfo {\n        provider\n        amount\n        description\n        nextPaymentDue\n        interval\n        cancelAt\n        coupon {\n          percent\n          amount\n          endAt\n        }\n      }\n      expiration\n    }\n    cycles {\n      transactions(count: 1) {\n        items {\n          id\n          time_created\n        }\n      }\n    }\n    customer {\n      id\n      stripeCustomerId\n    }\n    hasUsageUtopia: gate(feature: "flag-usage-utopia")\n  }\n  ',"\n"]);return eP=function(){return e},e}function eS(){var e=(0,D._)(["\n  mutation BillingModalSetBillingPeriod($input: SetTrialBillingPeriodInput!) {\n    setTrialBillingPeriod(input: $input) {\n      __typename\n      ... on Error {\n        message\n      }\n      ... on SetTrialBillingPeriodResult {\n        currentUser {\n          id\n          ...IsYearlyBillingCurrentUser\n        }\n      }\n    }\n  }\n  ","\n"]);return eS=function(){return e},e}var ek={},eX=(0,E.Ps)(eU()),eR=(0,E.Ps)(eP(),eX),eA=(0,E.Ps)(eS(),eX),eD=t(43509),eE=t(14375),eW=t(35163),eN=(0,el.X)({styles0:[S.l0.flex.row,S.l0.align.center,S.l0.pb(8)]}),eV=(0,el.X)({subsectionContainer:[S.l0.colWithGap(12),S.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+S.TV.outlineDimmest}}],planButtonLink:[S.l0.width("fit-content")],sectionDivider:[S.l0.width("100%"),S.l0.height(1),S.l0.backgroundColor.outlineDimmest],detailsGrid:{display:"grid",gridTemplateColumns:"96px auto",rowGap:4,columnGap:32}});function eM(e){var n,t,r,i,l=e.currentUser,o=null==l?void 0:l.hasUsageUtopia,a=null==l?void 0:null===(t=l.billingInfo)||void 0===t?void 0:null===(n=t.planInfo)||void 0===n?void 0:n.provider,s=(null==l?void 0:null===(r=l.cycles.transactions)||void 0===r?void 0:r.items.length)!=null&&(null==l?void 0:null===(i=l.cycles.transactions)||void 0===i?void 0:i.items.length)>0,c=a===X.Cs.Apple||a===X.Cs.Google?"Resource usage payment details":"Payment details";return(0,d.BX)(B.G,{children:[(0,d.BX)(B.G,{css:eV.subsectionContainer,children:[(0,d.tZ)(x.xv,{variant:"subheadDefault",children:"Your plan"}),(0,d.tZ)(eF,{currentUser:l}),o?null:(0,d.tZ)(e_.Z,{href:"/cycles",variant:"outlined",text:"See your Cycles purchases and usage",iconLeft:(0,d.tZ)(eB.Z,{}),css:eV.planButtonLink})]}),(0,d.BX)(B.G,{css:eV.subsectionContainer,children:[(0,d.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:c}),(0,d.tZ)(ex.S,{})]}),o?(0,d.BX)(B.G,{css:eV.subsectionContainer,children:[(0,d.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Cycles"}),s?(0,d.tZ)(eL,{}):(0,d.tZ)(e_.Z,{href:"/cycles",variant:"outlined",text:"Buy Cycles",iconLeft:(0,d.tZ)(eB.Z,{}),css:eV.planButtonLink})]}):null]})}function eL(){var e=(0,eb.Z)({forceFetch:!1}),n=e.formattedBalanceWithDecimals,t=e.error,r=(0,d.tZ)(x.xv,{children:"Loading balance..."});return n?r=(0,d.BX)(d.HY,{children:[(0,d.tZ)(eB.Z,{size:16,css:{marginRight:2}}),(0,d.tZ)(x.xv,{multiline:!1,children:n})]}):t&&(r=(0,d.tZ)(C.E,{icon:(0,d.tZ)(ei.Z,{}),colorway:"warning",text:"Unable to load your balance. Try refreshing the page."})),(0,d.BX)(B.G,{children:[(0,d.tZ)(B.G,{css:eN.styles0,children:r}),(0,d.tZ)(e_.Z,{href:"/cycles",variant:"outlined",text:"View Cycles transactions",css:eV.planButtonLink})]})}function ez(e){var n,t,r=e.currentUser,i=r.billingInfo,l=r.userSubscription,o=(0,eC.Z)(),a=o.showConfirm,s=o.showError,c=(0,u._)((n=(0,A._)({},ek,{onCompleted:function(){a("Your billing period has been updated.")},onError:function(){s("Unable to update billing period.")}}),W.D(eA,n)),2),h=c[0],p=c[1].loading,m=null==l?void 0:l.isTrial,f=(0,ew.DC)(null==i?void 0:null===(t=i.planInfo)||void 0===t?void 0:t.interval),v=(0,eD.z)({planPrefix:eE.dO,planPeriod:"monthly"}).costInUsdCents,g=(0,eD.z)({planPrefix:eE.dO,planPeriod:"yearly"}).costInUsdCents,Z="monthly"===f;if(!m||!f)return null;var b=g&&v?(0,eW.$d)(12*v-g):void 0;return(0,d.tZ)(y.zx,{text:Z?b?"Save ".concat(b," with yearly billing"):"Save with yearly billing":"Switch to monthly billing",variant:"outlined",colorway:Z?"blurple":void 0,disabled:p,iconLeft:p?(0,d.tZ)(eG.Z,{}):void 0,onClick:function(){h({variables:{input:{billingPeriod:"yearly"===f?X.qh.Monthly:X.qh.Yearly}}})}})}function eF(e){var n=e.currentUser,t=n.billingInfo,r=n.customer,i=null==t?void 0:t.planInfo,l=null==i?void 0:i.provider,o=(null==i?void 0:i.nextPaymentDue)?new Date(i.nextPaymentDue):null,a=(null==i?void 0:i.cancelAt)?new Date(i.cancelAt):null,s=(null==t?void 0:t.expiration)?new Date(t.expiration):null,c=null==i?void 0:i.coupon,u=(null==c?void 0:c.endAt)?new Date(c.endAt):void 0,h="",p=u?"until "+u.toDateString():"forever";c&&c.amount?h="Your plan is discounted by $".concat((c.amount/100).toFixed(2)," ").concat(p,"."):c&&c.percent&&(h="Your plan is discounted by ".concat(c.percent,"% ").concat(p,"."));var m=new Date,f=!!s&&m>s,v="You'll retain your ".concat(t?"paid ":"","benefits ")+(s?"until "+s.toDateString():"for a very long time.");return(l===X.Cs.Apple||l===X.Cs.Google)&&i?(0,d.tZ)(eT.Z,{planName:i.description,provider:l}):(0,d.BX)(d.HY,{children:[f||o||!i?null:(0,d.tZ)(x.xv,{variant:"small",multiline:!1,children:v}),a?(0,d.tZ)(C.E,{icon:(0,d.tZ)(ei.Z,{}),colorway:"warning",text:"Your plan will be automatically canceled on ".concat(a.toDateString(),". Boosted Repls in your plan's quota will automatically be un-Boosted. Repls Boosted through Cycles will remain unaffected.")}):null,c?(0,d.tZ)(C.E,{icon:(0,d.tZ)(eI.Z,{}),colorway:"positive",text:h}):null,(0,d.BX)(B.G,{css:eV.detailsGrid,children:[!f&&i?(0,d.BX)(d.HY,{children:[(0,d.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Plan"}),(0,d.tZ)(x.xv,{color:"default",multiline:!1,children:i.description})]}):null,!f&&o?(0,d.BX)(d.HY,{children:[(0,d.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Next payment"}),(0,d.tZ)(x.xv,{multiline:!1,children:o.toDateString()})]}):null,(null==i?void 0:i.amount)?(0,d.BX)(d.HY,{children:[(0,d.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Amount"}),(0,d.BX)(x.xv,{multiline:!1,children:["$",i.amount/100," per ",i.interval]}),(0,d.tZ)(B.G,{css:{gridColumn:"span 2",alignItems:"flex-start"},children:(0,d.tZ)(ez,{currentUser:n})})]}):null,f||o||!s?null:(0,d.BX)(d.HY,{children:[(0,d.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Expiration"}),(0,d.tZ)(x.xv,{multiline:!1,children:s.toDateString()})]})]}),(null==r?void 0:r.stripeCustomerId)||(null==i?void 0:i.provider)===X.Cs.Stripe?(0,d.tZ)(d.HY,{children:(0,d.BX)(x.xv,{children:["To update your subscription payment method, cancel subscription, or view invoices, ",(0,d.tZ)("a",{href:"/stripe-customer-portal",children:"click here"}),"."]})}):(0,d.tZ)(x.xv,{multiline:!1,children:"No billing information"})]})}var eY=t(43182),eO=t(1516),eH=t(82527),e$=t(56023),ej=t(64318),eq=t(66958),eK=t(96955),eQ=t(9052),eJ=t(83003);function e0(){var e=(0,D._)(["\n  fragment AccountConnectedServicesCurrentUser on CurrentUser {\n    id\n    githubAuth: auth(provider: GITHUB) {\n      provider\n    }\n    googleAuth: auth(provider: GOOGLE) {\n      provider\n    }\n    facebookAuth: auth(provider: FACEBOOK) {\n      provider\n    }\n    appleAuth: auth(provider: APPLE) {\n      provider\n    }\n  }\n"]);return e0=function(){return e},e}function e1(){var e=(0,D._)(["\n  query AccountConnectedServices {\n    currentUser {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return e1=function(){return e},e}function e2(){var e=(0,D._)(["\n  mutation AccountConnectedServicesDisconnectAuthProvider(\n    $provider: UserAuthProviders!\n  ) {\n    disconnectAuthProvider(provider: $provider) {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return e2=function(){return e},e}var e4={},e8=(0,E.Ps)(e0());e1();var e3=(0,E.Ps)(e2(),e8),e6=t(71407),e5=(0,el.X)({serviceContainer:[S.l0.colWithGap(16)],serviceRow:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.center],serviceName:[S.l0.fontWeight.medium],multiButtonWrapper:[S.l0.justify.spaceBetween,S.l0.rowWithGap(4)]}),e9=function(e){switch(e){case X.x9.Apple:return"apple.com";case X.x9.Facebook:return"facebook.com";case X.x9.Github:return"github.com";case X.x9.Google:return"google.com";default:(0,eK.Z)(e)}};function e7(e){var n,t,r,i,l,o=e.currentUser,a=(0,eO.L)().user,s=(0,eC.Z)().showConfirm,c=(0,e6.v)({onAuth:function(){s("Successfully updated settings")}}),v=(0,f.P5)({controlName:"flag-github-repo-access-setting",logFlagToAnalytics:!1}),g=null!==(l=null==a?void 0:a.providerData)&&void 0!==l?l:[],Z=(0,u._)((0,R.useState)(null),2),C=Z[0],w=Z[1],_=(0,u._)((0,R.useState)(null),2),G=_[0],T=_[1],U=(0,e$.J)(),P=(0,u._)((n={onError:function(){return w("Something went wrong")},onCompleted:(0,h._)(function(){return(0,p.Jh)(this,function(e){return[2,w(null)]})})},t=(0,A._)({},e4,n),W.D(e3,t)),2),S=P[0],k=P[1],D=(r=(0,h._)(function(e){var n,t;return(0,p.Jh)(this,function(r){switch(r.label){case 0:if(a)return[3,1];return eY.Tb(Error("Tried to connect OAuth provider without SDK user")),w("Please log out and log back in to connect external services. We're sorry for the inconvenience."),[2];case 1:return n=e9(e),[4,(0,m.Ps)(a,n)];case 2:"error"===(t=r.sent()).type&&("provider-exists"===t.treatment?w("This provider is already linked to your account."):w("Something unexpected happened. Please try again.")),r.label=3;case 3:return[2]}})}),function(e){return r.apply(this,arguments)}),E=(i=(0,h._)(function(e){var n,t,r,i;return(0,p.Jh)(this,function(l){switch(l.label){case 0:if(n=e.provider,t=e.name,a)return[3,1];return eY.Tb(Error("Received OAuth disconnect request without SDK user")),[3,3];case 1:return r=e9(n),[4,(0,m.xV)(a,r)];case 2:if("error"===(i=l.sent()).type)switch(i.treatment){case"provider-not-linked":w("".concat(t," isn't linked to your account."));break;case"unhandled":case"unknown":w("Something unexpected happened when attempting to remove this provider. Please try again.");break;default:(0,eK.Z)(i)}l.label=3;case 3:return S({variables:{provider:n.toUpperCase()}}),T(null),[2]}})}),function(e){return i.apply(this,arguments)});return(0,R.useEffect)(function(){var e;(0,m.WT)().then((e=(0,h._)(function(e){var n,t,r,i;return(0,p.Jh)(this,function(l){switch(l.label){case 0:if("success"!==e.type)return[3,7];if((null===(n=e.result)||void 0===n?void 0:n.providerId)!==eQ._i)return[3,6];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,(0,eH.d8)(e.result.user)];case 2:if("error"===(t=l.sent()).type)throw Error(t.message);return[3,4];case 3:return r=l.sent(),eY.Tb(r),[2];case 4:return[4,U({userCredential:e.result,oauthProviderId:eQ._i,scopes:[]})];case 5:"error"===(i=l.sent()).type&&w(i.message),l.label=6;case 6:return[2];case 7:switch(e.treatment){case"credential-conflict":w("This provider cannot be used, please try another method.");break;case"email-conflict":w("This email cannot be used, please try another method.");break;case"forbidden-operation":w("That action is not permitted");break;case"user-needs-email":w("Adding this provider failed because it doesn't have an associated email address.");break;case"requires-provider-link":case"timeout":case"unhandled":case"unknown":w("Something unexpected happened, please try again.");break;default:(0,eK.Z)(e)}return[2]}})}),function(n){return e.apply(this,arguments)})).catch(function(e){return eY.Tb(e)})},[]),(0,d.BX)(B.G,{css:e5.serviceContainer,children:[[{name:"GitHub",provider:X.x9.Github,isConnected:o.githubAuth,connectionSettings:v?(0,d.tZ)(y.zx,{text:"Manage",onClick:c,iconLeft:(0,d.tZ)(I.Z,{}),disabled:k.loading}):null},{name:"Google",provider:X.x9.Google,isConnected:o.googleAuth},{name:"Facebook",provider:X.x9.Facebook,isConnected:o.facebookAuth},{name:"Apple",provider:X.x9.Apple,isConnected:o.appleAuth}].map(function(e){var n=e.name,t=e.provider,r=e.isConnected,i=e.connectionSettings,l=e9(t),o=g.find(function(e){return e.providerId===l}),a=null!=r?r:void 0!==o;return(0,d.BX)(B.G,{css:e5.serviceRow,children:[(0,d.tZ)(x.xv,{color:a?"default":"dimmest",css:e5.serviceName,children:n}),(0,d.tZ)("div",{children:a?(0,d.BX)(B.G,{css:e5.multiButtonWrapper,children:[void 0===i?null:i,(0,d.tZ)(y.zx,{onClick:function(){return T({name:n,provider:t})},text:"Disconnect",variant:"outlined",disabled:k.loading,iconLeft:(0,d.tZ)(ej.Z,{})})]}):(0,d.tZ)(y.zx,{onClick:function(){return D(t)},text:"Connect",iconLeft:(0,d.tZ)(eq.Z,{})})})]},t)}),C?(0,d.tZ)(ea,{children:C}):null,(0,d.tZ)(b.u,{isOpen:null!==G,onRequestClose:function(){return T(null)},children:G?(0,d.tZ)(eJ.Z,{confirmLabel:"Yes, disconnect this service",isDestructive:!0,title:"Disconnect ".concat(G.name),onCancel:function(){return T(null)},onConfirm:function(){return E(G)},children:"Are you sure you want to disconnect this service? You can reconnect it at any time."}):null})]})}var ne=t(30509),nn=t(80952),nt=t(93006),nr=t(19068),ni=t(17519),nl=t(48311),no=t(72121),na=t(641),ns=t(47336),nc=t.n(ns);function nu(){var e=(0,D._)(["\n  fragment AccountProfileCurrentUser on CurrentUser {\n    id\n    username\n    fullName\n    canChangeUsername\n    firstName\n    lastName\n    bio\n    hasPrivacyRole\n    hasProfileImage\n    image\n    isSubscribed\n    url\n  }\n"]);return nu=function(){return e},e}function nd(){var e=(0,D._)(["\n  mutation AccountProfileCurrentUserUpdate($input: UpdateCurrentUserInput!) {\n    updateCurrentUser(input: $input) {\n      id\n      ...AccountProfileCurrentUser\n    }\n  }\n  ","\n"]);return nd=function(){return e},e}var nh={},np=(0,E.Ps)(nu()),nm=(0,E.Ps)(nd(),np),nf=t(92168),nv=(0,el.X)({ruiInput:[S.l0.height(32),{cursor:"not-allowed",border:"none",fontSize:"".concat(S.TV.fontSizeDefault," !important"),backgroundColor:"".concat(nr.vb.interactiveBackground," !important"),transition:"border-color 120ms ease-out !important","&":{borderRadius:"".concat(S.TV.space4," !important")},":not(:disabled)":{borderColor:"".concat(nr.vb.interactiveBorder," !important")},"&:hover":{borderColor:"".concat(nr.vb.interactiveBorderHover," !important"),transitionDuration:"0ms !important"},"&:focus":{outline:"2px solid ".concat(S.TV.accentPrimaryDefault," !important")}}],profile:[(i={},(0,c._)(i,S.BC.min("mobileMax"),[S.l0.display.flex]),(0,c._)(i,"textarea",[S.l0.display.block,S.l0.minHeight(42),S.l0.height(100),S.l0.my(4),S.l0.p(8),S.l0.width("100%"),S.l0.fontSize(S.TV.fontSizeSubheadDefault),S.l0.font.default,S.l0.borderRadius(4),S.l0.border({color:S.TV.outlineDimmest,width:1}),S.l0.color.foregroundDefault,{resize:"none",transition:"0.1s box-shadow",backgroundColor:"transparent"}]),(0,c._)(i,"textarea:hover",[S.l0.border({color:S.TV.accentPrimaryDefault})]),(0,c._)(i,"textarea:focus, textarea:active",[S.l0.border({color:S.TV.accentPrimaryDefault}),{outline:"none"}]),i)],profileInfo:[S.l0.flex.growAndShrink(1)],profileImage:[S.l0.pb(16),(0,c._)({flex:"0 0 auto"},S.BC.min("mobileMax"),[S.l0.pr(16),S.l0.pb(0),{width:"calc(128px + ".concat(S.TV.space16,")")}])],profileImageContent:[S.l0.colWithGap(8),S.l0.width(128)],profileFormActions:[S.l0.flex.row,S.l0.justify.end,(0,c._)({gap:12},S.BC.max("mobileMax"),[S.l0.flex.column,{gap:8}])],error:[S.l0.py(8),S.l0.color.accentNegativeDefault],saveButtonLoading:[es.p.backgroundPulse(S.TV.accentPrimaryDimmest,S.TV.accentPrimaryDimmer)]});function ng(e){var n,t,r=e.currentUser,i=(0,u._)((0,R.useState)(null),2),l=i[0],o=i[1],a=(0,u._)((0,R.useState)(!1),2),s=a[0],c=a[1],m=(0,R.useRef)(r.bio),f=(0,u._)((n=(0,A._)({},nh,{onError:function(e){o(e.message||"Something went wrong. Please try again.")},onCompleted:function(){return o(null)}}),W.D(nm,n)),2),g=f[0],Z=f[1].loading,C=(0,v.Y)(r.firstName||"",function(e){if(e.length>250)return{message:"First name must be less than ".concat(250," characters.")}}),w=(0,v.Y)(r.lastName||"",function(e){if(e.length>250)return{message:"Last name must be less than ".concat(250," characters.")}}),x=(0,v.Y)(r.bio||"",function(e){if(e.length>140)return{message:"Bio name must be less than ".concat(140," characters.")}}),_=(t=(0,h._)(function(e){return(0,p.Jh)(this,function(n){switch(n.label){case 0:return e.preventDefault(),[4,g({variables:{input:{firstName:C.value,lastName:w.value,bio:x.value}}})];case 1:return n.sent(),m.current!==x.value&&((0,nt.w)({source:"profile",surface:"bio"}),m.current=x.value),[2]}})}),function(e){return t.apply(this,arguments)});return(0,d.BX)("div",{children:[(0,d.BX)("div",{css:nv.profile,children:[(0,d.tZ)("div",{css:nv.profileImage,children:(0,d.BX)(B.G,{css:nv.profileImageContent,children:[(0,d.tZ)(nf.Z,{currentUser:r,onChange:function(e){return g({variables:{input:{profileImageId:e.imageId}}})}}),r.hasProfileImage?(0,d.tZ)(y.zx,{iconLeft:(0,d.tZ)(P.Z,{}),text:"Remove photo",size:"small",variant:"outlined",onClick:function(){return c(!0)}}):null]})}),(0,d.tZ)("div",{css:nv.profileInfo,children:(0,d.tZ)(k.gC,{wrap:"nowrap",spacing:4,align:"stretch",children:(0,d.tZ)("form",{onSubmit:_,children:(0,d.BX)(k.gC,{wrap:"nowrap",spacing:4,align:"stretch",children:[(0,d.tZ)(k.gC,{wrap:"nowrap",align:"end",children:(0,d.tZ)(nl.ZP,{css:nv.ruiInput,disabled:!0,description:r.canChangeUsername?(0,d.BX)(d.HY,{children:["* You can change your username"," ",(0,d.tZ)(nc(),{legacyBehavior:!0,href:"/~/cli/account/change-username",children:"through the CLI"})," ","once"]}):"* You cannot change your username",value:r.username})}),(0,d.BX)(k.gC,{wrap:"nowrap",align:"stretch",spacing:2,children:[(0,d.BX)(k.Ug,{spacing:2,wrap:"nowrap",children:[(0,d.tZ)(nl.ZP,{css:nv.ruiInput,label:"First name",onChange:function(e){return C.setValue(e.target.value)},value:C.value,validationResults:C.error?[{message:C.error.message,state:"error"}]:void 0}),(0,d.tZ)(nl.ZP,{css:nv.ruiInput,label:"Last name",onChange:function(e){return w.setValue(e.target.value)},value:w.value,validationResults:w.error?[{message:w.error.message,state:"error"}]:void 0})]}),(0,d.BX)("div",{children:[(0,d.tZ)(no.Z,{tag:"label",foreground:2,size:"xsmall",children:"Bio"}),(0,d.tZ)("textarea",{css:nv.ruiInput,maxLength:140,value:x.value,onChange:function(e){return x.setValue(e.target.value)},placeholder:"Add a bio"}),(0,d.BX)(no.Z,{size:"xsmall",foreground:3,children:["* ",x.value.length," / ",140," characters"]})]})]}),l?(0,d.tZ)(ea,{children:l}):null,(0,d.BX)(B.G,{css:nv.profileFormActions,children:[(0,d.tZ)(e_.Z,(0,ne._)((0,A._)({},(0,na.Ru)({username:r.username,id:r.id,url:r.url})),{iconLeft:(0,d.tZ)(ni.Z,{}),text:"View my public profile"})),(0,d.tZ)(y.zx,{disabled:Z,colorway:"primary",type:"submit",iconLeft:Z?(0,d.tZ)(eG.Z,{}):(0,d.tZ)(G.Z,{}),text:"Save Changes",css:Z&&nv.saveButtonLoading})]})]})})})})]}),(0,d.tZ)(b.u,{isOpen:s,onRequestClose:function(){return c(!1)},children:(0,d.tZ)(nn.Z,{name:"profile photo",entityType:"photo",delete:function(){g({variables:{input:{profileImageId:null}}})},hideModal:function(){return c(!1)}})})]})}var ny=t(4565),nZ=t(6595),nb=t(64479);function nC(){var e=(0,D._)(["\n  fragment ReplIdentityCurrentUser on CurrentUser {\n    id\n    hasReplitIdentityTesting: hasRole(role: REPLIT_IDENTITY_TESTING)\n  }\n"]);return nC=function(){return e},e}function nw(){var e=(0,D._)(["\n  query ReplIdentity {\n    allowedReplIdentityRepls {\n      ... on AllowedReplIdentityReplsOutput {\n        repls {\n          ... on Repl {\n            id\n            title\n            iconUrl\n          }\n        }\n      }\n    }\n  }\n"]);return nw=function(){return e},e}function nx(){var e=(0,D._)(["\n  mutation AddReplIdentityAllowedRepl(\n    $input: AddReplIdentityAllowedReplInput!\n  ) {\n    addReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return nx=function(){return e},e}function n_(){var e=(0,D._)(["\n  mutation DeleteReplIdentityAllowedRepl(\n    $input: DeleteReplIdentityAllowedReplInput!\n  ) {\n    deleteReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return n_=function(){return e},e}var nB={},nG=(0,E.Ps)(nC()),nI=(0,E.Ps)(nw()),nT=(0,E.Ps)(nx()),nU=(0,E.Ps)(n_()),nP=(0,el.X)({styles0:[S.l0.pt(8),S.l0.colWithGap(8)],styles1:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.center,S.l0.p(8),S.l0.borderRadius(8)],styles2:[S.l0.rowWithGap(8)],styles3:[S.l0.color.foregroundDefault,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}]});function nS(){var e,n,t,r,i=(0,u._)((0,R.useState)(null),2),l=i[0],o=i[1],a=(0,u._)((e=(0,A._)({},nB,{onError:function(){return o("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.addReplIdentityAllowedRepl.__typename?o(e.addReplIdentityAllowedRepl.message):(o(null),b())}}),W.D(nT,e)),2),s=a[0],c=a[1].loading,h=(0,u._)((n=(0,A._)({},nB,{onError:function(){return o("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.deleteReplIdentityAllowedRepl.__typename?o(e.deleteReplIdentityAllowedRepl.message):(o(null),b())}}),W.D(nU,n)),2),p=h[0],m=h[1].loading,f=(t=(0,A._)({},nB,void 0),N.a(nI,t)),v=f.data,g=f.loading,Z=f.error,b=f.refetch;if(g)return(0,d.tZ)(eG.Z,{});var C=(null==v?void 0:null===(r=v.allowedReplIdentityRepls)||void 0===r?void 0:r.__typename)==="AllowedReplIdentityReplsOutput"?v.allowedReplIdentityRepls.repls:[];return(0,d.BX)(k.gC,{spacing:2,align:"stretch",children:[(0,d.tZ)(k.Ug,{spacing:1,align:"center",justify:"space-between",children:(0,d.tZ)(x.xv,{color:"default",multiline:!1,children:"Allow Repls to act as you when authenticating to Replit public APIs."})}),(0,d.tZ)(nZ.Z,{disabled:c,filter:function(e){return!C.find(function(n){return n.id===e.id})},excludeMultiplayer:!1,manualSelect:!0,onSelect:function(e){C.find(function(n){return n.id===e.id})||s({variables:{input:{replId:e.id}}})},showComboBox:!0}),C.length>0?(0,d.BX)(B.G,{css:nP.styles0,children:[(0,d.tZ)(x.h4,{level:3,variant:"subheadDefault",children:"Currently Authorized Repls"}),C.map(function(e){return e?(0,d.BX)(nb.Tg,{background:"higher",css:nP.styles1,children:[(0,d.BX)(B.G,{css:nP.styles2,children:[(0,d.tZ)(ny.Z,{size:16,alt:e.title,iconUrl:e.iconUrl}),(0,d.tZ)(x.xv,{multiline:!1,css:nP.styles3,children:e.title})]}),(0,d.tZ)(y.zx,{disabled:m,variant:"outlined",onClick:function(){return p({variables:{input:{replId:e.id}}})},text:"Remove"})]},e.id):null})]}):(0,d.tZ)("p",{children:"You haven't authorized any Repls yet."}),l?(0,d.tZ)(ea,{children:l}):null,"string"==typeof Z?(0,d.tZ)(ea,{children:Z}):null]})}var nk=t(17198),nX=t(83805),nR=t(71089),nA=t(72370),nD=(0,el.X)({preferencesContainer:[S.l0.colWithGap(24)],preference:[S.l0.rowWithGap(8),S.l0.justify.spaceBetween],labelTitle:[S.l0.fontWeight.medium]});function nE(){var e=(0,nk.Gn)("extraDelight"),n=e.preferences,t=e.update,r=(0,nX.$0)().fireCircularBurstFrom,i=(0,nA.U)(),l=(0,R.useRef)(null);return(0,d.tZ)(B.G,{css:nD.preferencesContainer,children:(0,d.BX)(B.G,{css:nD.preference,children:[(0,d.BX)(B.G,{tag:"label",htmlFor:i("delight"),children:[(0,d.tZ)(x.xv,{css:nD.labelTitle,children:"Extra delight mode"}),(0,d.tZ)(x.xv,{color:"dimmer",children:"Experience extra moments of joy"})]}),(0,d.tZ)(nR.X,{ref:l,id:i("delight"),checked:n.extraDelight,onChange:function(e){e&&l.current&&r({element:l.current}),t({extraDelight:e})}})]})})}var nW=t(54501);function nN(){var e=(0,D._)(["\n  fragment AccountUserRolesCurrentUser on CurrentUser {\n    id\n    roles {\n      id\n      key\n    }\n  }\n"]);return nN=function(){return e},e}function nV(){var e=(0,D._)(["\n  mutation AccountUserRolesUpdateRole($role: UserRoles!, $flag: Boolean!) {\n    updateRole(role: $role, flag: $flag) {\n      ... on CurrentUser {\n        id\n        ...AccountUserRolesCurrentUser\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return nV=function(){return e},e}var nM={},nL=(0,E.Ps)(nN()),nz=(0,E.Ps)(nV(),nL),nF=(0,el.X)({rolesContainer:[S.l0.colWithGap(24),S.l0.align.stretch],role:[S.l0.rowWithGap(8),S.l0.align.center,S.l0.justify.spaceBetween],label:[S.l0.fontWeight.medium]});function nY(e){var n,t=e.currentUser,r=(0,u._)((0,R.useState)(null),2),i=r[0],l=r[1],o=t.roles.map(function(e){return e.key}),a=(0,u._)((n=(0,A._)({},nM,{onError:function(){return l("Something went wrong")},onCompleted:function(e){var n;(null===(n=e.updateRole)||void 0===n?void 0:n.__typename)==="UserError"?l(e.updateRole.message):l(null)}}),W.D(nz,n)),2),s=a[0],c=a[1].loading;return(0,d.BX)(B.G,{css:nF.rolesContainer,children:[[{name:"Explorer",role:X.SM.Explorer}].map(function(e){var n=e.name,t=e.role,r=o.includes(t);return(0,d.BX)(R.Fragment,{children:[(0,d.BX)(B.G,{css:nF.role,children:[(0,d.tZ)(x.xv,{color:r?"default":"dimmest",css:nF.label,children:n}),(0,d.tZ)(w.r,{isSelected:r,onChange:function(){c||s({variables:{role:t,flag:!r}})},"aria-labelledby":"toggle-explorer-role"})]}),t===X.SM.Explorer?(0,d.tZ)(C.E,{icon:(0,d.tZ)(nW.Z,{}),colorway:"warning",text:"Explorers help Replit test new features, but sometimes we make mistakes. If something isn’t working right, please let us know. You can remove this role to hang up your explorer’s hat until we get things fixed."}):null]},t)}),i?(0,d.tZ)(ea,{children:i}):null]})}var nO=t(25012),nH=(0,el.X)({container:[S.l0.colWithGap(16)],row:[S.l0.rowWithGap(16),S.l0.justify.spaceBetween,S.l0.align.center],property:[S.l0.colWithGap(4)],label:[S.l0.fontWeight.medium]}),n$=function(e){var n=e.context,t=e.onSuccess,r=e.verifiedPhoneNumber;return r?(0,d.tZ)(B.G,{css:nH.container,children:(0,d.BX)(B.G,{css:nH.row,children:[(0,d.BX)(B.G,{css:nH.property,children:[(0,d.tZ)(x.xv,{css:nH.label,children:"Phone Number"}),(0,d.tZ)(x.xv,{children:r})]}),(0,d.tZ)(_.u,{placement:"left",tooltip:"Once verified, your phone number cannot be changed. Please contact support for assistance.",children:(0,d.tZ)(y.zx,{text:"Edit",iconLeft:(0,d.tZ)(I.Z,{}),variant:"outlined",disabled:!0})})]})}):(0,d.tZ)(nO.Z,{context:n,onSuccess:t,autoFocus:!1})},nj=t(54738),nq=t(94311),nK=t(73551),nQ=t(48345),nJ=t(43983),n0=t(72452),n1=t(79050),n2=t(15434),n4=t(16098),n8=t(18394),n3=t(60305),n6=t(1383),n5=t(18158),n9=t(41804);function n7(){var e=(0,D._)(["\n  query FeedbackCurrentUser {\n    currentUser {\n      id\n      ...HelpCurrentUser\n    }\n  }\n  ","\n"]);return n7=function(){return e},e}n7(),n9.H;var te=R.createContext(null),tn=n5.QY.MAX_DESCRIPTION_LENGTH,tt=n5.QY.MAX_TITLE_LENGTH,tr=function(e){var n=e.children,t=(0,u._)((0,R.useState)({title:"",value:""}),2),r=t[0],i=t[1],l=(0,v.Y)("",function(e){return!e||e.length<1?{message:"Must include title"}:e.length>tt?{message:"Must be no longer than ".concat(tt," characters")}:void 0}),o=(0,v.Y)("",function(e){return!e||e.length<1?{message:"Must include description"}:e.length>tn?{message:"Must be no longer than 5000 characters"}:void 0});return(0,d.tZ)(te.Provider,{value:{descriptionField:o,titleField:l,category:r,setCategory:i},children:n})},ti=function(){var e=(0,R.useContext)(te);if(null===e)throw Error("FeedbackFormContext missing!");return e},tl=n5.QY.MAX_TITLE_LENGTH,to=n5.QY.MAX_DESCRIPTION_LENGTH,ta={formTitle:"Share feedback",categoriesInput:!0,categoriesLabel:"What kind of feedback is this?",categoriesOptions:[{title:"Positive feedback",value:"positive"},{title:"Suggestion",value:"suggestion"},{title:"Something else",value:"other"}],descriptionLabel:"Please provide as much detail as possible *"},ts={formTitle:"Need to buy a lot of Cycles?",descriptionLabel:"Tell us more about your use case *"},tc={formTitle:"Share feedback on Replit AI",descriptionLabel:"Please provide as much detail as possible *"},tu={formTitle:"Share feedback on Ghostwriter",descriptionLabel:"Please provide as much detail as possible *"},td=(0,ne._)((0,A._)({},ta),{formTitle:"Contact support",categoriesInput:!0,categoriesLabel:"What kind of support request is this?",categoriesOptions:[{title:"Account issue",value:"account"},{title:"Billing issue",value:"billing"}],descriptionLabel:"Provide as much detail as possible *"}),th={formTitle:"Share feedback on Themes",descriptionLabel:"Please provide as much detail as possible *"};(r=l||(l={})).General="General",r.NeedsMoreCycles="NeedsMoreCycles",r.AI="AI",r.GhostWriter="GhostWriter",r.Support="Support",r.Themes="Themes";var tp=function(e){var n=e.setFeedbackFormOpen,t=e.feature,r=void 0===t?"Support":t,i=ti(),l=i.descriptionField,o=i.titleField,a=i.category,s=i.setCategory,c=td;"General"===r&&(c=ta),"NeedsMoreCycles"===r&&(c=ts),"AI"===r&&(c=tc),"GhostWriter"===r&&(c=tu),"Themes"===r&&(c=th);var u=c.formTitle,h=c.titleInput,p=c.titleLabel,m=c.descriptionLabel,f=c.categoriesInput,v=c.categoriesLabel,g=c.categoriesOptions,b=function(){l.setValue(""),o.setValue(""),s({title:"",value:""})},C=(0,nA.U)(),w=(0,d.tZ)(n6.Z,{});return(0,d.BX)(B.G,{css:[S.l0.colWithGap(16)],children:[(0,d.BX)(B.G,{css:[S.l0.colWithGap(8)],children:[(0,d.tZ)(x.h4,{level:1,variant:"subheadBig",children:u||"Share feedback"}),"Support"===r?(0,d.tZ)(x.xv,{variant:"small",multiline:!1,children:"We only provide support for account and billing issues."}):null]}),(0,d.tZ)(B.G,{tag:"form",onSubmit:function(e){if(e.preventDefault(),!(h&&o.validate()||l.validate())){var n="["+r+"]: ";h?n+=o.value:n+=l.value.substring(0,100);var t=new URL("https://ask.replit.com/new-topic");t.searchParams.append("category","Feature Requests"),t.searchParams.append("title",n),t.searchParams.append("body",a.title?"[".concat(a.title,"]: ").concat(l.value):l.value),window.open(t.toString()),(0,n3.j)(n3.U3.HELP_FORM_SUBMITTED,{title:u,category:a.title})}},children:(0,d.BX)(B.G,{css:[S.l0.colWithGap(16)],children:[h||f?(0,d.BX)(B.G,{css:[S.l0.colWithGap(8)],children:[(0,d.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Basic information"}),(0,d.BX)(B.G,{css:[S.l0.colWithGap(16)],children:[h?(0,d.BX)(B.G,{css:[S.l0.colWithGap(4)],children:[(0,d.BX)(B.G,{css:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.end,S.l0.color.foregroundDimmer],children:[(0,d.tZ)("label",{htmlFor:C("title"),children:(0,d.tZ)(x.xv,{variant:"small",multiline:!1,children:p||"Please provide a descriptive title"})}),(0,d.tZ)("label",{htmlFor:C("title"),children:(0,d.tZ)(n8.Z,{maxLength:tl,value:o.value,hideLabel:!0})})]}),(0,d.tZ)(Z.II,{value:o.value,onChange:function(e){return o.setValue(e.target.value)},id:C("title")})]}):null,f&&g?(0,d.BX)(B.G,{css:[S.l0.colWithGap(4)],children:[(0,d.tZ)(B.G,{css:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.end],children:(0,d.tZ)("label",{htmlFor:C("category"),children:(0,d.tZ)(x.xv,{variant:"small",color:"dimmer",multiline:!1,children:v||"What are you writing in about?"})})}),(0,d.tZ)(eu.P,{placeholder:"Choose...",items:g,onChange:function(e){return s(e)},id:C("category")})]}):null]})]}):null,(0,d.BX)(B.G,{css:[S.l0.colWithGap(8)],children:[(0,d.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Description"}),(0,d.BX)(B.G,{css:[S.l0.colWithGap(4)],children:[(0,d.BX)(B.G,{css:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.end,S.l0.color.foregroundDimmer],children:[(0,d.tZ)("label",{htmlFor:C("description"),children:(0,d.tZ)(x.xv,{variant:"small",children:m||"Provide more details, and if it's an issue, the steps to reproduce *"})}),(0,d.tZ)("label",{htmlFor:C("description"),children:(0,d.tZ)(n8.Z,{maxLength:to,value:l.value,hideLabel:!0})})]}),(0,d.tZ)(Z.B,{value:l.value,onChange:function(e){return l.setValue(e.target.value)},css:[S.l0.minHeight(100),{resize:"vertical"}],id:C("description")})]})]}),(0,d.tZ)(B.G,{css:[S.l0.rowReverseWithGap(2),S.l0.justify.spaceBetween,S.l0.align.end],children:(0,d.BX)(B.G,{css:[S.l0.rowWithGap(4),S.l0.align.end],children:[(0,d.tZ)(y.zx,{text:"Cancel",onClick:function(){b(),n(!1)}}),(0,d.tZ)(y.zx,{type:"submit",text:"Submit",colorway:"primary",disabled:h&&!o.isValid||!l.isValid,iconRight:w})]})})]})})]})},tm=function(e){var n=e.isOpen,t=e.setOpen,r=e.feature;return(0,d.tZ)(d.HY,{children:(0,d.tZ)(tr,{children:(0,d.tZ)(b.u,{isOpen:n,onRequestClose:function(){t(!1)},children:(0,d.tZ)(tp,{setFeedbackFormOpen:t,feature:r})})})})},tf=function(e){var n=e.feature,t=(0,u._)((0,R.useState)(!1),2),r=t[0],i=t[1];return(0,d.BX)(d.HY,{children:[(0,d.tZ)(B.G,{onClick:function(){return i(!r)},children:(0,d.tZ)(x.xv,{multiline:!1,css:[S.l0.fontSize("inherit"),S.l0.color.accentPrimaryStronger,S.l0.cursor.pointer,{":hover":{color:S.TV.accentPrimaryStrongest}}],children:"Share feedback"})}),(0,d.tZ)(tm,{feature:n,isOpen:r,setOpen:i})]})},tv=t(29252),tg=t(44693),ty=(0,el.X)({section:[S.l0.borderRadius(12)],self:[S.l0.colWithGap(8),S.l0.align.stretch,S.l0.position.relative],header:[S.l0.flex.row,S.l0.justify.spaceBetween,(0,c._)({},S.BC.max("mobileMax"),[S.l0.colWithGap(8)])],actions:[S.l0.align.center,S.l0.rowWithGap(8)],actionButton:[(0,c._)({},S.BC.max("mobileMax"),[{flexGrow:1}])],titleWrapper:[S.l0.rowWithGap(8),S.l0.align.baseline],linkAnchor:[{position:"absolute",top:"-80px"}]});function tZ(e){var n=e.title,t=e.children,r=(0,tg.oM)();return(0,d.BX)(B.G,{css:ty.self,children:[(0,d.tZ)(B.G,{css:ty.linkAnchor,id:"themes"}),(0,d.BX)(B.G,{css:ty.header,children:[(0,d.BX)(B.G,{css:ty.titleWrapper,children:[(0,d.tZ)(x.xv,{variant:"subheadBig",id:n.toLowerCase(),multiline:!1,children:n}),(0,d.tZ)(tf,{feature:l.Themes})]}),(0,d.BX)(B.G,{css:ty.actions,children:[(0,d.tZ)(e_.Z,{dataCy:"browse-themes-button",iconLeft:(0,d.tZ)(eq.Z,{}),text:"Browse Themes",href:r.href,as:r.as,css:ty.actionButton}),(0,d.tZ)(e_.Z,{dataCy:"create-theme-button",iconLeft:(0,d.tZ)(tv.Z,{}),text:"Create Theme",colorway:"primary",href:tg.ZS.href,as:tg.ZS.as,css:ty.actionButton})]})]}),(0,d.tZ)(nb.Tg,{elevated:!0,tag:"section",css:ty.section,children:t})]})}var tb=t(51461),tC=t(17761);function tw(){var e=(0,D._)(["\n  fragment ThemesPreferencesCustomTheme on CustomTheme {\n    id\n    title\n    slug\n    hasUnpublishedChanges\n    isCurrentUserThemeAuthor\n    ...DeleteDialogTheme\n    colorScheme\n    isInstalledByCurrentUser\n    currentUserInstalledThemeVersion {\n      id\n      values {\n        ...ThemesThemeValues\n      }\n    }\n    author {\n      id\n      ...ThemesCustomThemeUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return tw=function(){return e},e}function tx(){var e=(0,D._)(["\n  fragment ThemesPreferencesInstalledTheme on InstalledTheme {\n    id\n    customTheme {\n      id\n      ...ThemesPreferencesCustomTheme\n    }\n  }\n  ","\n"]);return tx=function(){return e},e}var t_=(0,E.Ps)(tw(),tb.LX,tC.x2,tC.sj),tB=(0,E.Ps)(tx(),t_);function tG(){var e=(0,D._)(["\n  query ThemesPreferencesCustomPanelCurrentUser(\n    $authoredThemesInput: CurrentUserAuthoredThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n          title\n        }\n      }\n      workspacePreferences\n      authoredThemes(input: $authoredThemesInput) {\n        ... on CustomThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesCustomTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return tG=function(){return e},e}var tI={},tT=(0,E.Ps)(tG(),t_),tU=t(27756),tP=(0,el.X)({self:[S.l0.colWithGap(12)]}),tS=function(){var e,n,t,r,i=(0,eC.Z)().showError,l=(0,nA.U)(),o=(0,u._)((0,R.useState)({count:6}),2),a=o[0],s=o[1],c=(e=(0,A._)({},tI,{variables:{authoredThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return i(e.message)},onCompleted:function(e){var n,t=null===(n=e.currentUser)||void 0===n?void 0:n.authoredThemes;((null==t?void 0:t.__typename)==="UnauthorizedError"||(null==t?void 0:t.__typename)==="UserError")&&i(t.message)}}),N.a(tT,e)),h=c.data,p=c.loading,m=c.fetchMore,f=((null==h?void 0:null===(t=h.currentUser)||void 0===t?void 0:null===(n=t.authoredThemes)||void 0===n?void 0:n.__typename)==="CustomThemeConnection"?h.currentUser.authoredThemes.items:[]).reduce(function(e,n){var t,r=null===(t=n.currentUserInstalledThemeVersion)||void 0===t?void 0:t.values;return void 0!==r?e.concat([(0,A._)({type:"custom",values:r},n)]):e},[]),v=(null==h?void 0:null===(r=h.currentUser)||void 0===r?void 0:r.authoredThemes.__typename)==="CustomThemeConnection"?h.currentUser.authoredThemes.pageInfo:void 0,g={onPrevClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.authoredThemes;(null==n?void 0:n.__typename)==="CustomThemeConnection"&&n.pageInfo.hasPreviousPage&&void 0!==n.pageInfo.previousCursor&&(s(function(e){return(0,ne._)((0,A._)({},e),{after:n.pageInfo.previousCursor})}),m({variables:{authoredThemesInput:{count:6,after:n.pageInfo.previousCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},onNextClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.authoredThemes;(null==n?void 0:n.__typename)==="CustomThemeConnection"&&n.pageInfo.hasNextPage&&void 0!==n.pageInfo.nextCursor&&(s(function(e){return(0,ne._)((0,A._)({},e),{after:n.pageInfo.nextCursor})}),m({variables:{authoredThemesInput:{count:6,after:n.pageInfo.nextCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},hasNext:null==v?void 0:v.hasNextPage,hasPrev:null==v?void 0:v.hasPreviousPage};return(0,d.BX)(B.G,{css:tP.self,children:[(0,d.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Custom Themes"}),(0,d.tZ)(tU.Z,{name:l("custom-themes"),themes:f,paginationOptions:g,themesLoading:p,emptyText:"Themes you create will appear here.",refetchOptions:{queryDoc:tT,input:a}})]})};function tk(){var e=(0,D._)(["\n  query ThemesPreferencesInstalledPanelCurrentUser(\n    $installedThemesInput: CurrentUserInstalledThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n        }\n      }\n      workspacePreferences\n      installedThemes(input: $installedThemesInput) {\n        ... on InstalledThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesInstalledTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return tk=function(){return e},e}var tX={},tR=(0,E.Ps)(tk(),tB),tA=(0,el.X)({self:[S.l0.colWithGap(12)]}),tD=function(){var e,n,t,r,i=(0,eC.Z)().showError,l=(0,nA.U)(),o=(0,u._)((0,R.useState)({count:6}),2),a=o[0],s=o[1],c=(e=(0,A._)({},tX,{variables:{installedThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return i(e.message)},onCompleted:function(e){var n,t=null===(n=e.currentUser)||void 0===n?void 0:n.installedThemes;((null==t?void 0:t.__typename)==="UnauthorizedError"||(null==t?void 0:t.__typename)==="UserError")&&i(t.message)}}),N.a(tR,e)),h=c.data,p=c.loading,m=c.fetchMore,f=((null==h?void 0:null===(t=h.currentUser)||void 0===t?void 0:null===(n=t.installedThemes)||void 0===n?void 0:n.__typename)==="InstalledThemeConnection"?h.currentUser.installedThemes.items:[]).reduce(function(e,n){var t,r=n.customTheme,i=null===(t=r.currentUserInstalledThemeVersion)||void 0===t?void 0:t.values;return void 0!==i?e.concat([(0,A._)({type:"custom",values:i},r)]):e},[]),v=(null==h?void 0:null===(r=h.currentUser)||void 0===r?void 0:r.installedThemes.__typename)==="InstalledThemeConnection"?h.currentUser.installedThemes.pageInfo:void 0,g={onPrevClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.installedThemes;(null==n?void 0:n.__typename)==="InstalledThemeConnection"&&n.pageInfo.hasPreviousPage&&void 0!==n.pageInfo.previousCursor&&(s(function(e){return(0,ne._)((0,A._)({},e),{after:n.pageInfo.previousCursor})}),m({variables:{installedThemesInput:{count:6,after:n.pageInfo.previousCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},onNextClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.installedThemes;(null==n?void 0:n.__typename)==="InstalledThemeConnection"&&n.pageInfo.hasNextPage&&void 0!==n.pageInfo.nextCursor&&(s(function(e){return(0,ne._)((0,A._)({},e),{after:n.pageInfo.nextCursor})}),m({variables:{installedThemesInput:{count:6,after:n.pageInfo.nextCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},hasNext:null==v?void 0:v.hasNextPage,hasPrev:null==v?void 0:v.hasPreviousPage};return(0,d.BX)(B.G,{css:tA.self,children:[(0,d.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Installed from Community"}),(0,d.tZ)(tU.Z,{name:l("installed-themes"),themes:f,paginationOptions:g,themesLoading:p,emptyText:"Themes you install will appear here.",refetchOptions:{queryDoc:tR,input:a}})]})},tE=t(90155),tW=(0,el.X)({subsection:[S.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+S.TV.outlineDimmest}}]}),tN=function(){return(0,d.BX)(B.G,{children:[(0,d.tZ)(B.G,{css:tW.subsection,children:(0,d.tZ)(tE.Z,{})}),(0,d.tZ)(B.G,{css:tW.subsection,children:(0,d.tZ)(tS,{})}),(0,d.tZ)(B.G,{css:tW.subsection,children:(0,d.tZ)(tD,{})})]})},tV=function(){return(0,d.tZ)(tZ,{title:"Themes",children:(0,d.tZ)(tN,{})})},tM=t(25200),tL=t(42380),tz=t(36809),tF=t(14775),tY=t(68586),tO=function(){var e,n=(0,u._)((0,R.useState)(!1),2),t=n[0],r=n[1],i=(0,tL.uw)(),l=i.data,o=i.loading,a=l&&(null===(e=l.currentUser)||void 0===e?void 0:e.__typename)==="CurrentUser"&&"PublicSshKeysOutput"===l.currentUser.publicSshKeys.__typename?l.currentUser.publicSshKeys.keys:[],s=a.length>=tY.R;return(0,d.BX)(B.G,{css:tH.self,children:[(0,d.BX)(B.G,{css:tH.header,children:[(0,d.tZ)(B.G,{css:tH.titleWrapper,children:(0,d.tZ)(x.xv,{variant:"subheadBig",multiline:!1,children:"SSH Keys"})}),(0,d.tZ)(B.G,{css:tH.actions,children:(0,d.tZ)(_.u,{tooltip:"You are over the SSH key limit. Please remove some of your keys to add more.",isDisabled:!s,children:(0,d.tZ)(y.zx,{text:"Add SSH key",colorway:"primary",size:"small",disabled:s,iconLeft:(0,d.tZ)(tv.Z,{}),onClick:function(){return r(!0)},css:tH.actionButton})})})]}),(0,d.BX)(nb.Tg,{elevated:!0,tag:"section",css:tH.section,children:[(0,d.tZ)(x.xv,{children:"Authorized keys for SSH access to Repls owned by you"}),o?(0,d.tZ)(B.G,{css:tH.loadingPlaceholder}):(0,d.tZ)(tz.A,{keys:a}),(0,d.tZ)(tF.s,{})]}),(0,d.tZ)(b.u,{isOpen:t,onRequestClose:function(){return r(!1)},centered:!0,children:(0,d.tZ)(tM.r,{onConfirm:function(){return r(!1)}})})]})},tH=(0,el.X)({self:[S.l0.colWithGap(8),S.l0.align.stretch,S.l0.position.relative],header:[S.l0.flex.row,S.l0.justify.spaceBetween,(0,c._)({},S.BC.max("mobileMax"),[S.l0.colWithGap(8)])],actions:[S.l0.align.center,S.l0.rowWithGap(8)],actionButton:[(0,c._)({},S.BC.max("mobileMax"),[{flexGrow:1}])],titleWrapper:[S.l0.rowWithGap(8),S.l0.align.baseline],section:[S.l0.borderRadius(12),S.l0.p(16),S.l0.colWithGap(12)],loadingPlaceholder:[S.l0.backgroundColor.backgroundDefault,es.p.backgroundPulse(),S.l0.borderRadius(4),S.l0.p(8),S.l0.height(24)]}),t$=t(93894);function tj(){var e=(0,D._)(["\n  query AccountSettings {\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n      roles {\n        id\n        key\n      }\n      ...AccountProfileCurrentUser\n      ...AccountAccountCurrentUser\n      ...AccountBillingCurrentUser\n      ...AccountUserRolesCurrentUser\n      ...AccountEmailSettingsCurrentUser\n      ...AccountConnectedServicesCurrentUser\n      ...ReplIdentityCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return tj=function(){return e},e}var tq={},tK=(0,E.Ps)(tj(),np,H,eR,nL,et,e8,nG),tQ=t(99609),tJ=(0,el.X)({page:[S.l0.flex.column,S.l0.px(16),S.l0.py(64),S.l0.pt(32),(o={marginBottom:"50vh",gap:S.TV.space32},(0,c._)(o,S.BC.max("mobileMax"),[S.l0.pt(24),{gap:S.TV.space16}]),(0,c._)(o,S.BC.max("tabletMax"),[S.l0.mb(0)]),o)],tabContainerTop:[nr.gU.listItem,S.l0.p(4),S.l0.rowWithGap(8),S.l0.borderRadius()],profilePicture:[S.l0.width(44),S.l0.height(44)],nameContainer:[S.l0.flex.column,S.l0.color.foregroundDefault],firstLastName:[S.l0.width(144),{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}],main:[S.l0.flex.row,S.l0.justify.center,(0,c._)({gap:S.TV.space32},S.BC.max("tabletMax"),[S.l0.pb(32),S.l0.flex.column,{gap:S.TV.space16}])],sectionContainer:[S.l0.colWithGap(32),(0,c._)({},S.BC.min("tabletMax"),S.l0.maxWidth(600))],loadingContainer:[S.l0.width(600),S.l0.maxWidth("100%"),S.l0.height(128),S.l0.center],tabContainerWrapper:[S.l0.colWithGap(8),S.l0.width(200),S.l0.position.sticky,S.l0.top(80),(a={alignSelf:"flex-start"},(0,c._)(a,S.BC.max("tabletMax"),[S.l0.width("100%"),S.l0.position.relative,S.l0.top("revert"),S.l0.mb(0)]),(0,c._)(a,S.BC.max("tabletMax"),[S.l0.display.none]),a)],tabContainerAccordion:[S.l0.mb(0),S.l0.mx(8),S.l0.shadow(1),S.l0.borderRadius(),S.l0.zIndex(1),S.l0.position.sticky,S.l0.top(56),S.l0.overflow("hidden"),S.l0.border({color:S.TV.outlineDimmest}),(s={backgroundColor:nr.vb.interactiveBackground,"& > button":{padding:S.TV.space8,fontWeight:S.TV.fontWeightMedium,borderRadius:8}},(0,c._)(s,S.BC.min("tabletMax"),[S.l0.display.none]),(0,c._)(s,'button[aria-expanded="true"]',{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:"1px solid ".concat(S.TV.outlineDimmest)}),s)],tabComponent:[nr.gU.listItem,S.l0.p(8),S.l0.display.flex,S.l0.borderRadius(),S.l0.rowWithGap(8),S.l0.height(32),S.l0.align.center,{"&:hover":{color:S.TV.foregroundDefault},"&:hover > svg":{color:S.TV.foregroundDefault}}],tabComponentBorder:[S.l0.my(2),S.l0.mx(4),S.l0.height(1),S.l0.width("calc(100% - 8px)"),S.l0.backgroundColor.outlineDimmest],straightCorners:{"& a":S.l0.borderRadius(0)},roundedCorners:{"& a":S.l0.borderRadius()}}),t0=(0,el.X)({base:[tJ.tabComponent,S.l0.backgroundColor.backgroundRoot,S.l0.color.foregroundDimmer,{"& > svg":S.l0.color.foregroundDimmest}],selected:[tJ.tabComponent,S.l0.backgroundColor.backgroundDefault,S.l0.color.foregroundDefault,{"& > svg":S.l0.color.foregroundDefault}]}),t1=[{icon:(0,d.tZ)(n4.Z,{}),label:"Profile",href:"profile"},{icon:(0,d.tZ)(n2.Z,{}),label:"Account",href:"account"},{icon:(0,d.tZ)(G.Z,{}),label:"Verification",href:"verification"},{icon:(0,d.tZ)(nJ.Z,{}),label:"Billing",href:"billing"},{icon:(0,d.tZ)(nQ.Z,{}),label:"Preferences",href:"preferences"},{icon:(0,d.tZ)(nK.Z,{}),label:"Roles",href:"roles"},{icon:(0,d.tZ)(tQ.Z,{}),label:"SSH keys",href:"ssh-keys"},{icon:(0,d.tZ)(eq.Z,{}),label:"Connected services",href:"connected-services"},{icon:(0,d.tZ)(n0.Z,{}),label:"Repl identity",href:"repl-identity"},{icon:(0,d.tZ)(n1.Z,{}),label:"Themes",href:"themes"}],t2=function(e){var n=e.icon,t=e.label,r=e.href,i=e.selected,l=e.bottomBorder,o=e.onClick;return(0,d.BX)(d.HY,{children:[(0,d.tZ)(nc(),{legacyBehavior:!0,href:"#".concat(r),passHref:!0,children:(0,d.BX)("a",{onClick:o,css:i?t0.selected:t0.base,children:[n,(0,d.tZ)(x.xv,{color:"default",children:t})]})}),l?(0,d.tZ)(B.G,{css:tJ.tabComponentBorder}):null]})};function t4(){var e,n=(e=(0,A._)({},tq,{ssr:!1}),N.a(tK,e)),t=n.data,r=n.refetch,i=null==t?void 0:t.currentUser,l=null==i?void 0:i.roles.some(function(e){return e.key===X.SM.PrivacyLimitedAccess}),o=(0,f.P5)({controlName:"flag-sms-verification",logFlagToAnalytics:!1}),a=null==i?void 0:i.isSubscribed,s=(0,u._)((0,R.useState)(void 0),2),c=s[0],h=s[1];(0,R.useEffect)(function(){if(i){var e=window.location.hash;if(e&&e.startsWith("#")){var n=e.replace("#",""),t=document.getElementById(n);t&&t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}}},[i]);var p=(0,u._)((0,R.useState)(!1),2),m=p[0],v=p[1],g=function(e){var n=e.straightCorners,t=function(e){h(e),v(!1)};return(0,d.tZ)(B.G,{css:n?tJ.straightCorners:tJ.roundedCorners,children:t1.map(function(e){if("repl-identity"===e.href&&!(null==i?void 0:i.hasReplitIdentityTesting)||"verification"===e.href&&!o)return null;var n="account"===e.href||"billing"===e.href||"connected-services"===e.href;return l&&n||"ssh-keys"===e.href&&!a?null:(0,d.tZ)(t2,{icon:e.icon,label:e.label,href:e.href,bottomBorder:e.bottomBorder,selected:c===e.href,onClick:function(){return t(e.href)}},e.href)})})};return(0,d.tZ)(B.G,{css:tJ.page,children:(0,d.BX)(B.G,{css:tJ.main,children:[(0,d.BX)(B.G,{css:tJ.tabContainerWrapper,children:[(0,d.tZ)(nc(),{legacyBehavior:!0,href:"/@".concat(null==i?void 0:i.username),passHref:!0,children:(0,d.tZ)("a",{children:(0,d.BX)(B.G,{css:tJ.tabContainerTop,children:[(0,d.tZ)(nq.q,{size:48,css:tJ.profilePicture,src:(null==i?void 0:i.image)||null,username:"".concat(null==i?void 0:i.username)}),(0,d.BX)(B.G,{css:tJ.nameContainer,children:[(0,d.BX)(x.xv,{variant:"subheadDefault",color:"default",css:tJ.firstLastName,children:[null==i?void 0:i.firstName," ",null==i?void 0:i.lastName]}),(0,d.tZ)(x.xv,{color:"dimmer",children:(null==i?void 0:i.username)?"@".concat(i.username):""})]})]})})}),(0,d.tZ)(g,{straightCorners:!1,showVerification:o})]}),(0,d.tZ)(nj.Q,{headerContent:"Jump to",css:tJ.tabContainerAccordion,expanded:m,onClick:function(){return v(!m)},children:(0,d.tZ)(g,{straightCorners:!0,showVerification:o})}),(0,d.tZ)(B.G,{css:tJ.sectionContainer,children:i?(0,d.BX)(d.HY,{children:[(0,d.tZ)(t3,{title:"Profile",id:"profile",setInView:h,children:(0,d.tZ)(ng,{currentUser:i})}),(0,d.tZ)(t3,{title:"Account",id:"account",setInView:h,flush:!0,children:l?(0,d.tZ)(eZ,{currentUser:i}):(0,d.tZ)(eg,{currentUser:i})}),o?(0,d.tZ)(t3,{title:"Verification",id:"verification",setInView:h,children:(0,d.tZ)(n$,{context:X.jv.Voluntary,verifiedPhoneNumber:i.verifiedPhoneNumber,onSuccess:r})}):null,l?null:(0,d.tZ)(t3,{title:"Billing",id:"billing",setInView:h,flush:!0,children:(0,d.tZ)(eM,{currentUser:i})}),(0,d.tZ)(t3,{title:"Preferences",id:"preferences",setInView:h,children:(0,d.tZ)(nE,{})}),(0,d.tZ)(t3,{title:"Roles",id:"roles",setInView:h,children:(0,d.tZ)(nY,{currentUser:i})}),a?(0,d.tZ)(t3,{setInView:h,id:"ssh-keys",surface:!1,children:(0,d.tZ)(tO,{})}):null,l?null:(0,d.tZ)(t3,{title:"Connected services",id:"connected-services",setInView:h,children:(0,d.tZ)(e7,{currentUser:i})}),i.hasReplitIdentityTesting?(0,d.tZ)(t3,{title:"Repl identity",id:"repl-identity",setInView:h,children:(0,d.tZ)(nS,{})}):null," ",(0,d.tZ)(t3,{id:"themes",setInView:h,surface:!1,children:(0,d.tZ)(tV,{})})]}):(0,d.tZ)(B.G,{css:tJ.loadingContainer,children:(0,d.tZ)(eG.Z,{size:20})})})]})})}var t8=(0,el.X)({sectionWrapper:[S.l0.position.relative,S.l0.colWithGap(8),(0,c._)({scrollMarginTop:108},S.BC.min("tabletMax"),{scrollMarginTop:80})],section:[S.l0.p(16),S.l0.borderRadius("container")],sectionFlush:[S.l0.borderRadius("container")],anchor:[S.l0.position.absolute,S.l0.top("50%"),S.l0.width(1),S.l0.height(1)]});function t3(e){var n=e.title,t=e.children,r=e.id,i=e.setInView,l=e.surface,o=e.flush,a=(0,R.useRef)(null),s=(0,t$.Y)(a,{margin:"0px 0px -80% 0px",amount:0});(0,R.useEffect)(function(){s&&i(r)},[r,s,i]);var c=void 0===l||l?(0,d.tZ)(nb.Tg,{elevated:!0,tag:"section",css:o?t8.sectionFlush:t8.section,children:t}):(0,d.tZ)(B.G,{tag:"section",children:t});return(0,d.BX)(B.G,{css:t8.sectionWrapper,id:r,innerRef:a,children:[n?(0,d.tZ)(x.h4,{level:2,variant:"subheadBig",children:n}):null,c]})}},92168:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(66626),i=t(74985),l=t(71730),o=t(69170),a=t(73064),s=t(94311),c=t(82230),u=t(94778),d=t(49224),h=t(72093),p=t(50959),m=t(98308),f=(0,d.X)({dropContainer:[h.l0.position.relative,{width:96,height:96,textAlign:"center","& label":{transition:"0.25s"},"&:hover label":{opacity:1}}],overlayLabel:[h.l0.flex.row,h.l0.center,h.l0.backgroundColor.backgroundOverlay,h.l0.borderRadius("full"),h.l0.coverContainer,{opacity:0,position:"absolute",top:0,left:0,cursor:"pointer",zIndex:1}],uploadInput:{width:1,height:0,opacity:0,overflow:"hidden"}});function v(e){var n=e.currentUser,t=e.onChange,d=(0,o.Z)(),h=d.showError,v=d.showConfirm,g=(0,r._)((0,p.useState)(n.image),2),y=g[0],Z=g[1];(0,p.useEffect)(function(){return Z(n.image)},[n.image]);var b=(0,l.Z)({onUpload:function(e){return t({imageId:e.id})},onUploadPreview:function(e){Z(e.dataUrl),v("Uploading profile image")},onError:function(e){return h(e.message)}});return n.hasPrivacyRole?(0,i.tZ)(s.q,{size:96,src:y,username:n.username,fullName:n.fullName}):(0,i.BX)(u.G,{css:f.dropContainer,onDrop:function(e){e.preventDefault();var n,t,r=null===(t=e.dataTransfer)||void 0===t?void 0:null===(n=t.files)||void 0===n?void 0:n[0];if(r){if(!r.type.startsWith("image/"))return h("Expected an image file");b.uploadImage(r,m.N.ProfileImage)}},onDragOver:function(e){return e.preventDefault()},children:[(0,i.tZ)(s.q,{size:96,src:y,username:n.username,fullName:n.fullName}),(0,i.BX)("label",{css:f.overlayLabel,children:[(0,i.tZ)("input",{accept:a.W9.join(","),type:"file",onChange:function(e){var n=e.target,t=n.validity.valid,r=n.files;(null==r?void 0:r.length)&&t&&b.uploadImage(r[0],m.N.ProfileImage)},css:f.uploadInput}),(0,i.tZ)(c.xv,{variant:"small",multiline:!1,children:"Drag or upload"})]})]})}},6595:function(e,n,t){t.d(n,{Z:function(){return T}});var r=t(41733),i=t(30509),l=t(66626),o=t(63257),a=t(74985),s=t(43312),c=t(91945),u=t(17642),d=t(14872),h=t(85733),p=t(10495),m=t(72333),f=t(19068),v=t(82230),g=t(94778),y=t(29318),Z=t(90493),b=t(72093),C=t(21371),w=t(50959),x=t(86069),_=g.K.input,B=g.K.div,G=g.K.li,I=(0,s.iv)([f.gU.filled,b.l0.p(8),{color:b.TV.foregroundDefault,border:"0 none",outline:"0 none",fontSize:b.TV.fontSizeDefault,lineHeight:"16px",display:"block",width:"100%","::placeholder":{color:b.TV.foregroundDimmer},":not([disabled])":{cursor:"text"}}]);function T(e){var n,t=e.id,s=e.className,f=e.disabled,T=e.filter,U=e.manualSelect,P=e.excludePrivate,S=e.excludeMultiplayer,k=e.onSelect,X=e.selectedIconOverride,R=e.showComboBox,A=(0,l._)((0,w.useState)([]),2),D=A[0],E=A[1],W=(0,l._)((0,w.useState)(""),2),N=W[0],V=W[1],M=(0,w.useRef)(null),L=T?D.filter(T):D,z=(0,C.Kb)({items:L,initialHighlightedIndex:U?-1:0,itemToString:function(e){var n;return e?"".concat(null===(n=e.owner)||void 0===n?void 0:n.username,"/").concat(e.title):""}});(0,w.useEffect)(function(){return V(z.inputValue)},[z.inputValue]);var F=(0,d.Z)(N,100),Y=(0,x.aF)({variables:{search:F,excludePrivate:P,excludeMultiplayer:S},onCompleted:function(e){if(!e.currentUser)throw Error("Expected currentUser");if(!e.currentUser.replSearch){E([]);return}E(e.currentUser.replSearch.reduce(function(e,n){return n?(0,o._)(e).concat([n]):e},[]))}}).loading,O=(0,h.Z)(k);(0,w.useEffect)(function(){var e;z.selectedItem&&(null===(e=M.current)||void 0===e||e.blur(),O.current(z.selectedItem))},[z.selectedItem,O]);var H=(null===(n=z.selectedItem)||void 0===n?void 0:n.iconUrl)&&z.inputValue?(0,a.tZ)(g.G,{css:[b.l0.px(8),b.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:X||(0,a.tZ)(m.ZP,{alt:z.selectedItem.title,iconUrl:z.selectedItem.iconUrl,size:16})}):null;return(0,a.BX)(g.G,{css:[{position:"relative"}],className:s,children:[(0,a.BX)(B,(0,i._)((0,r._)({},z.getComboboxProps()),{css:{position:"relative"},children:[H,(0,a.tZ)(_,(0,r._)({css:[I,b.l0.pr(32),H&&b.l0.pl(32)]},z.getInputProps({ref:M,id:t,placeholder:"Search for a Repl",onFocus:void 0===R||R?function(e){z.selectedItem&&(e.preventDefault(),e.currentTarget.select(),V("")),z.openMenu()}:void 0}))),(0,a.tZ)(g.G,{css:[b.l0.center,b.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:(0,a.tZ)(Z.Z,{})})]})),(0,a.tZ)(B,(0,i._)((0,r._)({},z.getMenuProps()),{css:{position:"relative"},children:z.isOpen&&!f?(0,a.BX)(c.Z,{children:[Y?(0,a.tZ)(G,{css:[b.l0.center,b.l0.py(32)],children:(0,a.tZ)(y.Z,{})}):null,L.length||Y?null:(0,a.tZ)(G,{css:[b.l0.center,b.l0.py(32)],children:(0,a.BX)(v.xv,{color:"dimmer",variant:"small",multiline:!1,children:["No ",D.length>0?"more ":null,"repls found"]})}),L.map(function(e,n){return(0,a.tZ)(G,(0,i._)((0,r._)({},z.getItemProps({item:e,index:n})),{children:(0,a.tZ)(u.Z,{taller:!0,filter:N,title:e.title,subtitle:(0,p.F)(e.timeUpdated),selected:z.selectedItem===e,highlighted:z.highlightedIndex===n,icon:e.iconUrl?(0,a.tZ)(m.ZP,{iconUrl:e.iconUrl,alt:e.title,size:16}):void 0})}),e.id)})]}):null}))]})}},88686:function(e,n,t){t.d(n,{S:function(){return T}});var r=t(74985),i=t(59195),l=t(12113),o=t(40671),a=t(77536),s=t(15235),c=t(67242),u=t(85763),d=t(99236),h=t(94778),p=t(49224),m=t(76575),f=t(73789),v=t(29318),g=t(29252),y=t(72093),Z=t(50959),b=t(14375),C=(0,p.X)({self:[y.l0.colWithGap(16)],paymentMethodContainer:[y.l0.colWithGap(16)],addPaymentMethodContainer:[y.l0.colWithGap(6)],loadingContainer:[y.l0.justify.center,y.l0.align.center,y.l0.minHeight(80)],updatePaymentIcon:[y.l0.rowWithGap(8),y.l0.align.center]});function w(e){var n=e.goToNewPaymentMethodForm,t=e.showUsageSettingsBudget,p=(0,o.U)(),y=p.loading,w=p.isOnTrialPlan,x=p.trialWillCancel,_=(0,a.Q)(),B=_.paymentMethod,G=_.loading,I=_.error,T=(0,Z.useMemo)(function(){return w&&!x?(0,r.tZ)(d.E,{colorway:"primary",icon:(0,r.tZ)(f.Z,{}),text:(0,r.BX)(r.HY,{children:["Adding a payment method will set your Replit ",b.we," ","membership to auto-renew at the end of the trial."]})}):(0,r.tZ)(d.E,{colorway:"primary",icon:(0,r.tZ)(f.Z,{}),text:"Add a payment method to enable additional resource usage."})},[w,x]);return G||y||null!=I?(0,r.tZ)(h.G,{css:C.loadingContainer,children:(0,r.tZ)(v.Z,{})}):(0,r.BX)(h.G,{css:C.self,children:[null!=B?(0,r.BX)(h.G,{css:C.paymentMethodContainer,children:[(0,r.BX)(h.G,{css:C.updatePaymentIcon,children:[(0,r.tZ)(u.hU,{alt:"Update Payment Method",onClick:n,children:(0,r.tZ)(m.Z,{})}),(0,r.tZ)(i.R,{last4:B.last4})]}),t?(0,r.BX)(r.HY,{children:[(0,r.tZ)(c.R,{}),(0,r.tZ)(l.L,{})]}):null]}):null," ",null==B?(0,r.BX)(h.G,{css:C.addPaymentMethodContainer,children:[T,(0,r.tZ)(s.zx,{text:"Add Payment Method",iconLeft:(0,r.tZ)(g.Z,{}),onClick:n})]}):null]})}var x=t(28341),_=t(24774),B=t(82230),G=t(2511),I=(0,p.X)({paymentMethodFormContainer:[y.l0.colWithGap(16)],paymentMethodFormHeader:[y.l0.rowWithGap(8),y.l0.align.center]});function T(){var e=(0,_.P)({step:"card_preferences"}),n=e.currentStep,t=e.goBack,i=e.goTo;switch(n.step){case"card_preferences":return(0,r.tZ)(w,{goToNewPaymentMethodForm:function(){return i({step:"new_payment_method_form"})},showUsageSettingsBudget:!0});case"new_payment_method_form":return(0,r.BX)(h.G,{css:I.paymentMethodFormContainer,children:[(0,r.BX)(h.G,{css:I.paymentMethodFormHeader,children:[(0,r.tZ)(u.hU,{alt:"Back",onClick:t,children:(0,r.tZ)(G.Z,{})}),(0,r.tZ)(B.xv,{variant:"subheadDefault",multiline:!1,children:"Update Payment Method"})]}),(0,r.tZ)(x.q,{onSuccess:t,context:"account_page"})]})}}},24774:function(e,n,t){t.d(n,{P:function(){return o}});var r=t(66626),i=t(63257),l=t(50959);function o(e){var n=(0,r._)((0,l.useState)(e),2),t=n[0],o=n[1],a=(0,r._)((0,l.useState)([]),2),s=a[0],c=a[1],u=(0,l.useCallback)(function(e){c((0,i._)(s).concat([t])),o(e)},[s,c,t,o]);return{currentStep:t,goTo:u,goBack:(0,l.useCallback)(function(){var e=s.pop();c(s),e&&o(e)},[s,c,o]),canGoBack:s.length>0}}}}]);
//# sourceMappingURL=1873-4078297fc0b77342.js.map