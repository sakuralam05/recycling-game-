!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="1141645e-0179-4cc3-9295-01bae0d902a6",e._sentryDebugIdIdentifier="sentry-dbid-1141645e-0179-4cc3-9295-01bae0d902a6")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"ec45b404"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1588],{92168:function(e,r,n){n.d(r,{Z:function(){return g}});var t=n(66626),l=n(74985),i=n(71730),a=n(69170),o=n(73064),u=n(94311),s=n(82230),c=n(94778),d=n(49224),f=n(72093),v=n(50959),m=n(98308),p=(0,d.X)({dropContainer:[f.l0.position.relative,{width:96,height:96,textAlign:"center","& label":{transition:"0.25s"},"&:hover label":{opacity:1}}],overlayLabel:[f.l0.flex.row,f.l0.center,f.l0.backgroundColor.backgroundOverlay,f.l0.borderRadius("full"),f.l0.coverContainer,{opacity:0,position:"absolute",top:0,left:0,cursor:"pointer",zIndex:1}],uploadInput:{width:1,height:0,opacity:0,overflow:"hidden"}});function g(e){var r=e.currentUser,n=e.onChange,d=(0,a.Z)(),f=d.showError,g=d.showConfirm,h=(0,t._)((0,v.useState)(r.image),2),b=h[0],y=h[1];(0,v.useEffect)(function(){return y(r.image)},[r.image]);var k=(0,i.Z)({onUpload:function(e){return n({imageId:e.id})},onUploadPreview:function(e){y(e.dataUrl),g("Uploading profile image")},onError:function(e){return f(e.message)}});return r.hasPrivacyRole?(0,l.tZ)(u.q,{size:96,src:b,username:r.username,fullName:r.fullName}):(0,l.BX)(c.G,{css:p.dropContainer,onDrop:function(e){e.preventDefault();var r,n,t=null===(n=e.dataTransfer)||void 0===n?void 0:null===(r=n.files)||void 0===r?void 0:r[0];if(t){if(!t.type.startsWith("image/"))return f("Expected an image file");k.uploadImage(t,m.N.ProfileImage)}},onDragOver:function(e){return e.preventDefault()},children:[(0,l.tZ)(u.q,{size:96,src:b,username:r.username,fullName:r.fullName}),(0,l.BX)("label",{css:p.overlayLabel,children:[(0,l.tZ)("input",{accept:o.W9.join(","),type:"file",onChange:function(e){var r=e.target,n=r.validity.valid,t=r.files;(null==t?void 0:t.length)&&n&&k.uploadImage(t[0],m.N.ProfileImage)},css:p.uploadInput}),(0,l.tZ)(s.xv,{variant:"small",multiline:!1,children:"Drag or upload"})]})]})}},68593:function(e,r,n){var t=n(74985),l=n(82230),i=n(94778),a=n(72093),o=(0,n(49224).X)({styles0:[a.l0.flex.row,a.l0.align.center],styles1:[a.l0.mr(8),{borderBottom:"1px solid ".concat(a.TV.backgroundHighest),width:a.TV.space8}],styles2:[a.l0.color.foregroundDimmest,a.l0.flex.shrink(1)],styles3:[a.l0.ml(8),a.l0.flex.grow(2),{borderBottom:"1px solid ".concat(a.TV.backgroundHighest),width:a.TV.space16}]});r.Z=function(e){var r=e.text;return(0,t.BX)(i.G,{css:o.styles0,children:[(0,t.tZ)(i.G,{css:o.styles1}),(0,t.tZ)(l.xv,{css:o.styles2,children:r}),(0,t.tZ)(i.G,{css:o.styles3})]})}},61588:function(e,r,n){n.d(r,{Zh:function(){return j},ZP:function(){return ee},AR:function(){return K},mB:function(){return z},ZD:function(){return $},su:function(){return F}});var t=n(27387),l=n(41733),i=n(30509),a=n(98924),o=n(66626),u=n(96583),s=n(74985),c=n(92168),d=n(68593),f=n(29609),v=n(69170),m=n(93006),p=n(15235),g=n(18060),h=n(99236),b=n(82230),y=n(64432),k=n(94778),w=n(59947),Z=n(5294),_=n(87128),U=n(72093),C=n(72370),I=n(85438),E=n(50959),x=n(58498),V=n(21262),G=n(71440),P=n(58995),T=n(99165);function D(){var e=(0,V._)(["\n  fragment EditProfileModalCurrentUserInfo on CurrentUser {\n    id\n    firstName\n    lastName\n    bio\n    location\n  }\n"]);return D=function(){return e},e}function M(){var e=(0,V._)(["\n  fragment EditProfileCurrentUserSocials on CurrentUser {\n    id\n    hasPrivacyRole\n    socials {\n      id\n      url\n      type\n    }\n  }\n"]);return M=function(){return e},e}function L(){var e=(0,V._)(["\n  query EditProfileModal {\n    currentUser {\n      id\n      isVerified\n      ...EditProfileModalCurrentUserInfo\n      ...EditProfileCurrentUserSocials\n    }\n  }\n  ","\n  ","\n"]);return L=function(){return e},e}function S(){var e=(0,V._)(["\n  mutation EditProfileModalCurrentUserUpdateProfileImage($imageId: Int!) {\n    updateCurrentUser(input: { profileImageId: $imageId }) {\n      id\n      image\n    }\n  }\n"]);return S=function(){return e},e}function Y(){var e=(0,V._)(["\n  mutation EditProfileModalCurrentUserUpdate(\n    $userInfoInput: UpdateCurrentUserInput!\n    $socialInput: SetUserSocialsInput!\n  ) {\n    updateCurrentUser(input: $userInfoInput) {\n      id\n      ...EditProfileModalCurrentUserInfo\n    }\n    setUserSocials(input: $socialInput) {\n      ... on CurrentUser {\n        id\n        ...EditProfileCurrentUserSocials\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return Y=function(){return e},e}var N={},B=(0,G.Ps)(D()),R=(0,G.Ps)(M()),W=(0,G.Ps)(L(),B,R),X=(0,G.Ps)(S()),H=(0,G.Ps)(Y(),B,R),$=function(e){if(""!==e&&!e.replace(x.Hk,"").match(x.ig))return{message:'LinkedIn must be a valid username or URL ("username" or "https://linkedin.com/in/username"). Try copying and pasting your full LinkedIn profile URL.'}},z=function(e){if(""!==e&&!e.replace(x.Kd,"").match(x.lF))return{message:'GitHub must be a valid username or URL ("username" or "https://github.com/username")'}},F=function(){return null},O=function(e){if(""!==e&&!e.match(x.Vl))return{message:"YouTube URL must match https://www.youtube.com/c/id or https://www.youtube.com/channel/id"}},q=function(e){if(""!==e&&!e.match(x.Ob))return{message:"Discord username must match username#number or username"}},A=function(e){if(""!==e&&!e.replace(x.N$,"").match(x.Vt))return{message:'Twitter must be a valid username or URL ("username" or "https://twitter.com/username")'}},j=function(e){var r,n,i=e.currentUser,a=(0,v.Z)(),d=a.showError,f=a.showConfirm,p=(0,o._)((r=(0,l._)({},N,{onCompleted:function(){return f("Updated profile image")},onError:function(e){return d(e.message)}}),T.D(X,r)),1)[0];return(0,s.tZ)(c.Z,{currentUser:i,onChange:(n=(0,t._)(function(e){return(0,u.Jh)(this,function(r){switch(r.label){case 0:return[4,p({variables:{imageId:e.imageId}})];case 1:return r.sent(),(0,m.w)({source:"profile",surface:"profile_image"}),[2]}})}),function(e){return n.apply(this,arguments)})})},J=function(e){var r=e.label,n=e.multiline,t=e.errorMessage,o=(0,a._)(e,["label","multiline","errorMessage"]),u=(0,C.U)(),c=u(r),d=u(r+"error"),f=t?(0,s.tZ)(h.E,{id:d,text:t,colorway:"negative",icon:(0,s.tZ)(_.Z,{})}):null;return void 0!==n&&n?(0,s.BX)(k.G,{css:[U.l0.colWithGap(8)],children:[(0,s.BX)(k.G,{css:[U.l0.colWithGap(4)],children:[(0,s.tZ)("label",{htmlFor:c,children:(0,s.tZ)(b.xv,{color:"dimmer",multiline:!1,children:r})}),(0,s.tZ)(g.B,(0,i._)((0,l._)({id:c,"aria-describedby":d},o),{css:[U.l0.minHeight(64),U.l0.maxHeight(96),{resize:"vertical"}]}))]}),f]}):(0,s.BX)(k.G,{css:[U.l0.colWithGap(8)],children:[(0,s.BX)(k.G,{css:[U.l0.colWithGap(4)],children:[(0,s.tZ)("label",{htmlFor:c,children:(0,s.tZ)(b.xv,{color:"dimmer",multiline:!1,children:r})}),(0,s.tZ)(g.II,(0,l._)({id:c,"aria-describedby":d},o))]}),f]})},K=function(e){return{linkedin:e?Q(e,I.bk.Linkedin):"",github:e?Q(e,I.bk.Github):"",website:e?Q(e,I.bk.Website):"",youtube:e?Q(e,I.bk.Youtube):"",twitter:e?Q(e,I.bk.Twitter):"",discord:e?Q(e,I.bk.Discord):""}},Q=function(e,r){var n,t="",l=!0;switch(r){case I.bk.Twitter:t=x.N$;break;case I.bk.Linkedin:t=x.Hk;break;case I.bk.Github:t=x.Kd;break;case I.bk.Youtube:break;case I.bk.Discord:case I.bk.Website:l=!1}var i=null===(n=e.find(function(e){return e.type.valueOf()===r.valueOf()}))||void 0===n?void 0:n.url;return t&&(i=null==i?void 0:i.replace(t,"")),l&&(i=null==i?void 0:i.replace(x.F5,"")),null!=i?i:""},ee=function(e){var r,n,i,a,c,g,C,x,V,G,D,M,L,S,Y,B,R,X,j=e.onUpdate,ee=e.onRequestClose,er=(0,v.Z)().showConfirm,en=(0,f.Y)("",function(){return null}),et=(0,f.Y)("",function(){return null}),el=(0,f.Y)("",function(e){return e&&e.length>32?{message:"Maximum length 32 characters"}:null}),ei=(0,f.Y)("",function(e){return e&&e.length>140?{message:"Maximum length 140 characters"}:null}),ea=(0,f.Y)("",A),eo=(0,f.Y)("",$),eu=(0,f.Y)("",z),es=(0,f.Y)("",O),ec=(0,f.Y)("",q),ed=(0,f.Y)("",F),ef=[en,et,ei,el,ed,ec,es,eo,ea,eu],ev=ef.some(function(e){return e.error}),em=(r=(0,l._)({},N,void 0),P.a(W,r)),ep=em.data,eg=em.error,eh=em.loading,eb=(null==ep?void 0:null===(a=ep.currentUser)||void 0===a?void 0:a.__typename)==="CurrentUser"?ep.currentUser:null,ey=(0,E.useMemo)(function(){return K(null==eb?void 0:eb.socials)},[null==eb?void 0:eb.socials]),ek=!(null==eb?void 0:eb.isVerified),ew=(0,o._)((n=(0,l._)({},N,{onCompleted:function(e){var r;"CurrentUser"===e.setUserSocials.__typename&&(null===(r=e.updateCurrentUser)||void 0===r?void 0:r.__typename)==="CurrentUser"&&(er("Updated profile"),j(),ee())}}),T.D(H,n)),2),eZ=ew[0],e_=ew[1],eU=en.setValue,eC=et.setValue,eI=ei.setValue,eE=el.setValue,ex=ea.setValue,eV=eu.setValue,eG=eo.setValue,eP=es.setValue,eT=ec.setValue,eD=ed.setValue;(0,E.useEffect)(function(){var e,r;eb&&(eU(eb.firstName||"",{preventTouch:!0}),eC(eb.lastName||"",{preventTouch:!0}),eI(null!==(e=eb.bio)&&void 0!==e?e:null,{preventTouch:!0}),eE(null!==(r=eb.location)&&void 0!==r?r:null,{preventTouch:!0}),ex(Q(eb.socials,I.bk.Twitter),{preventTouch:!0}),eV(Q(eb.socials,I.bk.Github),{preventTouch:!0}),eG(Q(eb.socials,I.bk.Linkedin),{preventTouch:!0}),eP(Q(eb.socials,I.bk.Youtube),{preventTouch:!0}),eT(Q(eb.socials,I.bk.Discord),{preventTouch:!0}),eD(Q(eb.socials,I.bk.Website),{preventTouch:!0}))},[eb,eU,eC,eI,eE,ex,eV,eG,eP,eT,eD]);var eM=(i=(0,t._)(function(){var e,r,n,t,l,i,a,o,s,c,d,f,v,p;return(0,u.Jh)(this,function(u){switch(u.label){case 0:if(!eb)return[2];return[4,Promise.all(ef.map(function(e){return e.validate()}))];case 1:return[4,u.sent().some(function(e){return!!e})];case 2:if(u.sent())return[2];return e=eb.bio!==ei.value,r=eb.location!==el.value,n=ey.linkedin!==eo.value,t=ey.github!==eu.value,l=ey.website!==ed.value,i=ey.twitter!==ea.value,a=ey.discord!==ec.value,o=ey.youtube!==es.value,[4,eZ({variables:{userInfoInput:{firstName:en.value,lastName:et.value,bio:ei.value,location:el.value},socialInput:{socials:[{type:I.bk.Twitter,url:null!==(s=ea.value)&&void 0!==s?s:""},{type:I.bk.Github,url:null!==(c=eu.value)&&void 0!==c?c:""},{type:I.bk.Linkedin,url:null!==(d=eo.value)&&void 0!==d?d:""},{type:I.bk.Youtube,url:null!==(f=es.value)&&void 0!==f?f:""},{type:I.bk.Discord,url:null!==(v=ec.value)&&void 0!==v?v:""},{type:I.bk.Website,url:null!==(p=ed.value)&&void 0!==p?p:""}]}}})];case 3:return u.sent(),e&&(0,m.w)({source:"profile",surface:"bio"}),r&&(0,m.w)({source:"profile",surface:"location"}),i&&(0,m.w)({source:"profile",surface:"social_link",social_link:"twitter"}),n&&(0,m.w)({source:"profile",surface:"social_link",social_link:"linkedin"}),t&&(0,m.w)({source:"profile",surface:"social_link",social_link:"github"}),o&&(0,m.w)({source:"profile",surface:"social_link",social_link:"youtube"}),a&&(0,m.w)({source:"profile",surface:"social_link",social_link:"discord"}),l&&(0,m.w)({source:"profile",surface:"social_link",social_link:"website"}),[2]}})}),function(){return i.apply(this,arguments)});return eb&&eb.hasPrivacyRole?(0,s.tZ)(k.G,{css:U.l0.align.center,children:(0,s.tZ)(b.xv,{multiline:!1,children:"You can’t edit your profile settings since you are an education user."})}):(0,s.tZ)(k.G,{children:eh?(0,s.tZ)(k.G,{css:U.l0.align.center,children:(0,s.tZ)(Z.Z,{})}):eg?(0,s.tZ)(k.G,{css:U.l0.align.center,children:(0,s.BX)(b.xv,{multiline:!1,children:["Something went wrong. Please"," ",(0,s.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",children:"contact support"})]})}):eb?(0,s.tZ)("form",{onSubmit:function(e){e.preventDefault(),eM()},children:(0,s.BX)(k.G,{css:[U.l0.colWithGap(24)],children:[(0,s.tZ)(b.h4,{level:1,variant:"headerDefault",children:"Edit Profile"}),(0,s.tZ)(J,{label:"First name",value:en.value,onChange:function(e){return en.setValue(e.target.value)},errorMessage:null===(c=en.error)||void 0===c?void 0:c.message}),(0,s.tZ)(J,{label:"Last name",value:et.value,onChange:function(e){return et.setValue(e.target.value)},errorMessage:null===(g=et.error)||void 0===g?void 0:g.message}),(0,s.tZ)(J,{label:"Bio",value:null!==(R=ei.value)&&void 0!==R?R:"",multiline:!0,maxLength:140,onChange:function(e){return ei.setValue(e.target.value)},errorMessage:null===(C=ei.error)||void 0===C?void 0:C.message}),(0,s.tZ)(J,{label:"Location",value:null!==(X=el.value)&&void 0!==X?X:"",placeholder:"San Francisco, Delhi, Rome, Cairo, Tokyo…",onChange:function(e){return el.setValue(e.target.value)},errorMessage:null===(x=el.error)||void 0===x?void 0:x.message}),(0,s.tZ)(d.Z,{text:"Social Media Links"}),(0,s.tZ)(J,{label:"Twitter username",value:ea.value,onChange:function(e){return ea.setValue(e.target.value)},errorMessage:null===(V=ea.error)||void 0===V?void 0:V.message}),(0,s.tZ)(J,{label:"GitHub username",value:eu.value,onChange:function(e){return eu.setValue(e.target.value)},errorMessage:null===(G=eu.error)||void 0===G?void 0:G.message}),(0,s.tZ)(J,{label:"LinkedIn username",value:eo.value,onChange:function(e){return eo.setValue(e.target.value)},errorMessage:null===(D=eo.error)||void 0===D?void 0:D.message}),(0,s.tZ)(J,{label:"Discord username",value:ec.value,onChange:function(e){return ec.setValue(e.target.value)},errorMessage:null===(M=ec.error)||void 0===M?void 0:M.message}),(0,s.tZ)(J,{label:"YouTube channel",value:es.value,onChange:function(e){return es.setValue(e.target.value)},errorMessage:null===(L=es.error)||void 0===L?void 0:L.message}),(0,s.tZ)(J,{label:"Website",value:ed.value,onChange:function(e){return ed.setValue(e.target.value)},errorMessage:null===(S=ed.error)||void 0===S?void 0:S.message}),e_.error?(0,s.tZ)(h.E,{text:e_.error.message,colorway:"negative",icon:(0,s.tZ)(_.Z,{})}):null,e_.data&&"UserError"===e_.data.setUserSocials.__typename?(0,s.tZ)(h.E,{text:null===(Y=e_.data.setUserSocials)||void 0===Y?void 0:Y.message,colorway:"negative",icon:(0,s.tZ)(_.Z,{})}):null,(0,s.BX)(k.G,{css:[U.l0.justify.end,U.l0.rowWithGap(12)],children:[(0,s.tZ)(p.zx,{text:"Cancel",disabled:e_.loading,onClick:ee}),(0,s.tZ)(y.u,{tooltip:ek?"Please verify your email to update your profile":"",isDisabled:!ek,children:(0,s.tZ)(p.zx,{text:"".concat(e_.loading?"Saving...":"Save"),type:"submit",disabled:e_.loading||ev||ek,colorway:"primary",iconLeft:(0,s.tZ)(w.Z,{})})})]})]})}):null})}}}]);
//# sourceMappingURL=1588-508ec6520c78cc3a.js.map