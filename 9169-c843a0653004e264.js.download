!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="ff2f240f-ab65-4e20-b332-4200a45fb307",t._sentryDebugIdIdentifier="sentry-dbid-ff2f240f-ab65-4e20-b332-4200a45fb307")}catch(t){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"ec45b404"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9169],{82750:function(t,e,n){n.d(e,{$X:function(){return h},Hg:function(){return f},XD:function(){return v},g3:function(){return l},oR:function(){return s},yL:function(){return d}});var r=n(74985),i=n(30660),o=n(39460),u=n(37697),a=n(50959),c=(0,a.createContext)(null);function l(t){return(0,r.tZ)(c.Provider,{value:t.store,children:t.children})}function s(){var t=(0,a.useContext)(c);if(!t)throw Error("Expected store in context");return t}function f(t){return(0,o.Dv)(t,{store:s()})}function d(t){return(0,i.b)(t,s())}var h=function(t){return(0,o.b9)(t,{store:s()})};function v(t){return(0,u.lV)((0,a.useCallback)(function(e){return e(t)},[t]),{store:s()})}},92268:function(t,e,n){n.d(e,{Iv:function(){return b},JI:function(){return x},NO:function(){return h},ed:function(){return v},uI:function(){return m}});var r=n(31417),i=n(27387),o=n(66626),u=n(96583),a=n(99149),c=n(57159),l=n(41974),s=n(85234),f=n.n(s),d=n(62130);function h(t,e,n){var a=function(){},c=!1;function l(){return(l=(0,i._)(function(){var i,l,s,f,h,v,p,m,y;return(0,u.Jh)(this,function(u){switch(u.label){case 0:return[4,t.chatService.subscribeToReplEvents.subscribe({replId:e})];case 1:if(l=(i=o._.apply(void 0,[u.sent(),2]))[0],a=i[1],c)return[2];s=!1,f=!1,u.label=2;case 2:u.trys.push([2,7,8,13]),v=(0,r._)(l),u.label=3;case 3:return[4,v.next()];case 4:if(!(s=!(p=u.sent()).done)||(m=p.value,c))return[3,6];if(!m.ok)return(0,d.l)(m.payload),[3,5];n(m.payload.message),u.label=5;case 5:return s=!1,[3,3];case 6:return[3,13];case 7:return y=u.sent(),f=!0,h=y,[3,13];case 8:if(u.trys.push([8,,11,12]),!(s&&null!=v.return))return[3,10];return[4,v.return()];case 9:u.sent(),u.label=10;case 10:return[3,12];case 11:if(f)throw h;return[7];case 12:return[7];case 13:return[2]}})})).apply(this,arguments)}return!function(){l.apply(this,arguments)}(),function(){c=!0,a()}}function v(t,e){return p.apply(this,arguments)}function p(){return(p=(0,i._)(function(t,e){var n,r,i,o,a,l,s,f,h,v;return(0,u.Jh)(this,function(u){switch(u.label){case 0:return n=e.replId,i=void 0===(r=e.sessionType)?c.FF.CHAT:r,a=void 0===(o=e.title)?"":o,[4,t.chatService.createSession.rpc({replId:n,sessionType:i,title:a})];case 1:if(!(l=u.sent()).ok)return(0,d.l)(l.payload),[2,{error:l.payload.message,session:null}];return f=(s=l.payload).sessionId,h=s.sessionCreationEventId,v=new Date,[2,{session:{id:f,replId:n,title:a,sessionType:i,sessionCreationEventId:h,created:v,updated:v,lastEventTime:v,archived:!1},error:null}]}})})).apply(this,arguments)}function m(t){for(var e=t.parentId,n=t.parentToActiveChild,r=t.events,i=[],o=e;o&&"break"!==function(){var t=r.byParentId.get(o);if(!t)return"break";var e=n.get(o);if(e)return i.push(e),o=e,"continue";var u=[],a=!0,c=!1,l=void 0;try{for(var s,f=t[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var d=s.value,h=r.byId.get(d);h&&u.push(h)}}catch(t){c=!0,l=t}finally{try{a||null==f.return||f.return()}finally{if(c)throw l}}var v=u.sort(function(t,e){return t.created.getTime()-e.created.getTime()}).map(function(t){return t.id});if(!(e=v[v.length-1]))throw Error("Expected id");i.push(e),o=e}(););return i}var y=a.B4.Create(c.lo);function g(t){return(0,l.Uy)(a.B4.Create(c.Em),function(e){e.state=t.state,e.sessionId=t.sessionId,e.parentEventId=t.parentEventId,e.eventId=t.id,e.context=t.context,e.contents=t.contents})}function b(t){var e,n,r,i,u,a,l,s,d,h,v,p=(e=t.sessionId,n=t.parentEventId,r=t.data,i=t.membership,u=t.currentUserId,l=void 0===(a=t.state)?c.he.COMPLETE:a,s=f()(),d=new Date,h={id:u.toString(),type:c.FW.USER,isTeam:!1,roles:[],membership:i},{id:s,created:d,updated:d,error:{type:c.lZ.EVENT_ERROR_TYPE_UNKNOWN,message:""},updateEventOperations:[],parentEventId:n,sessionId:e,state:l,sender:h,contents:(v=(0,o._)(function(t){var e,n,r,i,o,u,a,l,s,f,d,h="string"==typeof t.model?{type:c.BY.OVERRIDE,overrideModelName:t.model}:{type:t.model,overrideModelName:""};switch(t.kind){case"message":return[{contents:{$kind:"messageEventContents",messageEventContents:{content:t.message,intent:t.intent,media:null!==(e=t.media)&&void 0!==e?e:[],codeReference:null!==(n=t.codeReference)&&void 0!==n?n:y,usedModelSelector:h,debugFullPrompt:"",debugErrorSource:c.FM.DEBUG_ERROR_SOURCE_UNKNOWN,stopReason:c.wc.MESSAGE_STOP_REASON_UNKNOWN,sources:null!==(r=t.sources)&&void 0!==r?r:[]}}},{metadata:{$kind:"messageEventContext",messageEventContext:{intent:t.intent,mostRecentFile:null!==(i=t.mostRecentFile)&&void 0!==i?i:"",fileContext:null!==(o=t.fileContext)&&void 0!==o?o:[],modelSelector:h,useRag:null!==(u=t.useRag)&&void 0!==u&&u,extraResources:null!==(a=t.extraResources)&&void 0!==a?a:[]}}}];case"inline":return[{contents:{$kind:"inlineActionEventContents",inlineActionEventContents:{content:t.message,codeReference:null!==(l=t.codeReference)&&void 0!==l?l:y,messageType:t.messageType,debugErrorSource:c.FM.DEBUG_ERROR_SOURCE_UNKNOWN,usedModelSelector:h,media:[],sources:[]}}},{metadata:{$kind:"inlineActionEventContext",inlineActionEventContext:{mostRecentFile:null!==(s=t.mostRecentFile)&&void 0!==s?s:"",fileContext:null!==(f=t.fileContext)&&void 0!==f?f:[],modelSelector:h,extraResources:[],useRag:null!==(d=t.useRag)&&void 0!==d&&d}}}];case"shellSuggestion":return[{contents:{$kind:"shellSuggestionEventContents",shellSuggestionEventContents:{content:t.message}}},{metadata:{$kind:"shellSuggestionEventContext",shellSuggestionEventContext:{modelSelector:h}}}];case"localShellExecution":return[{contents:{$kind:"localShellExecutionEventContents",localShellExecutionEventContents:{command:t.command,channelName:t.channelName,eventId:t.parentEventId,index:0,result:"",exitCode:0,executed:!1}}},{metadata:{$kind:"localShellExecutionEventContext",localShellExecutionEventContext:{}}}];case"translation":return[{contents:{$kind:"translateEventContents",translateEventContents:{content:t.content,inputTarget:t.inputTarget,outputTarget:t.outputTarget}}},{metadata:{$kind:"translateEventContext",translateEventContext:{modelSelector:h}}}];case"byoPrompt":return[{contents:{$kind:"byoPromptEventContents",byoPromptEventContents:{historicalPrompt:"",messages:t.messages,parameters:t.parameters,result:{fields:[]}}}},{metadata:{$kind:"byoPromptEventContext",byoPromptEventContext:{modelSelector:h}}}]}}(r),2))[0],context:v[1]});return{event:p,request:g(p)}}function x(t,e){var n,r,i,o=(n=e.model,r=f()(),i="string"==typeof n?{type:c.BY.OVERRIDE,overrideModelName:n}:{type:n,overrideModelName:""},(0,l.Uy)(t,function(t){t.id=r;var n=t.contents.contents;if(t.context.metadata){var o,u,l,s,f=t.context.metadata;switch(null==f?void 0:f.$kind){case"inlineActionEventContext":f.inlineActionEventContext.modelSelector=i,(null===(o=e.fileContext)||void 0===o?void 0:o.mostRecentFile)&&(f.inlineActionEventContext.mostRecentFile=e.fileContext.mostRecentFile),(null===(u=e.fileContext)||void 0===u?void 0:u.fileContext)&&(f.inlineActionEventContext.fileContext=e.fileContext.fileContext);break;case"messageEventContext":f.messageEventContext.modelSelector=i,"intent"in e&&(f.messageEventContext.intent=e.intent),(null===(l=e.fileContext)||void 0===l?void 0:l.mostRecentFile)&&(f.messageEventContext.mostRecentFile=e.fileContext.mostRecentFile),(null===(s=e.fileContext)||void 0===s?void 0:s.fileContext)&&(f.messageEventContext.fileContext=e.fileContext.fileContext)}switch(n.$kind){case"inlineActionEventContents":"type"in e&&(n.inlineActionEventContents.messageType=e.type);break;case"messageEventContents":"intent"in e&&(n.messageEventContents.intent=e.intent)}}else if("messageEventContents"===n.$kind){var d,h,v=a.B4.Create(c.OF);v.modelSelector=i,(null===(d=e.fileContext)||void 0===d?void 0:d.mostRecentFile)&&(v.mostRecentFile=e.fileContext.mostRecentFile),(null===(h=e.fileContext)||void 0===h?void 0:h.fileContext)&&(v.fileContext=e.fileContext.fileContext),t.context={metadata:{$kind:"messageEventContext",messageEventContext:v}}}else if("inlineActionEventContents"===n.$kind){var p,m,y=a.B4.Create(c.so);y.modelSelector=i,(null===(p=e.fileContext)||void 0===p?void 0:p.mostRecentFile)&&(y.mostRecentFile=e.fileContext.mostRecentFile),(null===(m=e.fileContext)||void 0===m?void 0:m.fileContext)&&(y.fileContext=e.fileContext.fileContext),t.context={metadata:{$kind:"inlineActionEventContext",inlineActionEventContext:y}}}}));return{event:o,request:g(o)}}},57159:function(t,e,n){n.d(e,{$c:function(){return A},$h:function(){return T},BY:function(){return b},Em:function(){return tT},F2:function(){return tg},FF:function(){return k},FM:function(){return w},FW:function(){return C},G1:function(){return ty},G_:function(){return S},MD:function(){return x},OF:function(){return tv},Pj:function(){return tm},Q9:function(){return tk},Rv:function(){return R},Sp:function(){return Y},UF:function(){return th},ai:function(){return I},gS:function(){return tb},he:function(){return E},i3:function(){return g},lZ:function(){return _},lo:function(){return Q},so:function(){return tp},wc:function(){return D}});var r,i,o,u,a,c,l,s,f,d,h,v,p,m,y,g,b,x,w,E,S,C,k,D,T,A,_,I,O,R,N=n(74044);(r=g||(g={}))[r.UNKNOWN=0]="UNKNOWN",r[r.ENGLISH=1]="ENGLISH",r[r.CRON=2]="CRON";var P=N.Dy.Enum(g);(i=b||(b={}))[i.MODEL_TYPE_UNKNOWN=0]="MODEL_TYPE_UNKNOWN",i[i.BASIC=1]="BASIC",i[i.ADVANCED=2]="ADVANCED",i[i.OVERRIDE=3]="OVERRIDE";var M=N.Dy.Enum(b);(o=x||(x={}))[o.CODE_REFERENCE_TYPE_UNKNOWN=0]="CODE_REFERENCE_TYPE_UNKNOWN",o[o.FILE=1]="FILE",o[o.INLINE=2]="INLINE";var F=N.Dy.Enum(x);(u=w||(w={}))[u.DEBUG_ERROR_SOURCE_UNKNOWN=0]="DEBUG_ERROR_SOURCE_UNKNOWN",u[u.CONSOLE=1]="CONSOLE",u[u.LSP=2]="LSP";var Z=N.Dy.Enum(w);(a=E||(E={}))[a.EVENT_STATE_UNKNOWN=0]="EVENT_STATE_UNKNOWN",a[a.IN_PROGRESS=1]="IN_PROGRESS",a[a.COMPLETE=2]="COMPLETE";var L=N.Dy.Enum(E);(c=S||(S={}))[c.INLINE_MESSAGE_TYPE_UNKNOWN=0]="INLINE_MESSAGE_TYPE_UNKNOWN",c[c.EXPLAIN_CODE=1]="EXPLAIN_CODE",c[c.DEBUGGER=2]="DEBUGGER",c[c.GENERATE_CODE=3]="GENERATE_CODE",c[c.TRANSFORM_CODE=4]="TRANSFORM_CODE";var U=N.Dy.Enum(S);(l=C||(C={}))[l.USER_TYPE_UNKNOWN=0]="USER_TYPE_UNKNOWN",l[l.USER=1]="USER",l[l.AI=2]="AI",l[l.SERVICE=3]="SERVICE";var B=N.Dy.Enum(C);(s=k||(k={}))[s.SESSION_TYPE_UNKNOWN=0]="SESSION_TYPE_UNKNOWN",s[s.CHAT=1]="CHAT",s[s.INLINE_CHAT=2]="INLINE_CHAT",s[s.SINGLE_USE_SESSION=3]="SINGLE_USE_SESSION";var V=N.Dy.Enum(k);(f=D||(D={}))[f.MESSAGE_STOP_REASON_UNKNOWN=0]="MESSAGE_STOP_REASON_UNKNOWN",f[f.MAX_TOKENS=1]="MAX_TOKENS",f[f.STOP_TOKEN=2]="STOP_TOKEN",f[f.SAFETY=3]="SAFETY",f[f.RECITATION=4]="RECITATION";var j=N.Dy.Enum(D);(d=T||(T={}))[d.MESSAGE_ACTION_UNKNOWN=0]="MESSAGE_ACTION_UNKNOWN",d[d.NONE=1]="NONE",d[d.REPLIT_DOCS=2]="REPLIT_DOCS",d[d.GENERATE=3]="GENERATE",d[d.EXPLAIN=4]="EXPLAIN",d[d.TRANSFORM=5]="TRANSFORM",d[d.DEBUG=6]="DEBUG",d[d.FIND_INTENT=7]="FIND_INTENT",d[d.AGENT=8]="AGENT";var $=N.Dy.Enum(T);(h=A||(A={}))[h.MEMBERSHIP_TYPE_UNKNOWN=0]="MEMBERSHIP_TYPE_UNKNOWN",h[h.FREE=1]="FREE",h[h.CORE=2]="CORE";var H=N.Dy.Enum(A);(v=_||(_={}))[v.EVENT_ERROR_TYPE_UNKNOWN=0]="EVENT_ERROR_TYPE_UNKNOWN",v[v.MANUALLY_ABORTED=1]="MANUALLY_ABORTED",v[v.INCOMPLETE_UPDATE=2]="INCOMPLETE_UPDATE",v[v.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",v[v.USAGE_LIMIT=4]="USAGE_LIMIT",v[v.TEST_ERROR=5]="TEST_ERROR",v[v.INVALID_INPUT=6]="INVALID_INPUT",v[v.UNAUTHORIZED=7]="UNAUTHORIZED";var G=N.Dy.Enum(_);(p=I||(I={}))[p.SET=0]="SET",p[p.ADD=1]="ADD",p[p.CLEAR=2]="CLEAR",p[p.APPEND=3]="APPEND";var z=N.Dy.Enum(I);(m=O||(O={}))[m.NULL_VALUE=0]="NULL_VALUE";var K=N.Dy.Enum(O);(y=R||(R={}))[y.STRING=0]="STRING",y[y.INTEGER=1]="INTEGER";var W=N.Dy.Enum(R);N.Dy.Object({}),N.Dy.Object({});var q=N.Dy.Object({}),Y=N.Dy.Object({indexFrom:N.Dy.Number(),indexTo:N.Dy.Number(),lineFrom:N.Dy.Number(),lineTo:N.Dy.Number()}),Q=N.Dy.Object({code:N.Dy.String(),filePath:N.Dy.String(),fileVersion:N.Dy.Number(),fileContent:N.Dy.String(),range:Y,language:N.Dy.String(),referenceType:F}),X=N.Dy.Object({identifier:N.Dy.String(),url:N.Dy.String(),mimeType:N.Dy.String()}),J=N.Dy.Object({type:M,overrideModelName:N.Dy.String()}),tt=N.Dy.Object({url:N.Dy.String(),contents:N.Dy.String(),lineNumber:N.Dy.Number()}),te=N.Dy.Object({content:N.Dy.String(),intent:$,stopReason:j,debugFullPrompt:N.Dy.String(),codeReference:Q,debugErrorSource:Z,media:N.Dy.Array(X),usedModelSelector:J,sources:N.Dy.Array(tt)}),tn=N.Dy.Object({messageType:U,debugErrorSource:Z,content:N.Dy.String(),codeReference:Q,usedModelSelector:J,media:N.Dy.Array(X),sources:N.Dy.Array(tt)}),tr=N.Dy.Object({command:N.Dy.String(),result:N.Dy.String(),eventId:N.Dy.String(),index:N.Dy.Number(),exitCode:N.Dy.Number(),channelName:N.Dy.String(),executed:N.Dy.Boolean()}),ti=N.Dy.Object({content:N.Dy.String()}),to=N.Dy.Object({inputTarget:P,outputTarget:P,content:N.Dy.String()}),tu=N.Dy.Object({role:N.Dy.String(),content:N.Dy.String()}),ta=N.Dy.Object({name:N.Dy.String(),required:N.Dy.Boolean(),parameterType:W,description:N.Dy.String(),enums:N.Dy.Array(N.Dy.String())}),tc=N.Dy.Object({kind:N.Dy.Union([N.Dy.Object({$kind:N.Dy.Literal("nullValue"),nullValue:K}),N.Dy.Object({$kind:N.Dy.Literal("numberValue"),numberValue:N.Dy.Number()}),N.Dy.Object({$kind:N.Dy.Literal("stringValue"),stringValue:N.Dy.String()}),N.Dy.Object({$kind:N.Dy.Literal("boolValue"),boolValue:N.Dy.Boolean()})])}),tl=N.Dy.Object({key:N.Dy.String(),value:tc}),ts=N.Dy.Object({fields:N.Dy.Array(tl)}),tf=N.Dy.Object({historicalPrompt:N.Dy.String(),messages:N.Dy.Array(tu),parameters:N.Dy.Array(ta),result:ts}),td=N.Dy.Object({contents:N.Dy.Union([N.Dy.Object({$kind:N.Dy.Literal("sessionCreationEventContents"),sessionCreationEventContents:q}),N.Dy.Object({$kind:N.Dy.Literal("messageEventContents"),messageEventContents:te}),N.Dy.Object({$kind:N.Dy.Literal("inlineActionEventContents"),inlineActionEventContents:tn}),N.Dy.Object({$kind:N.Dy.Literal("localShellExecutionEventContents"),localShellExecutionEventContents:tr}),N.Dy.Object({$kind:N.Dy.Literal("shellSuggestionEventContents"),shellSuggestionEventContents:ti}),N.Dy.Object({$kind:N.Dy.Literal("translateEventContents"),translateEventContents:to}),N.Dy.Object({$kind:N.Dy.Literal("byoPromptEventContents"),byoPromptEventContents:tf})])}),th=N.Dy.Object({}),tv=N.Dy.Object({mostRecentFile:N.Dy.String(),fileContext:N.Dy.Array(Q),modelSelector:J,intent:$,extraResources:N.Dy.Array(N.Dy.String()),useRag:N.Dy.Boolean()}),tp=N.Dy.Object({mostRecentFile:N.Dy.String(),fileContext:N.Dy.Array(Q),modelSelector:J,extraResources:N.Dy.Array(N.Dy.String()),useRag:N.Dy.Boolean()}),tm=N.Dy.Object({}),ty=N.Dy.Object({modelSelector:J}),tg=N.Dy.Object({modelSelector:J}),tb=N.Dy.Object({modelSelector:J}),tx=N.Dy.Object({metadata:N.Dy.Union([N.Dy.Object({$kind:N.Dy.Literal("sessionCreationEventContext"),sessionCreationEventContext:th}),N.Dy.Object({$kind:N.Dy.Literal("messageEventContext"),messageEventContext:tv}),N.Dy.Object({$kind:N.Dy.Literal("inlineActionEventContext"),inlineActionEventContext:tp}),N.Dy.Object({$kind:N.Dy.Literal("localShellExecutionEventContext"),localShellExecutionEventContext:tm}),N.Dy.Object({$kind:N.Dy.Literal("shellSuggestionEventContext"),shellSuggestionEventContext:ty}),N.Dy.Object({$kind:N.Dy.Literal("translateEventContext"),translateEventContext:tg}),N.Dy.Object({$kind:N.Dy.Literal("byoPromptEventContext"),byoPromptEventContext:tb})])}),tw=N.Dy.Object({type:B,id:N.Dy.String(),membership:H,roles:N.Dy.Array(N.Dy.String()),isTeam:N.Dy.Boolean()}),tE=N.Dy.Object({typeUrl:N.Dy.String(),value:N.Dy.Uint8Array()}),tS=N.Dy.Object({id:N.Dy.String(),operationType:z,key:N.Dy.String(),value:N.Dy.String(),intValue:N.Dy.Number(),boolValue:N.Dy.Boolean(),protobufValue:tE}),tC=N.Dy.Object({type:G,message:N.Dy.String()}),tk=N.Dy.Object({id:N.Dy.String(),parentEventId:N.Dy.String(),contents:td,context:tx,state:L,created:N.Dy.Date(),updated:N.Dy.Date(),sender:tw,sessionId:N.Dy.String(),updateEventOperations:N.Dy.Array(tS),error:tC}),tD=N.Dy.Object({id:N.Dy.String(),title:N.Dy.String(),sessionType:V,replId:N.Dy.String(),events:N.Dy.Array(tk),sessionCreationEventId:N.Dy.String(),archived:N.Dy.Boolean(),lastEventTime:N.Dy.Date(),created:N.Dy.Date(),updated:N.Dy.Date()});N.Dy.Object({user:tw,replIds:N.Dy.Array(N.Dy.String())});var tT=N.Dy.Object({parentEventId:N.Dy.String(),sessionId:N.Dy.String(),state:L,contents:td,context:tx,eventId:N.Dy.String(),error:tC});N.Dy.Object({eventId:N.Dy.String()});var tA=N.Dy.Object({request:tT,user:tw});N.Dy.Object({events:N.Dy.Array(tA)}),N.Dy.Object({eventIds:N.Dy.Array(N.Dy.String())}),N.Dy.Object({eventId:N.Dy.String(),operations:N.Dy.Array(tS),state:L,error:tC,requireCompletion:N.Dy.Optional(N.Dy.Boolean())}),N.Dy.Object({}),N.Dy.Object({eventId:N.Dy.String(),context:tx}),N.Dy.Object({}),N.Dy.Object({mimeType:N.Dy.String(),replId:N.Dy.String(),sessionId:N.Dy.String()}),N.Dy.Object({uploadUrl:N.Dy.String(),downloadUrl:N.Dy.String(),identifier:N.Dy.String()}),N.Dy.Object({eventId:N.Dy.String()}),N.Dy.Object({eventId:N.Dy.String()}),N.Dy.Object({beforeTimestamp:N.Dy.Date(),limit:N.Dy.Number(),includeFirstSessionEvents:N.Dy.Boolean(),firstSessionEventsLimit:N.Dy.Number(),replId:N.Dy.String(),sessionTypes:N.Dy.Array(V),archived:N.Dy.Optional(N.Dy.Boolean())}),N.Dy.Object({hasMore:N.Dy.Boolean(),sessions:N.Dy.Array(tD)}),N.Dy.Object({sessionId:N.Dy.String(),limit:N.Dy.Number()}),N.Dy.Object({events:N.Dy.Array(tk),session:tD}),N.Dy.Object({replId:N.Dy.String(),sessionType:V,title:N.Dy.String()}),N.Dy.Object({sessionId:N.Dy.String(),sessionCreationEventId:N.Dy.String()}),N.Dy.Object({replId:N.Dy.String()});var t_=N.Dy.Object({}),tI=N.Dy.Object({eventId:N.Dy.String(),parentEventId:N.Dy.String(),sessionId:N.Dy.String(),state:L,contents:td,sender:tw,error:tC}),tO=N.Dy.Object({sessionId:N.Dy.String(),title:N.Dy.String(),replId:N.Dy.String(),sessionCreationEventId:N.Dy.String(),sessionType:V,archived:N.Dy.Optional(N.Dy.Boolean())}),tR=N.Dy.Object({sessionId:N.Dy.String(),eventId:N.Dy.String(),operations:N.Dy.Array(tS),state:L,error:tC}),tN=N.Dy.Object({sessionId:N.Dy.String(),title:N.Dy.String(),sessionType:V,archived:N.Dy.Optional(N.Dy.Boolean())}),tP=N.Dy.Object({replId:N.Dy.String(),sessionId:N.Dy.String(),eventId:N.Dy.String()});N.Dy.Object({message:N.Dy.Union([N.Dy.Object({$kind:N.Dy.Literal("sender"),sender:tw}),N.Dy.Object({$kind:N.Dy.Literal("seqno"),seqno:N.Dy.Number()}),N.Dy.Object({$kind:N.Dy.Literal("subscriptionStatusMessage"),subscriptionStatusMessage:t_}),N.Dy.Object({$kind:N.Dy.Literal("createEventMessage"),createEventMessage:tI}),N.Dy.Object({$kind:N.Dy.Literal("createSessionMessage"),createSessionMessage:tO}),N.Dy.Object({$kind:N.Dy.Literal("updateEventMessage"),updateEventMessage:tR}),N.Dy.Object({$kind:N.Dy.Literal("updateSessionMessage"),updateSessionMessage:tN}),N.Dy.Object({$kind:N.Dy.Literal("abortEventMessage"),abortEventMessage:tP})])});var tM=N.Dy.Object({limit:N.Dy.Number(),usage:N.Dy.Number(),resetTime:N.Dy.Date()}),tF=N.Dy.Object({basicModelLimits:tM,advancedModelLimits:tM});N.Dy.Object({user:tw}),N.Dy.Object({limits:tF}),N.Dy.Object({id:N.Dy.String(),title:N.Dy.String(),sessionType:V,archived:N.Dy.Optional(N.Dy.Boolean())}),N.Dy.Object({}),N.Dy.Object({replId:N.Dy.String(),contents:td,context:tx});var tZ=N.Dy.Object({rootId:N.Dy.String()});N.Dy.Object({message:N.Dy.Union([N.Dy.Object({$kind:N.Dy.Literal("startMessage"),startMessage:tZ}),N.Dy.Object({$kind:N.Dy.Literal("createEventMessage"),createEventMessage:tI}),N.Dy.Object({$kind:N.Dy.Literal("updateEventMessage"),updateEventMessage:tR})])})},62130:function(t,e,n){n.d(e,{l:function(){return o},o:function(){return i}});var r=n(43182);function i(t,e){var n=Error(t);return r.$e(function(t){t.setTag("ai-chat",!0),e&&t.setExtras(e),r.Tb(n)}),n}function o(t){"UNEXPECTED_DISCONNECT"!==t.code&&i(t.message,{code:t.code})}},95369:function(t,e,n){n.d(e,{Vs:function(){return y},WR:function(){return m},XW:function(){return h},bD:function(){return d},gS:function(){return v},nB:function(){return p},sg:function(){return g}});var r=n(27387),i=n(66626),o=n(96583),u=n(85733),a=n(65914),c=n(57159),l=n(41974),s=n(50959),f=n(33817);function d(){var t,e,n,a,d,h,v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=(0,i._)((0,s.useState)(null!==(h=v.initialSessionId)&&void 0!==h?h:null),2),m=p[0],y=p[1],g=(0,i._)((0,s.useState)(!1),2),b=g[0],x=g[1],w=(0,i._)((e=(t=(0,i._)((0,s.useState)(new Map),2))[0],n=t[1],[e,(0,s.useCallback)(function(t){n(function(e){return(0,l.Uy)(e,function(e){null===t.eventId?e.delete(t.parentEventId):e.set(t.parentEventId,t.eventId)})})},[])]),2),E=w[0],S=w[1],C=(0,f.ZR)().replId,k=(0,f.EU)(),D=(0,f.K6)(),T=(0,f.$3)(),A=(0,f.ff)(),_=(0,f.Jf)(m,E),I=(0,u.Z)(b),O=(0,f.Xn)(m,E);(0,s.useEffect)(function(){return O.subscribe(function(t){if(t&&t.sender.type===c.FW.AI){var e=t.state===c.he.COMPLETE;!0===I.current&&e&&x(!1)}})},[O,I]);var R=(0,u.Z)(v.onError),N=(0,u.Z)(v.onSession),P=(0,u.Z)(v.getFileContext);return{sendMessage:(0,s.useCallback)((a=(0,r._)(function(t){var e,n,r,i,u,a,l,s,f=arguments;return(0,o.Jh)(this,function(o){switch(o.label){case 0:if(e=f.length>1&&void 0!==f[1]?f[1]:{},x(!0),m)return[3,3];return[4,D({replId:C,sessionType:null!==(r=e.sessionType)&&void 0!==r?r:function(t){switch(t.kind){case"inline":case"shellSuggestion":return c.FF.INLINE_CHAT;case"translation":case"byoPrompt":return c.FF.SINGLE_USE_SESSION;default:return c.FF.CHAT}}(t)})];case 1:if(!(i=o.sent()))return null===(u=R.current)||void 0===u||u.call(R,"Error creating session"),[2];return y(i.id),null===(n=N.current)||void 0===n||n.call(N,i.id),[4,T({parentEventId:i.sessionCreationEventId,sessionId:i.id,data:t,getFileContext:P.current,state:"localShellExecution"===t.kind?t.state:void 0})];case 2:return o.sent().ok||null===(a=R.current)||void 0===a||a.call(R,"Error sending message"),[2];case 3:if(!(l=k(m,E)))throw Error("Expected parent id");return[4,T({parentEventId:l,sessionId:m,data:t,getFileContext:P.current,state:"localShellExecution"===t.kind?t.state:void 0})];case 4:return o.sent().ok||null===(s=R.current)||void 0===s||s.call(R,"Error sending message"),[2]}})}),function(t){return a.apply(this,arguments)}),[m,D,T,k,E,C,N,R,P]),sendUpdateEvent:(0,s.useCallback)((d=(0,r._)(function(t){var e,n,r,i;return(0,o.Jh)(this,function(o){switch(o.label){case 0:if(e=t.operations,n=t.state,r=t.eventId,!m)throw Error("can't update an event without a session");return[4,A({sessionId:m,eventId:r,operations:e,state:n})];case 1:return o.sent().ok||null===(i=R.current)||void 0===i||i.call(R,"Error sending update event"),[2]}})}),function(t){return d.apply(this,arguments)}),[m,A,R]),stopMessage:_,loading:b,setSessionId:y,sessionId:m,parentToActiveChild:E,setActiveChild:S}}function h(t){var e=t.onCode,n=d({getFileContext:t.getFileContext}),r=n.sendMessage,o=n.stopMessage,l=n.loading,h=n.sessionId,v=n.parentToActiveChild,p=(0,i._)((0,s.useState)(!1),2),m=p[0],y=p[1],g=(0,i._)((0,s.useState)(null),2),b=g[0],x=g[1],w=(0,i._)((0,a.s)(),1)[0],E=(0,f.B6)(h,v),S=(0,u.Z)(m);(0,s.useEffect)(function(){var t,n;if(h)return(null===(t=E.current)||void 0===t?void 0:t.code)&&e(null===(n=E.current)||void 0===n?void 0:n.code),E.subscribe(function(t){(null==t?void 0:t.code)&&e(t.code),(null==t?void 0:t.error)&&x(t.error),!!(null==t?void 0:t.completed)!==S.current&&y((null==t?void 0:t.completed)||!1)})},[h,e,E,S]);var C=(0,s.useCallback)(function(){return E.current},[E]),k=(0,s.useCallback)(function(){return x(null)},[]);return{sendMessage:(0,s.useCallback)(function(t){x(null),r({kind:"inline",message:t.message,messageType:t.type,model:"advanced"===w?c.BY.ADVANCED:c.BY.BASIC,codeReference:t.codeReference,fileContext:t.fileContext,useRag:!0})},[w,r]),stopMessage:o,completed:m,error:b,clearError:k,loading:l,getCode:C}}function v(t){var e=t.getFileContext,n=d({getFileContext:e}),l=n.sendMessage,h=n.stopMessage,v=n.loading,p=n.sessionId,m=n.parentToActiveChild,y=(0,i._)((0,a.s)(),1)[0],g=(0,f.gn)(p,m),b=(0,f.oV)(),x=g&&g.sender.type===c.FW.AI?g:null,w=(null==x?void 0:x.state)===c.he.COMPLETE,E=(null==x?void 0:x.contents.contents.$kind)==="inlineActionEventContents"?x.contents.contents.inlineActionEventContents.content:null,S=(0,u.Z)(e),C=(0,s.useCallback)((0,r._)(function(){var t,e,n;return(0,o.Jh)(this,function(r){switch(r.label){case 0:if((null==g?void 0:g.sender.type)!==c.FW.AI)return[3,4];if(t=[g.id],e={model:"advanced"===y?c.BY.ADVANCED:c.BY.BASIC,type:c.G_.EXPLAIN_CODE},!S.current)return[3,2];return[4,S.current()];case 1:return n=r.sent(),[3,3];case 2:n=void 0,r.label=3;case 3:b.apply(void 0,t.concat([(e.fileContext=n,e)])),r.label=4;case 4:return[2]}})}),[b,g,y,S]);return{sendMessage:(0,s.useCallback)(function(t){l({kind:"inline",message:"",messageType:c.G_.EXPLAIN_CODE,model:"advanced"===y?c.BY.ADVANCED:c.BY.BASIC,codeReference:t.codeReference,fileContext:t.fileContext,useRag:!0})},[y,l]),stopMessage:h,completed:w,loading:v,model:y,message:E,retry:C,sessionId:p}}function p(t){var e,n=t.onSession,l=t.getFileContext,d=t.onError,h=(0,i._)((0,s.useState)(!1),2),v=h[0],p=h[1],m=(0,i._)((0,a.N)(),1)[0],y=(0,u.Z)(n),g=(0,f.ZR)().replId,b=(0,f.K6)(),x=(0,f.$3)(),w=(0,u.Z)(l),E=(0,u.Z)(d);return{sendMessage:(0,s.useCallback)((e=(0,r._)(function(t){var e,n,r;return(0,o.Jh)(this,function(i){switch(i.label){case 0:return p(!0),[4,b({replId:g,sessionType:c.FF.CHAT})];case 1:if(!(e=i.sent()))return null===(n=E.current)||void 0===n||n.call(E,"Error creating session"),[2];return y.current(e.id),[4,x({parentEventId:e.sessionCreationEventId,sessionId:e.id,getFileContext:w.current,data:{kind:"inline",message:t.message,messageType:c.G_.DEBUGGER,model:"advanced"===m?c.BY.ADVANCED:c.BY.BASIC,codeReference:t.codeReference,useRag:!0}})];case 2:return i.sent().ok||null===(r=E.current)||void 0===r||r.call(E,"Error sending message"),p(!1),[2]}})}),function(t){return e.apply(this,arguments)}),[b,x,g,y,E,w,m]),loading:v}}function m(t){var e=t.onCode,n=d(),r=n.sendMessage,o=n.stopMessage,a=n.loading,l=n.sessionId,h=n.parentToActiveChild,v=(0,i._)((0,s.useState)(!1),2),p=v[0],m=v[1],y=(0,i._)((0,s.useState)(null),2),g=y[0],b=y[1],x=(0,f.B6)(l,h),w=(0,u.Z)(p);(0,s.useEffect)(function(){var t,n;if(l)return(null===(t=x.current)||void 0===t?void 0:t.code)&&e(null===(n=x.current)||void 0===n?void 0:n.code),x.subscribe(function(t){(null==t?void 0:t.code)&&e(t.code),(null==t?void 0:t.error)&&b(t.error),!!(null==t?void 0:t.completed)!==w.current&&m((null==t?void 0:t.completed)||!1)})},[l,e,x,w]);var E=(0,s.useCallback)(function(){return x.current},[x]),S=(0,s.useCallback)(function(){return b(null)},[]);return{sendMessage:(0,s.useCallback)(function(t){b(null),r({kind:"shellSuggestion",message:t.message,model:c.BY.BASIC})},[r]),stopMessage:o,completed:p,error:g,clearError:S,loading:a,getCode:E}}function y(t){var e=t.onTranslation,n=t.onError,r=d(),o=r.sendMessage,a=r.stopMessage,l=r.loading,h=r.sessionId,v=r.parentToActiveChild,p=(0,s.useRef)(""),m=(0,i._)((0,s.useState)(!1),2),y=m[0],g=m[1],b=(0,i._)((0,s.useState)(null),2),x=b[0],w=b[1],E=(0,f.B6)(h,v),S=(0,u.Z)(y);(0,s.useEffect)(function(){if(h)return E.subscribe(function(t){(null==t?void 0:t.code)&&e(t.code,t.completed,p.current),(null==t?void 0:t.error)&&(n(t.error),w(t.error)),!!(null==t?void 0:t.completed)!==S.current&&g((null==t?void 0:t.completed)||!1)})},[h,e,n,E,S,p]);var C=(0,s.useCallback)(function(){return E.current},[E]),k=(0,s.useCallback)(function(){return w(null)},[]);return{sendMessage:(0,s.useCallback)(function(t){p.current=t.content,w(null),o({kind:"translation",content:t.content,inputTarget:t.inputTarget,outputTarget:t.outputTarget,model:c.BY.BASIC})},[o]),stopMessage:a,completed:y,error:x,clearError:k,loading:l,getCode:C}}function g(t){var e=t.onResponse,n=d(),r=n.sendMessage,o=n.stopMessage,a=n.loading,l=n.sessionId,h=n.parentToActiveChild,v=(0,i._)((0,s.useState)(!1),2),p=v[0],m=v[1],y=(0,i._)((0,s.useState)(null),2),g=y[0],b=y[1],x=(0,f.ic)(l,h),w=(0,u.Z)(p);(0,s.useEffect)(function(){if(l)return x.subscribe(function(t){(null==t?void 0:t.response)&&e(t.response,t.completed),(null==t?void 0:t.error)&&b(t.error),!!(null==t?void 0:t.completed)!==w.current&&m((null==t?void 0:t.completed)||!1)})},[l,e,x,w]);var E=(0,s.useCallback)(function(){return x.current},[x]),S=(0,s.useCallback)(function(){return b(null)},[]);return{sendMessage:(0,s.useCallback)(function(t,e){b(null),r({kind:"byoPrompt",messages:[{role:"system",content:t},{role:"user",content:e}],parameters:[{name:"result_string",description:'You need to respond in full sentences. For example, "In this commit main.py had a method update_event added to it."',required:!0,parameterType:c.Rv.STRING,enums:[]}],model:c.BY.BASIC})},[r]),stopMessage:o,completed:p,error:g,clearError:S,loading:a,getResponse:E}}},33817:function(t,e,n){n.d(e,{Uk:function(){return R},aN:function(){return Q},ll:function(){return G},mL:function(){return tr},m8:function(){return X},ZR:function(){return N},K6:function(){return tA},Yz:function(){return Y},Mi:function(){return tP},$q:function(){return tB},hI:function(){return tv},dR:function(){return tq},ww:function(){return t$},Tt:function(){return tX},B6:function(){return tb},ic:function(){return tx},Bk:function(){return z},EU:function(){return tw},p:function(){return tJ},Bh:function(){return td},Lw:function(){return F},fX:function(){return tY},az:function(){return V},Un:function(){return L},eP:function(){return U},gn:function(){return tm},Xn:function(){return ty},Ti:function(){return tF},SH:function(){return tZ},oV:function(){return tU},$3:function(){return tS},kP:function(){return tR},Jf:function(){return tg},ff:function(){return tk},_i:function(){return tQ},Ud:function(){return tI},xe:function(){return $}});var r,i,o,u,a,c,l,s,f,d,h,v,p=n(27387),m=n(98924),y=n(66626),g=n(63257),b=n(96583),x=n(57159),w=n(99149),E=RegExp(".*?```([a-zA-Z0-9+#]+)\\n(.*?)(?:$|\\n$|\\n`$|\\n``$|\\n```)","gs"),S=function(t,e){for(var n,r=[];null!==(n=E.exec(t));){var i=n[1],o=n[2];if(!1===e){var u=o.substring(0,o.lastIndexOf("\n"));r.push({language:i,code:u})}else r.push({language:i,code:o})}return r},C=n(41974),k=n(42650),D=n(88205),T=n(37697),A=n(50959),_=n(82750),I=n(92268),O=n(62130),R=(0,k.cn)({replId:"",currentUserId:0,hasAccessToAdvancedModel:!1,advancedChatEngineOverride:null});function N(){return(0,_.Hg)(R)}var P=(0,k.cn)(function(t){return t(R).hasAccessToAdvancedModel}),M=(0,k.cn)(function(t){return t(P)?x.$c.CORE:x.$c.FREE});function F(){return(0,_.Hg)(P)}var Z=(0,k.cn)(!1);function L(){return(0,_.Hg)(Z)}function U(){return[(0,_.Hg)(Z),(0,_.$X)(Z)]}var B=(0,k.cn)("basic");function V(){return[(0,_.Hg)(B),(0,_.$X)(B)]}(0,D.kv)(R,function(t){return t.advancedChatEngineOverride});var j=(0,k.cn)(null);function $(){return(0,_.Hg)(j)}var H=(0,k.cn)(function(t){var e,n=null===(e=t(j))||void 0===e?void 0:e.advancedModelLimits;return!!n&&n.usage<n.limit});function G(){return(0,_.Hg)(H)}function z(){return(0,_.XD)(H)}var K=(0,k.cn)(new Map),W=(0,k.cn)({byId:new Map,byParentId:new Map}),q=(0,k.cn)(function(t){return{config:t(R),userLimits:t(j),sessions:Object.fromEntries(t(K).entries()),events:Object.fromEntries(t(W).byId)}});function Y(){return(0,_.Hg)(q)}var Q=(0,k.cn)({client:{}});function X(){return(0,_.Hg)(Q).client}function J(t,e){var n=!0,r=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value,c=function(t){var e=null;if(t.updateEventOperations.length){var n="",r=!0,i=!1,o=void 0;try{for(var u,a=t.updateEventOperations[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;c.operationType===x.ai.ADD&&"content"===c.key&&(n+=c.value)}}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}switch(t.contents.contents.$kind){case"messageEventContents":e=t.contents.contents.messageEventContents;break;case"inlineActionEventContents":e=t.contents.contents.inlineActionEventContents}e&&(e.content=n)}return null!==e}(a),l=t.byId.get(a.id);((null==l?void 0:l.state)!==x.he.IN_PROGRESS||a.state===x.he.COMPLETE||c)&&t.byId.set(a.id,a);var s=t.byParentId.get(a.parentEventId);s?s.add(a.id):t.byParentId.set(a.parentEventId,new Set([a.id]))}}catch(t){r=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}}var tt=(0,k.cn)(null,function(t,e,n){var r=[],i=!0,o=!1,u=void 0;try{for(var a,c=n.sessions[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=a.value;r.push.apply(r,(0,g._)(l.events))}}catch(t){o=!0,u=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}e(K,function(t){return(0,C.Uy)(t,function(t){var e=!0,r=!1,i=void 0;try{for(var o,u=n.sessions[Symbol.iterator]();!(e=(o=u.next()).done);e=!0){var a=o.value;a.events;var c=(0,m._)(a,["events"]);t.set(c.id,c)}}catch(t){r=!0,i=t}finally{try{e||null==u.return||u.return()}finally{if(r)throw i}}})}),e(W,function(t){return(0,C.Uy)(t,function(t){J(t,r)})})});function te(t,e){return e.updated.getTime()-t.updated.getTime()}var tn=(0,k.cn)(function(t){return(0,g._)(t(K).values()).sort(te)});function tr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.archivedOnly,n=void 0!==e&&e,r=(0,y._)((0,A.useState)(!1),2),i=r[0],o=r[1],u=(0,_.Hg)(tn),a=(0,_.$X)(tH),c=(0,A.useMemo)(function(){return u.filter(function(t){return t.sessionType===x.FF.CHAT&&t.archived===n})},[u,n]);return(0,A.useEffect)(function(){var t=!1;function e(){return(e=(0,p._)(function(){return(0,b.Jh)(this,function(e){switch(e.label){case 0:return o(!0),[4,a({archivedOnly:n})];case 1:if(e.sent(),t)return[2];return o(!1),[2]}})})).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){t=!0}},[a,n]),{sessions:c,loading:i}}var ti=new Map,to=(0,k.cn)(null,function(t,e,n,r){var i=setInterval((0,p._)(function(){var t;return(0,b.Jh)(this,function(r){return(t=ti.get(n))&&e(W,function(r){return(0,C.Uy)(r,function(r){var i=r.byId.get(n);if(!i)throw Error("Expected event");var o=null;switch(i.contents.contents.$kind){case"messageEventContents":o=i.contents.contents.messageEventContents;break;case"inlineActionEventContents":o=i.contents.contents.inlineActionEventContents;break;case"shellSuggestionEventContents":o=i.contents.contents.shellSuggestionEventContents;break;case"translateEventContents":o=i.contents.contents.translateEventContents}o&&t.messageQueue.length>0&&(o.content+=t.messageQueue.shift()),t.complete&&0===t.messageQueue.length&&(clearInterval(t.interval),ti.delete(n),i.state=x.he.COMPLETE,e(tj))})}),[2]})}),10);ti.set(n,{interval:i,messageQueue:[],complete:r===x.he.COMPLETE})}),tu=function(t,e){var n,r=ti.get(t);if(r){var i=e.split(/(\s+)/);(n=r.messageQueue).push.apply(n,(0,g._)(i))}},ta=(0,k.cn)(null,function(t,e,n){var r=w.B4.Create(x.Q9);switch(r.id=n.eventId,r.parentEventId=n.parentEventId,r.sessionId=n.sessionId,r.state=n.state,r.sender=n.sender,r.contents=n.contents,r.created=new Date,n.contents.contents.$kind){case"messageEventContents":r.context.metadata={$kind:"messageEventContext",messageEventContext:w.B4.Create(x.OF)},e(to,n.eventId,n.state);break;case"inlineActionEventContents":r.context.metadata={$kind:"inlineActionEventContext",inlineActionEventContext:w.B4.Create(x.so)},e(to,n.eventId,n.state);break;case"shellSuggestionEventContents":r.context.metadata={$kind:"shellSuggestionEventContext",shellSuggestionEventContext:w.B4.Create(x.G1)};break;case"sessionCreationEventContents":r.context.metadata={$kind:"sessionCreationEventContext",sessionCreationEventContext:w.B4.Create(x.UF)};break;case"localShellExecutionEventContents":r.context.metadata={$kind:"localShellExecutionEventContext",localShellExecutionEventContext:w.B4.Create(x.Pj)};break;case"translateEventContents":r.context.metadata={$kind:"translateEventContext",translateEventContext:w.B4.Create(x.F2)};break;case"byoPromptEventContents":r.context.metadata={$kind:"byoPromptEventContext",byoPromptEventContext:w.B4.Create(x.gS)}}e(W,function(t){return(0,C.Uy)(t,function(t){J(t,[r])})})}),tc=(0,k.cn)(null,(r=(0,p._)(function(t,e,n){var r;return(0,b.Jh)(this,function(t){switch(t.label){case 0:if(r=!1,e(W,function(t){return(0,C.Uy)(t,function(t){var e=t.byId.get(n.eventId),i=ti.get(n.eventId);if(!e)throw Error("Expected event");var o=null;switch(e.contents.contents.$kind){case"messageEventContents":o=e.contents.contents.messageEventContents;break;case"inlineActionEventContents":o=e.contents.contents.inlineActionEventContents;break;case"shellSuggestionEventContents":o=e.contents.contents.shellSuggestionEventContents;break;case"translateEventContents":o=e.contents.contents.translateEventContents}if("localShellExecutionEventContents"===e.contents.contents.$kind){var u=e.contents.contents.localShellExecutionEventContents,a=!0,c=!1,l=void 0;try{for(var s,f=n.operations[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var d=s.value;switch(d.key){case"result":u.result=d.value;break;case"exit_code":u.exitCode=d.intValue;break;case"executed":u.executed=d.boolValue}}}catch(t){c=!0,l=t}finally{try{a||null==f.return||f.return()}finally{if(c)throw l}}}else if("byoPromptEventContents"===e.contents.contents.$kind){var h=e.contents.contents.byoPromptEventContents,v=!0,p=!1,m=void 0;try{for(var y,g=n.operations[Symbol.iterator]();!(v=(y=g.next()).done);v=!0){var b,w=y.value,E=parseInt(w.key.split("/")[2],10),S=h.result.fields[E],C=null==S?void 0:null===(b=S.value)||void 0===b?void 0:b.kind,k=(C&&"stringValue"===C.$kind?C.stringValue:"")+w.value,D={key:"string_value",value:{kind:{$kind:"stringValue",stringValue:k}}};h.result.fields[E]=D}}catch(t){p=!0,m=t}finally{try{v||null==g.return||g.return()}finally{if(p)throw m}}}else if(o){var T=!0,A=!1,_=void 0;try{for(var I,O=n.operations[Symbol.iterator]();!(T=(I=O.next()).done);T=!0){var R=I.value;R.operationType===x.ai.ADD&&"content"===R.key&&(i?tu(n.eventId,R.value):o.content+=R.value)}}catch(t){A=!0,_=t}finally{try{T||null==O.return||O.return()}finally{if(A)throw _}}}i?i.complete||(i.complete=n.state===x.he.COMPLETE):e.state!==x.he.COMPLETE&&n.state===x.he.COMPLETE&&(r=!0,e.state=n.state),e.error=n.error})}),!r)return[3,2];return[4,e(tj)];case 1:t.sent(),t.label=2;case 2:return[2]}})}),function(t,e,n){return r.apply(this,arguments)})),tl=(0,k.cn)(null,(i=(0,p._)(function(t,e,n){return(0,b.Jh)(this,function(t){return e(K,function(t){return(0,C.Uy)(t,function(t){var e=new Date;t.set(n.sessionId,{id:n.sessionId,title:n.title,replId:n.replId,sessionCreationEventId:n.sessionCreationEventId,sessionType:n.sessionType,archived:!!n.archived,created:e,lastEventTime:e,updated:e})})}),[2]})}),function(t,e,n){return i.apply(this,arguments)})),ts=(0,k.cn)(null,(o=(0,p._)(function(t,e,n){return(0,b.Jh)(this,function(t){return e(K,function(t){return(0,C.Uy)(t,function(t){var e=t.get(n.sessionId);e&&(e.title=n.title,e.sessionType=n.sessionType,e.archived=!!n.archived)})}),[2]})}),function(t,e,n){return o.apply(this,arguments)})),tf=(0,k.cn)(null,function(t,e,n){switch(n.$kind){case"createEventMessage":e(ta,n.createEventMessage);break;case"updateEventMessage":e(tc,n.updateEventMessage);break;case"createSessionMessage":e(tl,n.createSessionMessage);break;case"updateSessionMessage":e(ts,n.updateSessionMessage)}});function td(){return(0,_.$X)(tf)}function th(t){return(0,A.useMemo)(function(){return(0,k.cn)(function(e){return e(W).byId.get(t)})},[t])}function tv(t,e){var n=(0,y._)((0,A.useState)(!1),2),r=n[0],i=n[1],o=(0,_.$X)(tV),u=L();(0,A.useEffect)(function(){if(t&&u){var e=!1;return!function(){n.apply(this,arguments)}(),function(){e=!0}}function n(){return(n=(0,p._)(function(){return(0,b.Jh)(this,function(n){switch(n.label){case 0:if(i(!0),!t)throw Error("Expected sessionId");return[4,o({sessionId:t})];case 1:if(n.sent(),e)return[2];return i(!1),[2]}})})).apply(this,arguments)}},[o,t,u]);var a=(0,A.useMemo)(function(){return(0,k.cn)(function(n){if(!t)return[];var r=n(K).get(t);if(!r)throw Error("Expected session");return(0,I.uI)({parentId:r.sessionCreationEventId,parentToActiveChild:e,events:n(W)})})},[t,e]),c=(0,T.lV)((0,A.useCallback)(function(t){var e=[],n=t(W),r=t(a),i=!0,o=!1,u=void 0;try{for(var c,l=r[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var s=c.value,f=n.byId.get(s);f&&e.push(f)}}catch(t){o=!0,u=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw u}}return e},[a]),{store:(0,_.oR)()});return{events:(0,_.Hg)(a),loading:r,getEvents:c}}function tp(t,e){var n=tO(t);return(0,A.useMemo)(function(){return(0,k.cn)(function(t){var r,i=t(n);if(!i)return null;var o=t(W),u=(0,I.uI)({parentId:i.sessionCreationEventId,parentToActiveChild:e,events:o});return u.length&&null!==(r=o.byId.get(u[u.length-1]))&&void 0!==r?r:null})},[n,e])}function tm(t,e){return(0,_.Hg)(tp(t,e))}function ty(t,e){return(0,_.yL)(tp(t,e))}function tg(t,e){var n=tp(t,e);return(0,T.lV)((0,A.useCallback)(function(t,e){var r=t(n);r&&r.state===x.he.IN_PROGRESS&&e(tD,r.id)},[n]),{store:(0,_.oR)()})}function tb(t,e){var n=tp(t,e),r=(0,A.useMemo)(function(){return(0,k.cn)(function(t){var e=t(n);if(!e||e.sender.type===x.FW.USER)return null;var r=null,i=void 0;if("inlineActionEventContents"===e.contents.contents.$kind){var o,u=(r=e.contents.contents.inlineActionEventContents.content)?S(r,e.state===x.he.COMPLETE):null;i=null==u?void 0:null===(o=u[0])||void 0===o?void 0:o.code}else"shellSuggestionEventContents"===e.contents.contents.$kind?i=r=e.contents.contents.shellSuggestionEventContents.content:"messageEventContents"===e.contents.contents.$kind&&(i=r=e.contents.contents.messageEventContents.content);var a=e.state===x.he.COMPLETE,c=e.error.message;return c||!a||i||(c=r||"Something went wrong"),{code:i,completed:a,error:c}})},[n]);return(0,_.yL)(r)}function tx(t,e){var n=tp(t,e),r=(0,A.useMemo)(function(){return(0,k.cn)(function(t){var e=t(n);if(!e||e.sender.type===x.FW.USER)return null;var r=void 0;if("byoPromptEventContents"===e.contents.contents.$kind){var i=e.contents.contents.byoPromptEventContents.result.fields.length>0&&e.contents.contents.byoPromptEventContents.result.fields[0].value.kind;i&&(null==i?void 0:i.$kind)==="stringValue"&&(r=i.stringValue)}var o=e.state===x.he.COMPLETE,u=e.error.message;return u||!o||r||(u="Something went wrong"),{response:r,completed:o,error:u}})},[n]);return(0,_.yL)(r)}function tw(){return(0,T.lV)((0,A.useCallback)(function(t,e,n,r){var i=t(K).get(n);if(!i)throw Error("Expected session");var o=(0,I.uI)({parentId:i.sessionCreationEventId,parentToActiveChild:r,events:t(W)});return o.length?o[o.length-1]:i.sessionCreationEventId},[]),{store:(0,_.oR)()})}var tE=(0,k.cn)(null,(u=(0,p._)(function(t,e,n){var r,i,o,u,a,c,l,s,f,d,h,v,p,m,y,g,w,E;return(0,b.Jh)(this,function(b){switch(b.label){case 0:if(r=n.sessionId,i=n.parentEventId,o=n.data,u=n.getFileContext,a=n.state,c=t(Q).client,!t(K).get(r))throw Error("Expected session");if(s=(l=t(R)).currentUserId,f=l.advancedChatEngineOverride,d=t(H),h=(0,C.Uy)(o,function(t){f&&o.model===x.BY.ADVANCED&&(t.model=f),o.model!==x.BY.ADVANCED||d||(t.model=x.BY.BASIC)}),p=(v=(0,I.Iv)({sessionId:r,parentEventId:i,data:h,membership:t(M),currentUserId:s,state:a})).event,m=v.request,"localShellExecution"!==o.kind&&e(W,function(t){return(0,C.Uy)(t,function(t){if(!p)throw Error("Expected event");J(t,[p])})}),!u)return[2,c.chatService.createEvent.rpc(m)];return[4,u()];case 1:return g=(y=b.sent()).fileContext,E=void 0===(w=y.mostRecentFile)?"":w,[2,c.chatService.createEvent.rpc((0,C.Uy)(m,function(t){switch(t.context.metadata.$kind){case"messageEventContext":t.context.metadata.messageEventContext.mostRecentFile=E,t.context.metadata.messageEventContext.fileContext=g;break;case"inlineActionEventContext":t.context.metadata.inlineActionEventContext.mostRecentFile=E,t.context.metadata.inlineActionEventContext.fileContext=g}}))]}})}),function(t,e,n){return u.apply(this,arguments)}));function tS(){return(0,_.$X)(tE)}var tC=(0,k.cn)(null,(a=(0,p._)(function(t,e,n){var r,i,o,u,a,c,l,s;return(0,b.Jh)(this,function(e){switch(e.label){case 0:if(r=n.sessionId,i=n.eventId,o=n.operations,u=n.state,a=t(Q).client,!t(K).get(r))throw Error("Expected session");return[4,a.chatService.updateEvent.upload()];case 1:return l=(c=y._.apply(void 0,[e.sent(),2]))[0],s=c[1],l.push({eventId:i,operations:o,state:u,error:{type:x.lZ.EVENT_ERROR_TYPE_UNKNOWN,message:""}}),l.end(),[4,s];case 2:return[2,e.sent()]}})}),function(t,e,n){return a.apply(this,arguments)}));function tk(){return(0,_.$X)(tC)}var tD=(0,k.cn)(null,(c=(0,p._)(function(t,e,n){return(0,b.Jh)(this,function(e){return[2,t(Q).client.chatService.abortEvent.rpc({eventId:n})]})}),function(t,e,n){return c.apply(this,arguments)})),tT=(0,k.cn)(null,(l=(0,p._)(function(t,e,n){var r,i,o,u,a,c,l;return(0,b.Jh)(this,function(s){switch(s.label){case 0:return r=n.replId,i=n.sessionType,u=void 0===(o=n.title)?"":o,a=t(Q).client,[4,(0,I.ed)(a,{replId:r,sessionType:i,title:u})];case 1:if(null!==(c=s.sent()).error)return[2,null];return l=c.session,e(K,function(t){return(0,C.Uy)(t,function(t){if(null===l)throw Error("Expected session");t.set(l.id,l)})}),[2,l]}})}),function(t,e,n){return l.apply(this,arguments)}));function tA(){return(0,_.$X)(tT)}var t_=(0,k.cn)(null,(s=(0,p._)(function(t,e,n,r){var i,o,u,a,c;return(0,b.Jh)(this,function(l){if(i=r.title,o=r.sessionType,u=r.archived,a=t(Q).client,e(K,function(t){return(0,C.Uy)(t,function(t){var e=t.get(n);if(!e)throw Error("Expected session");void 0!==i&&(e.title=i),void 0!==o&&(e.sessionType=o),void 0!==u&&(e.archived=u)})}),!(c=t(K).get(n)))throw Error("Expected session");return[2,a.chatService.updateSession.rpc({id:n,sessionType:null!=o?o:c.sessionType,title:null!=i?i:c.title,archived:null!=u?u:c.archived})]})}),function(t,e,n,r){return s.apply(this,arguments)}));function tI(){return(0,_.$X)(t_)}function tO(t){return(0,A.useMemo)(function(){return(0,k.cn)(function(e){var n;return t&&null!==(n=e(K).get(t))&&void 0!==n?n:null})},[t])}function tR(t){return(0,_.Hg)(tO(t))}function tN(t){var e=null==t?void 0:t.contents.contents.$kind;switch(e){case"messageEventContents":return{$kind:e,content:null==t?void 0:t.contents.contents.messageEventContents.content};case"inlineActionEventContents":return{$kind:e,content:null==t?void 0:t.contents.contents.inlineActionEventContents.content};case"shellSuggestionEventContents":return{$kind:e,content:null==t?void 0:t.contents.contents.shellSuggestionEventContents.content};case"localShellExecutionEventContents":return{$kind:e,content:null==t?void 0:t.contents.contents.localShellExecutionEventContents};default:return null}}function tP(t,e){var n=th(t);return(0,_.Hg)((0,A.useMemo)(function(){return(0,D.kv)(n,e)},[n,e]))}function tM(t){var e=th(t);return(0,A.useMemo)(function(){return(0,D.kv)(e,tN)},[e])}function tF(t){return(0,_.Hg)(tM(t))}function tZ(t){return(0,_.yL)(tM(t))}var tL=(0,k.cn)(null,(f=(0,p._)(function(t,e,n,r){var i,o,u,a,c,l,s;return(0,b.Jh)(this,function(f){if(i=t(Q).client,!(u=(o=t(W)).byId.get(n)))throw Error("Expected event for id:"+n);if(!(a=o.byId.get(u.parentEventId)))throw Error("Expected parentEvent for id:"+u.parentEventId);return l=(c=(0,I.JI)(a,r)).event,s=c.request,e(W,function(t){return(0,C.Uy)(t,function(t){J(t,[l])})}),[2,i.chatService.createEvent.rpc(s)]})}),function(t,e,n,r){return f.apply(this,arguments)}));function tU(){return(0,_.$X)(tL)}function tB(t){var e=(0,A.useMemo)(function(){return(0,k.cn)(function(e){var n=e(W),r=n.byId.get(t);if(!r)return null;var i=n.byId.get(r.parentEventId);return i?function(t,e){var n=[],r=e.byParentId.get(t.parentEventId);if(!r)return null;var i=!0,o=!1,u=void 0;try{for(var a,c=r[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=a.value,s=e.byId.get(l);s&&n.push(s)}}catch(t){o=!0,u=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}var f=n.sort(function(t,e){return t.created.getTime()-e.created.getTime()}).map(function(t){return t.id});return{eventIds:f,index:f.indexOf(t.id),parentEventId:t.parentEventId}}(i,n):null})},[t]);return(0,_.Hg)(e)}var tV=(0,k.cn)(null,(d=(0,p._)(function(t,e,n){var r,i,o;return(0,b.Jh)(this,function(u){switch(u.label){case 0:if(r=n.sessionId,i=t(Q).client,!t(K).get(r))return[2];return[4,i.chatService.getSessionEvents.rpc({sessionId:r,limit:1e3})];case 1:if(!(o=u.sent()).ok)return[2,(0,O.l)(o.payload)];return e(W,function(t){return(0,C.Uy)(t,function(t){J(t,o.payload.events)})}),[2]}})}),function(t,e,n){return d.apply(this,arguments)})),tj=(0,k.cn)(null,(h=(0,p._)(function(t,e){var n,r,i;return(0,b.Jh)(this,function(o){switch(o.label){case 0:return n=t(Q).client,r=t(R).currentUserId,[4,n.chatService.getUsageLimits.rpc({user:{id:r.toString(),type:x.FW.USER,isTeam:!1,roles:[],membership:t(M)}})];case 1:if(!(i=o.sent()).ok)return[2,(0,O.l)(i.payload)];return e(j,i.payload.limits),[2]}})}),function(t,e){return h.apply(this,arguments)}));function t$(){return(0,_.$X)(tj)}var tH=(0,k.cn)(null,(v=(0,p._)(function(t,e){var n,r,i,o,u=arguments;return(0,b.Jh)(this,function(a){switch(a.label){case 0:return r=void 0!==(n=(u.length>2&&void 0!==u[2]?u[2]:{}).archivedOnly)&&n,i=t(R).replId,[4,t(Q).client.chatService.getReplSessions.rpc({replId:i,includeFirstSessionEvents:!0,firstSessionEventsLimit:1e3,limit:1e3,beforeTimestamp:new Date("2099-01-01"),archived:r,sessionTypes:[x.FF.CHAT]})];case 1:if(!(o=a.sent()).ok)return[2,(0,O.l)(o.payload)];return e(tt,o.payload),[2]}})}),function(t,e){return v.apply(this,arguments)})),tG=(0,k.cn)(new Map),tz=(0,k.cn)(null,function(t,e,n,r){return e(tG,function(t){return(0,C.Uy)(t,function(t){null===r?t.delete(n):t.set(n,r)})})}),tK=(0,k.cn)(null,function(t,e,n){return e(tG,function(t){return(0,C.Uy)(t,function(t){var e=!0,r=!1,i=void 0;try{for(var o,u=n[Symbol.iterator]();!(e=(o=u.next()).done);e=!0){var a=o.value;t.set(a,"exclude")}}catch(t){r=!0,i=t}finally{try{e||null==u.return||u.return()}finally{if(r)throw i}}})})}),tW=(0,k.cn)(null,function(t,e,n){return e(tG,function(t){return(0,C.Uy)(t,function(t){var e=!0,r=!1,i=void 0;try{for(var o,u=n[Symbol.iterator]();!(e=(o=u.next()).done);e=!0){var a=o.value;t.set(a,"include")}}catch(t){r=!0,i=t}finally{try{e||null==u.return||u.return()}finally{if(r)throw i}}})})});function tq(){return(0,_.$X)(tK)}function tY(){return(0,_.$X)(tW)}function tQ(){return(0,_.$X)(tz)}function tX(){return(0,_.Hg)(tG)}function tJ(){return(0,_.XD)(tG)}},72343:function(t,e,n){n.d(e,{F:function(){return l},v:function(){return s}});var r=n(66626),i=n(72988),o=n(17198),u=n(33817),a=n(65914),c=n(77476),l="gpt-3.5-turbo-0613";function s(){var t,e,n=(0,o.Gn)("chatEngine").preferences,s=(0,i.hG)().data,f=(0,r._)((0,a.N)(),1)[0],d=(0,u.ll)(),h=null==s?void 0:null===(t=s.currentUser)||void 0===t?void 0:t.hasOverride,v=null==n?void 0:n.chatEngine,p=null==s?void 0:null===(e=s.currentUser)||void 0===e?void 0:e.defaultEngine;return h&&v&&(0,c.uL)(v)?v:(0,c.uL)(p)?"advanced"===f&&d?c.hf.model:p:l}},65914:function(t,e,n){n.d(e,{N:function(){return a},s:function(){return c}});var r=n(66626),i=n(17198),o=n(50959),u=n(33817);function a(){var t=(0,u.Lw)(),e=(0,i.Gn)("ghostwriterUseAdvancedModel"),n=e.preferences,r=e.update;return[n.ghostwriterUseAdvancedModel&&t?"advanced":"basic",(0,o.useCallback)(function(t){return r({ghostwriterUseAdvancedModel:"advanced"===t})},[r])]}function c(){var t=(0,u.Lw)(),e=(0,r._)((0,u.az)(),2),n=e[0],i=e[1];return[n,(0,o.useCallback)(function(e){return i(t&&"advanced"===e?"advanced":"basic")},[t,i])]}},7849:function(t,e,n){n.d(e,{K0:function(){return x},Rr:function(){return C},Tk:function(){return b}});var r=n(12285),i=n(4955),o=n(63257),u=n(9670),a=n(80403),c=n(3030),l=n(74509),s=n(73393),f=n(72093),d=n(75706),h=new(function(t){"use strict";(0,i._)(n,t);var e=(0,u._)(n);function n(){return(0,r._)(this,n),e.apply(this,arguments)}return n.prototype.toDOM=function(){return document.createTextNode("")},n}(c.SJ)),v=a.Py.define({}),p=a.Py.define({}),m=c.p.line({attributes:{class:"cm-debuggerLine"}}),y=a.Py.define({}),g=a.QQ.define({create:function(){return null},update:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,u=e.effects[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value;if(a.is(y))return a.value}}catch(t){r=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t},provide:function(t){return c.tk.decorations.compute([t],function(t){var e=new a.f_,n=t.field(g);if(null!==n&&n<=t.doc.lines){var r=t.doc.line(n);e.add(r.from,r.from,m)}return e.finish()})}});function b(t,e){t.dispatch({effects:p.of({pos:e})})}var x=a.QQ.define({create:function(t){return D([],t)},update:function(t,e){t=t.map(e.changes);var n=!0,r=!1,i=void 0;try{for(var o,u=e.effects[Symbol.iterator]();!(n=(o=u.next()).done);n=!0)!function(){var n=o.value;if(n.is(p)){var r=!1;t.between(n.value.pos,n.value.pos+1,function(){r=!0}),t=r?t.update({filter:function(t){return t!==n.value.pos}}):t.update({add:[h.range(n.value.pos)]})}n.is(v)&&(t=D(n.value.lines,e.state))}()}catch(t){r=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t}}),w=c.tk.theme({".cm-breakpoint-gutter .cm-gutterElement":{color:f.TV.accentPrimaryDefault,paddingLeft:f.TV.space4,paddingRight:f.TV.space2,cursor:"default"},".cm-debuggerLine":{backgroundColor:f.TV.accentPrimaryDimmest,borderRadius:f.TV.borderRadius4,marginRight:f.TV.space4}}),E=function(){"use strict";function t(e,n,i,o){var u=this;(0,r._)(this,t),this.view=e,this.client=i,this.fs=n,this.path=o,this.disposables=[i.breakpoints.subscribe(function(t){return u.syncBreakpointsFromClient(t)}),i.stackFrames.subscribe(function(t){return u.syncStackFramesFromClient(t)})]}var e=t.prototype;return e.syncBreakpointsFromClient=function(t){var e=t.get(this.path);this.view.dispatch({effects:v.of({lines:e?e.map(function(t){return t.line}):[]})})},e.syncStackFramesFromClient=function(t){var e=k(t,this.path);this.view.dispatch({effects:y.of(e)})},e.postUpdate=function(t){var e=this;(0,s.aU)(t,l.o)&&!t.state.facet(l.o)&&(this.syncBreakpointsFromClient(this.client.breakpoints.current),this.syncStackFramesFromClient(this.client.stackFrames.current)),t.transactions.forEach(function(t){t.effects.forEach(function(t){if(t.is(p)){var n=(0,d.om)(e.path);if(!n)throw Error("Expected relative path");e.client.toggleBreakpoint(e.path,{line:e.view.state.doc.lineAt(t.value.pos).number,otVersion:e.fs.getOTVersion(n),otIndex:t.value.pos})}})})},e.destroy=function(){this.disposables.forEach(function(t){return t()})},t}(),S=(0,c.v5)({class:"cm-breakpoint-gutter",markers:function(t){var e;return null!==(e=t.state.field(x,!1))&&void 0!==e?e:a.Xs.empty},initialSpacer:function(){return h},domEventHandlers:{mousedown:function(t,e){return b(t,e.from),!0}}});function C(t,e,n){var r=[a.Wl.high(S),w];return t&&e&&r.push(c.lg.define(function(r){return new E(r,n,t,e)},{provide:function(n){return[x.init(function(n){var r;return D((null===(r=t.breakpoints.current.get(e))||void 0===r?void 0:r.map(function(t){return t.line}))||[],n)}),g.init(function(){return k(t.stackFrames.current,e)}),c.tk.updateListener.of(function(t){var e;return null===(e=t.view.plugin(n))||void 0===e?void 0:e.postUpdate(t)})]}})),r}function k(t,e){var n;return t&&0!==t.length&&null!==e&&(null===(n=t[0].source)||void 0===n?void 0:n.path)===e?t[0].line:null}function D(t,e){var n=(0,o._)(new Set(t.filter(function(t){return t<=e.doc.lines}))).map(function(t){return h.range(e.doc.line(t).from)});return a.Xs.of(n,!0)}},56683:function(t,e,n){n.d(e,{V:function(){return I}});var r,i=n(80403),o=n(3030),u=n(73393),a=i.r$.define(),c=i.QQ.define({create:function(){return[]},update:function(t,e){if(!(0,u.aU)(e,"doc","lineBreak",a))return t;var n=e.state.facet(a);if(0===n.length)return 0===t.length?t:[];t=[];var r=!0,o=!1,c=void 0;try{for(var l,s=n[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var f=l.value;if(f){var d=f instanceof i.as?f:e.state.changes(f);if(d.length!==e.newDoc.length)throw Error("Ghost text change set is out of sync with document");d.empty||t.push(d)}}}catch(t){o=!0,c=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw c}}return t}}),l=n(42516),s="cm-ghost-text",f="cm-limbo-text",d="cm-ghost-marker",h=o.tk.theme((r={},(0,l._)(r,".".concat(s),{opacity:.675,filter:"grayscale(0.325)"}),(0,l._)(r,".".concat(f),{display:"inline-block",opacity:.85,backgroundColor:"rgba(255, 0, 0, 0.1)",textDecoration:"line-through"}),(0,l._)(r,".".concat(d),{opacity:.5}),r)),v=o.p.mark({class:f}),p=o.tk.decorations.from(c,function(t){if(!t.length)return o.p.none;var e=new i.f_,n=!0,r=!1,u=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done);n=!0)a.value.iterChangedRanges(function(t,n){t!==n&&e.add(t,n,v)})}catch(t){r=!0,u=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw u}}return e.finish()}),m=n(12285),y=n(4955),g=n(9670),b=n(4384),x=n(33083),w=n(51743),E=n(90051),S=n(75869),C=function(t){"use strict";(0,y._)(n,t);var e=(0,g._)(n);function n(t,r,i){var o;return(0,m._)(this,n),(o=e.call(this)).line=t,o.block=r,o.index=i,o}var r=n.prototype;return r.toDOM=function(){var t=document.createElement(this.block?"div":"span");t.className=this.block?s+" cm-line":s;var e=!0,n=!1,r=void 0;try{for(var i,o=this.line[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=i.value,a=u.text,c=u.tags,l=document.createElement("span");l.textContent=a||"\xa0",c&&(l.className=c),t.appendChild(l)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return t},r.eq=function(t){return this.block===t.block&&this.index===t.index&&(0,E.gj)(this.line,t.line)},r.ignoreEvent=function(){return!1},(0,b._)(n,[{key:"estimatedHeight",get:function(){return this.block?21:0}}]),n}(o.l9),k=function(t){"use strict";(0,y._)(n,t);var e=(0,g._)(n);function n(){return(0,m._)(this,n),e.call(this)}return n.prototype.toDOM=function(){var t=document.createElement("div");return t.style.height="0px",t},(0,b._)(n,[{key:"estimatedHeight",get:function(){return 0}}]),n}(o.l9),D=o.tk.decorations.compute([x.dK,c],function(t){var e=t.field(c,!1);if(!e||!e.length)return o.p.none;var n=[],r=null===(l=t.facet(x.dK))||void 0===l?void 0:l.parser,i=!0,u=!1,a=void 0;try{for(var l,s,f=e[Symbol.iterator]();!(i=(s=f.next()).done);i=!0)!function(){var e=s.value,i=null,u=null;if(r){var a=(0,w.Yn)(e);if(!a)return;i=e.apply(t.doc),u=(0,S.p)({parser:r,text:i,changes:e,base:t,upTo:a.toB,maxTime:16})}e.iterChanges(function(e,r,a,c,l){var s=t.doc.lineAt(r),f=l.lines>1&&r<s.to;if(i&&u)p=(0,E.CT)(u,i,t,a,c);else{p=[];var d=!0,h=!1,v=void 0;try{for(var p,m,y=l.iterLines()[Symbol.iterator]();!(d=(m=y.next()).done);d=!0){var g=m.value;p.push([{text:g}])}}catch(t){h=!0,v=t}finally{try{d||null==y.return||y.return()}finally{if(h)throw v}}}for(var b=0;b<p.length;b++){var x=p[b],w=s.number+b;if(0!==b||x.length&&(1!==x.length||x[0].text)){if(f&&b>0&&b===p.length-1){if(1===b){var S=o.p.widget({widget:new k,block:!0,side:1});n.push(S.range(r))}var D=o.p.widget({widget:new C(x,!1,w),block:!1});D.startSide=999999999,D.endSide=999999999,n.push(D.range(r));continue}var T=o.p.widget({widget:new C(x,b>0,w),side:b+1,block:b>0});n.push(T.range(r))}}})}()}catch(t){u=!0,a=t}finally{try{i||null==f.return||f.return()}finally{if(u)throw a}}return o.p.set(n,!0)}),T=n(67346),A=function(t){"use strict";(0,y._)(n,t);var e=(0,g._)(n);function n(t){var r;return(0,m._)(this,n),(r=e.call(this)).index=t,r}var r=n.prototype;return r.toDOM=function(){var t=document.createElement("span");return t.className=d,t.textContent=String(this.index),t},r.eq=function(t){return this.index===t.index},n}(o.SJ),_=T.X4.of(function(t,e){if(e instanceof C)return new A(e.index)}),I=i.r$.define({enables:function(t){return[a.computeN([t],function(e){return e.facet(t)}),c,h,D,p,_]}})},51743:function(t,e,n){n.d(e,{Cf:function(){return s},Gj:function(){return p},Hu:function(){return h},MF:function(){return o},Po:function(){return g},U_:function(){return v},XW:function(){return m},Yn:function(){return y},dQ:function(){return u},dx:function(){return f},fu:function(){return d},rN:function(){return l}});var r,i,o,u,a=n(2761),c=n(80403);function l(t){switch(t){case"A":return"B";case"B":return"A"}}function s(t,e,n){switch(e){case"A":return n?{from:t.fromA+n.fromA,to:t.toA+n.fromA}:{from:t.fromA,to:t.toA};case"B":return n?{from:t.fromB+n.fromB,to:t.toB+n.fromB}:{from:t.fromB,to:t.toB}}}function f(t,e,n,r){for(var i=0,o=n.length-1,u=null;i<=o;){var a=i+o>>>1,c=n[a],f=s(c,e,r);if(r){if(1===r.changes.length){var d=s(r,e);d.from>0&&f.from===d.from&&f.to===d.to&&(f.from-=1,f.to-=1)}}else{var h=s(c,l(e));h.from===h.to&&(f.from+=1)}if(f.from<=t.to&&f.to>=t.from&&((f.from!==f.to||f.from!==t.to)&&(u=a),f.from<=t.from))break;f.from>=t.from?o=a-1:f.to<=t.from&&(i=a+1)}if(null===u)return"UNCHANGED";var v=s(n[u],e,r);if(v.from<=t.from&&v.to>=t.to)return"COVERED";if(v.from>t.from||u===n.length-1)return"MODIFIED";for(var p=t.from,m=u;m<n.length;m++){var y=s(n[m],e,r);if(y.to<=t.to&&y.from>p)return"MODIFIED";if(y.to>=t.to)break;p=y.to}return"COVERED"}function d(t,e){if(0===t.length)return c.n0.fromJSON([e,-1]);for(var n=[],r=0,i=0;i<t.length;i++)for(var o=t[i],u=0;u<o.changes.length;u++){var a=o.changes[u],l=o.fromA+a.fromA,s=o.fromA+a.toA,f=o.fromB+a.fromB,d=o.fromB+a.toB;1===o.changes.length&&o.fromA>0&&l===o.fromA&&s===o.toA&&(l-=1,s-=1),1===o.changes.length&&o.fromB>0&&f===o.fromB&&d===o.toB&&(f-=1,d-=1),l>r&&n.push(l-r,-1),n.push(s-l,d-f),r=s}return r<e&&n.push(e-r,-1),c.n0.fromJSON(n)}function h(t){var e=[];return t.iterChangedRanges(function(t,n,r,i){e.push({fromA:t,toA:n,fromB:r,toB:i})},!0),e}function v(t,e,n,r){try{if(!n)return a.z.build(t,e,r);if(!n.changesA&&!n.changesB)throw Error("cannot update chunks without changes");var i=n.chunks;return n.changesA&&(i=a.z.updateA(i,t,e,n.changesA,r)),n.changesB&&(i=a.z.updateB(i,t,e,n.changesB,r)),i}catch(n){var o=[new a.RI(0,t.length,0,e.length)];return[new a.z(o,0,t.length,0,e.length)]}}function p(t,e,n){if(!n)return{desc:t,pending:e};try{e=e?e.composeDesc(n):n,t=t.composeDesc(n)}catch(r){e=null,t=c.n0.fromJSON([t.length,n.newLength])}return{desc:t,pending:e}}function m(t,e,n){for(var r=new Map,i=0,o=!1,u=1,a=1;a<=e.lines;a++){var c=n[i],l=e.line(a);if(c){if(c.fromB===l.from){if(o=!0,c.fromA!==c.toA)for(var s=t.lineAt(c.endA).number;u<=s;u++)r.set(-u,null);c.fromB!==c.toB?r.set(l.number,null):(r.set(-u,l.number),r.set(l.number,u),u++);continue}if(c.fromB<=l.from&&c.endB>=l.from){r.set(l.number,null);continue}o&&(i++,o=!1)}r.set(-u,l.number),r.set(l.number,u),u++}if(u<=t.lines)for(var f=u;f<=t.lines;f++)r.set(-f,null);return r}function y(t){var e=null,n=null,r=null,i=null;return(t.iterChangedRanges(function(t,o,u,a){e=null===e?t:Math.min(e,t),n=null===n?o:Math.max(n,o),r=null===r?u:Math.min(r,u),i=null===i?a:Math.max(i,a)}),null===e||null===n||null===r||null===i)?null:{fromA:e,toA:n,fromB:r,toB:i}}function g(t,e,n,r){var i=[],o=!0,u=!1,a=void 0;try{for(var c,l=e.changes[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=c.value,d=s(f,n,e),h=d.from,v=d.to;h=Math.max(h,t.from),v=Math.min(v,t.to),h>=v||(r&&(h-=t.from,v-=t.from),i.push({from:h,to:v}))}}catch(t){u=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(u)throw a}}return i}(r=o||(o={})).A="A",r.B="B",(i=u||(u={})).COVERED="COVERED",i.MODIFIED="MODIFIED",i.UNCHANGED="UNCHANGED"},63993:function(t,e,n){n.d(e,{W:function(){return o}});var r=n(80403),i=n(34328),o=r.QQ.define({create:function(){return!1},update:function(t,e){return t||!e.annotation(r.YW.remote)&&(!!(e.annotation(i.Z)||e.isUserEvent("input")||e.isUserEvent("delete"))||t)}})},24655:function(t,e,n){n.d(e,{z1:function(){return u},uy:function(){return c},NS:function(){return k},SD:function(){return o.SD},Gz:function(){return o.Gz}});var r=n(60941),i=n(25596),o=n(32471),u=function(t){return a(t)},a=function(t,e){return("function"!=typeof e&&(e=null),t.state.facet(i.dt).length)?(t.dispatch({effects:o.WF.of({selection:null,onCompleted:e})}),!0):(Promise.resolve().then(function(){return null==e?void 0:e()}),!1)},c=function(t){var e;return!!(!t.state.selection.main.empty&&(null===(e=t.state.facet(i.i5))||void 0===e?void 0:e.rangeSupport()))&&(t.dispatch({effects:o.WF.of({selection:t.state.selection,onCompleted:null})}),!0)},l=n(27387),s=n(12285),f=n(96583),d=n(80403),h=n(3030),v=n(33083),p=n(43182),m=n(15323),y=n(36556),g=n(45929),b=n(22897),x=n(8252),w=function(){"use strict";function t(e,n){(0,s._)(this,t),this.view=e,this.outputs=n}var e=t.prototype;return e.update=function(t){var e=this;return(0,l._)(function(){var n,r,u,a,c,l,s,h,b,w,E,S,C;return(0,f.Jh)(this,function(f){switch(f.label){case 0:if(!t.transactions.some(function(t){return t.effects.some(function(t){return t.is(o.WF)})})||!(n=e.view.state.field(o.oI)))return[2];if(r=(0,x.uf)(t.transactions.flatMap(function(t){return t.effects.flatMap(function(t){return t.is(o.WF)?t.value.onCompleted:null}).filter(Boolean)})),!(u=e.view.state.facet(i.i5)))throw Error("Expected a formatting provider");return a=Date.now(),c=n.original,l=n.requestId,s=n.selection,e.outputs&&!e.outputBlockId&&(e.outputBlockId=e.outputs.startBlock(g.kH.FORMATTER,g.MZ.COLLAPSED).id),h=e.view.state.facet(m.Yp),e.logToOutputs("Formatting ".concat(h," with ").concat(u.name,".\r\n")),[4,Promise.race([u.format(c,s,{tabSize:t.state.facet(d.yy.tabSize),insertSpaces:"	"!==t.state.facet(v.c)}).then(function(t){return e.onResponse(l,t)}).catch(function(t){throw p.$e(function(e){e.setExtra("logName",u.id),e.setExtra("doc",c.toString()),p.Tb(t)}),t}),new Promise(function(t){b=setTimeout(function(){return t({status:"cancelled"})},1e4)})])];case 1:switch(w=f.sent(),clearTimeout(b),e.view.dispatch({changes:"success"===w.status?w.changes:void 0,effects:o.yg.of({requestId:l,onCompleted:r})}),E=Date.now()-a,w.status){case"error":u.onError(),C=null===(S=w.message)||void 0===S?void 0:S.replaceAll("\r\n","\n").replaceAll("\n","\r\n"),e.logToOutputs("Formatting failed with message:\r\n".concat(C)),e.errToOutputs("Formatting failed with message:\r\n".concat(C)),e.endOutputBlock(g.MZ.EXPANDED);break;case"success":u.onSuccess(),e.logToOutputs("Formatting completed in ".concat(E,"ms.\r\n")),e.endOutputBlock()}return y.kg.time("formatter_ran",E,{extension:h,response_status:w.status,type:u.id,variant:"extension",err:"error"===w.status?w.message:void 0}),[2]}})})()},e.onResponse=function(t,e){var n=this.view.state.field(o.oI);return n&&t===n.requestId?"error"in e?{status:"error",message:e.message}:{changes:(e.result instanceof d.as?e.result:(0,b.F)(n.original.toString(),e.result)).map(n.missed),status:"success"}:{status:"ignore"}},e.logToOutputs=function(t){this.outputs&&this.outputBlockId&&this.outputs.writeOutputToBlock(this.outputBlockId,t)},e.errToOutputs=function(t){this.outputs&&this.outputBlockId&&this.outputs.writeErrorToBlock(this.outputBlockId,t)},e.endOutputBlock=function(t){this.outputs&&this.outputBlockId&&(t&&this.outputs.setBlockVisualState(this.outputBlockId,t),this.outputs.endBlock(this.outputBlockId),this.outputBlockId=void 0)},t}(),E=n(73393),S=n(57253),C=function(){"use strict";function t(e,n){(0,s._)(this,t),this.view=e,this.fs=n,this.register()}var e=t.prototype;return e.update=function(t){var e=this;return(0,l._)(function(){return(0,f.Jh)(this,function(n){return(0,E.aU)(t,m.Yp)&&e.register(),[2]})})()},e.destroy=function(){var t;null===(t=this.unsubscribe)||void 0===t||t.call(this)},e.register=function(){null===(e=this.unsubscribe)||void 0===e||e.call(this);var t,e,n=this.view.state.facet(m.Yp);if(n&&this.fs){var r=this;this.unsubscribe=this.fs.registerOnBeforeFlush(n,(t=(0,l._)(function(t,e){return(0,f.Jh)(this,function(t){switch(t.label){case 0:if(e!==S.WL.MANUAL_SAVE)return[2];return[4,new Promise(function(t){return a(r.view,t)})];case 1:return t.sent(),[2]}})}),function(e,n){return t.apply(this,arguments)}))}},t}(),k=new r.j(function(t,e,n,r){var i;return[(i=(null==e?void 0:e.mode)==="outputs"?e:void 0,h.lg.define(function(t){return new w(t,i)},{provide:function(){return[o.oI,h.tk.updateListener.of(function(t){var e=!0,n=!1,r=void 0;try{for(var i,u=t.transactions[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){var a=i.value,c=!0,l=!1,s=void 0;try{for(var f,d=a.effects[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h,v,p=f.value;p.is(o.yg)&&(null===(h=(v=p.value).onCompleted)||void 0===h||h.call(v))}}catch(t){l=!0,s=t}finally{try{c||null==d.return||d.return()}finally{if(l)throw s}}}}catch(t){n=!0,r=t}finally{try{e||null==u.return||u.return()}finally{if(n)throw r}}})]}})),n&&r?h.lg.define(function(e){return new C(e,t)}):void 0].filter(Boolean)})},25596:function(t,e,n){n.d(e,{Lf:function(){return f},dt:function(){return h},i5:function(){return d}});var r=n(27387),i=n(12285),o=n(4384),u=n(96583),a=n(80403),c=function(){"use strict";function t(e){(0,i._)(this,t),this.spec=e}var e=t.prototype;return e.format=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=this;return(0,r._)(function(){return(0,u.Jh)(this,function(r){return[2,i.spec.format(t,e,n)]})})()},e.onSuccess=function(){var t,e;null===(t=(e=this.spec).onSuccess)||void 0===t||t.call(e)},e.onError=function(){var t,e;null===(t=(e=this.spec).onError)||void 0===t||t.call(e)},e.rangeSupport=function(){var t;return null!==(t=this.spec.supportsRangeFormatting)&&void 0!==t&&t},t.build=function(e){return new t(e)},(0,o._)(t,[{key:"id",get:function(){return this.spec.identifier}},{key:"name",get:function(){var t,e;return null!==(e=null===(t=this.spec)||void 0===t?void 0:t.name)&&void 0!==e?e:this.spec.identifier}}]),t}(),l=a.r$.define({combine:function(t){var e=new Set;return t.filter(function(t){var n=e.has(t.id);return e.add(t.id),!n})}}),s=a.r$.define({combine:function(t){return t.filter(Boolean)[0]}}),f=a.r$.define({enables:function(t){return[l.computeN([t],function(e){return e.facet(t).map(c.build)}),s.compute([l],function(t){return t.facet(l)[0]})]}}),d=s.reader,h=l.reader},32471:function(t,e,n){n.d(e,{Gz:function(){return h},R2:function(){return p},SD:function(){return v},WF:function(){return a},oI:function(){return m},yg:function(){return c}});var r=n(41733),i=n(30509),o=n(80403),u=n(25596),a=o.Py.define(),c=o.Py.define(),l=o.r$.define({combine:function(t){return t.some(Boolean)}}),s=o.r$.define({combine:function(t){return t.some(Boolean)}}),f=o.r$.define({combine:function(t){return t.some(Boolean)}}),d=o.r$.define({combine:function(t){var e;return null!==(e=t.find(Boolean))&&void 0!==e?e:null}}),h=f.reader,v=l.reader,p=s.reader;d.reader;var m=o.QQ.define({create:function(){return null},update:function(t,e){if(!e.state.facet(u.dt).length)return null;t&&(t=(0,i._)((0,r._)({},t),{missed:t.missed.compose(e.changes)}));var n=t?t.requestId+1:0,l=!0,s=!1,f=void 0;try{for(var d,h=e.effects[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var v=d.value;if(v.is(a)){var p=e.state.doc;t={requestId:n,original:p,selection:v.value.selection,missed:o.as.empty(p.length),provider:e.state.facet(u.i5)}}v.is(c)&&t&&t.requestId===v.value.requestId&&(t=null)}}catch(t){s=!0,f=t}finally{try{l||null==h.return||h.return()}finally{if(s)throw f}}return t},provide:function(t){return[f.compute([t],function(e){return null!==e.field(t)}),d.compute([t],function(e){var n;return null===(n=e.field(t))||void 0===n?void 0:n.provider}),l.compute([u.Lf],function(t){return t.facet(u.dt).length>0}),s.compute([u.i5],function(t){var e,n;return null!==(n=null===(e=t.facet(u.i5))||void 0===e?void 0:e.rangeSupport())&&void 0!==n&&n})]}})},72988:function(t,e,n){n.d(e,{hG:function(){return s}});var r=n(41733),i=n(21262),o=n(71440),u=n(58995);function a(){var t=(0,i._)(['\n  query ChatEngine {\n    currentUser {\n      id\n      defaultEngine: gateVariation(feature: "flag-ghostwriter-chat-engine")\n      hasOverride: gate(feature: "flag-ghostwriter-chat-engine-override")\n    }\n  }\n']);return a=function(){return t},t}var c={},l=(0,o.Ps)(a());function s(t){var e=(0,r._)({},c,t);return u.a(l,e)}},92733:function(t,e,n){n.d(e,{Dz:function(){return o},UQ:function(){return c},cH:function(){return f},i$:function(){return l},jr:function(){return a},mP:function(){return s},uV:function(){return i},yr:function(){return u}});var r,i,o=225,u=450,a=4,c=10500,l=2e3;(r=i||(i={}))[r.DEFAULT=25]="DEFAULT",r[r.EMPTY_BLOCK=250]="EMPTY_BLOCK";var s=new Set([";",")","}","]","{"]),f=new Set([" ","\n","	",")","]","}",'"',"'","`",";"])},85500:function(t,e,n){n.d(e,{Jz:function(){return c},O8:function(){return s},UN:function(){return h},e:function(){return v},to:function(){return d},uq:function(){return a},xb:function(){return l},zV:function(){return f}});var r=n(92733),i=/\r\n?|\n/,o=/^\s*[)\]};]+\s*$/,u=/^((?:[^\S\n]*\n)*)([^\S\n]*)([^]*)/;function a(t){return t.split(i)}function c(t){return o.test(t)}function l(t){return"string"!=typeof t&&(t=t.text),0===t.length||""===t.trim()}function s(t){var e=u.exec(t);if(!e)throw Error("Unexpected no match");return{newlines:"\n".repeat(a(e[1]).length-1),indentation:e[2],content:e[3]}}function f(t,e){return e>0&&e>=r.jr&&!r.mP.has(t.sliceString(e-1,e))}function d(t,e){return l(t.lineAt(e))}function h(t,e){var n=t.lineAt(e);if(e===n.to||l(n))return!0;for(var i=n.text.slice(e-n.from),o=0;o<i.length;o++)if(!r.cH.has(i[o]))return!1;return!0}function v(t,e,n){var r=null,i=null,o=null;return(t.iterChanges(function(t,u,a,c,l){if(l.length>0&&t<=e&&u>=e&&a<=n&&c>=n&&(null!==i&&null!==o&&a===o?c=o:(i=a,o=c),n!==a)){var s=n-a-1;r=l.sliceString(s,s+1)}},!0),null===i||null===o)?null:{from:i,to:o,char:r}}},80332:function(t,e,n){n.d(e,{WF:function(){return g},VJ:function(){return i},OK:function(){return y}});var r,i,o=n(12285),u=n(80403),a=n(56683),c=n(63257),l=n(96583),s=n(36480),f=function(){"use strict";function t(e,n){if((0,o._)(this,t),this.updates=n,e instanceof u.Xs)this.ranges=e;else{e instanceof u.as||(e=u.as.of(e,1/0));var r=[];e.iterChanges(function(t,e,n,i,o){o.length&&r.push(s.Yf.range(e,o)),t!==e&&r.push(s.JC.range(t,e))}),this.ranges=u.Xs.of(r,!0)}}var e=t.prototype;return e.update=function(e){var n=this,r=this.updates?(0,c._)(this.updates).concat([e]):[e];if(e.empty)return new t(this.ranges,r);var i=!1,o=!0,u=new Set,a=[];if(e.iterChanges(function(t,e,r,l,f){if(!i){var d=null,h=!0,v=!1,p=void 0;try{for(var m,y=n[Symbol.iterator]();!(h=(m=y.next()).done);h=!0){var g=m.value,b=g instanceof s.Yf?g.fulfilledRange(g.from):g,x=null===d||d!==b.from;d=b.to;var w=(0,s.p0)(g,x,t,e,r,l,f);if(w===g){o&&!g.value.isFulfilled&&(o=!1);continue}if(w){if(u.has(g.value)){i=!0;break}if(u.add(g.value),Array.isArray(w)){if(u.add(g.value),a.push.apply(a,(0,c._)(w)),o){var E=!0,S=!1,C=void 0;try{for(var k,D=w[Symbol.iterator]();!(E=(k=D.next()).done);E=!0)if(!k.value.value.isFulfilled){o=!1;break}}catch(t){S=!0,C=t}finally{try{E||null==D.return||D.return()}finally{if(S)throw C}}}}else a.push(w),o&&!w.value.isFulfilled&&(o=!1);continue}i=!0;break}}catch(t){v=!0,p=t}finally{try{h||null==y.return||y.return()}finally{if(v)throw p}}}}),i)return null;var l=this.ranges;return u.size&&(l=l.update({filter:function(t,e,n){return!u.has(n)}})),l=l.map(e),a.length&&(l=l.update({add:a,sort:!0})),!!l.size&&!o&&new t(l,r)},e.merge=function(e){var n=new t(e);if(n&&this.updates){var r=!0,i=!1,o=void 0;try{for(var u,a=this.updates[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;if(!(n=n.update(c)))break}}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}}return n},e.touches=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=!0,r=!1,i=void 0;try{for(var o,u=this[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value;if((0,s.c9)(a,t,e))return!0}}catch(t){r=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return!1},e.closestRange=function(t){var e=null,n=!0,r=!1,i=void 0;try{for(var o,u=this[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value;if(!a.value.isFulfilled){if(null===e){e=a;continue}a.from===e.from?a.value instanceof s.Yf&&(e=a):Math.abs(a.from-t)<Math.abs(e.from-t)&&(e=a)}}}catch(t){r=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}if(null===e)throw Error("No unfulfilled ranges found");return e},e.asChangeSpec=function(){var t=[],e=!0,n=!1,r=void 0;try{for(var i,o=this[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=i.value;!u.value.isFulfilled&&(u.value instanceof s.Yf?t.push({from:u.from,insert:u.value.unfulfilled}):u.value instanceof s.JC&&t.push({from:u.from,to:u.to}))}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return t},e.extendSelection=function(t){var e=u.as.of(this.asChangeSpec(),1/0),n=t.map(e),r=n.main.to;return(e.iterChangedRanges(function(t,e,n,i){i>r&&(r=i)}),r!==n.main.to)?n.replaceRange(u.jT.cursor(r),n.mainIndex):n},e.isFulfilledUpTo=function(t){var e=!0;return this.ranges.between(0,t,function(n,r,i){if(r<t&&!i.isFulfilled)return e=!1,!1}),e},e[Symbol.iterator]=function(){var t;return(0,l.Jh)(this,function(e){switch(e.label){case 0:if(!(t=this.ranges.iter()).value)return[2];e.label=1;case 1:if(!t.value)return[3,3];return[4,t.value.range(t.from,t.to)];case 2:return e.sent(),t.next(),[3,1];case 3:return[2]}})},t}(),d=function(){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,o._)(this,t),this.updates=e}var e=t.prototype;return e.update=function(e){return new t((0,c._)(this.updates).concat([e]))},e.upgrade=function(t){var e=new f(t);if(e&&this.updates.length){var n=!0,r=!1,i=void 0;try{for(var o,u=this.updates[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value;if(!(e=e.update(a)))break}}catch(t){r=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}}return e},t}();(r=i||(i={})).FULLY_TYPED_INTO="FULLY_TYPED_INTO",r.ACCEPTED_BY_USER="ACCEPTED_BY_USER",r.DISMISSED_BY_USER="DISMISSED_BY_USER",r.INCOMPATIBLE_DOCUMENT_CHANGE="INCOMPATIBLE_DOCUMENT_CHANGE",r.INCOMPATIBLE_CURSOR_CHANGE="INCOMPATIBLE_CURSOR_CHANGE",r.INCOMPATIBLE_SUGGESTION="INCOMPATIBLE_SUGGESTION",r.OTHER="OTHER";var h=function(){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OTHER";(0,o._)(this,t),this.stopped=!0,this.slotted=!1,this.active=!1,this.presented=!1,this.reason=e}var e=t.prototype;return e.dismiss=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OTHER";return this.reason===e?this:new t(e)},e.start=function(){return new v},t}(),v=function(){"use strict";function t(e){(0,o._)(this,t),this.stopped=!1,this.slotted=!0,this.active=!1,this.presented=!1,this.slot=null!=e?e:new d}var e=t.prototype;return e.dismiss=function(t){return new h(t)},e.update=function(e){return e.docChanged?new t(this.slot.update(e.changes)):this},e.upgrade=function(t){var e=this.slot.upgrade(t.insertions);return null===e?this.dismiss("INCOMPATIBLE_SUGGESTION"):!1===e?this.dismiss("FULLY_TYPED_INTO"):new p(t,e)},t}(),p=function(){"use strict";function t(e,n){(0,o._)(this,t),this.stopped=!1,this.slotted=!1,this.active=!0,this.presented=!1,this.suggestion=e,this.changes=null!=n?n:new f(e.insertions)}var e=t.prototype;return e.dismiss=function(t){return new h(t)},e.with=function(e){var n=this.suggestion.with(e),r=this.changes.merge(n.insertions);return r?new t(n,r):this.dismiss("INCOMPATIBLE_SUGGESTION")},e.update=function(e){if(e.docChanged||e.selection){var n=e.docChanged?this.changes.update(e.changes):this.changes;if(null===n)return this.dismiss("INCOMPATIBLE_DOCUMENT_CHANGE");if(!1===n)return this.dismiss("FULLY_TYPED_INTO");var r=e.newSelection.main.head;if(!n.touches(r)||!n.isFulfilledUpTo(r))return this.dismiss("INCOMPATIBLE_CURSOR_CHANGE");if(n!==this.changes)return new t(this.suggestion,n)}return this},e.present=function(){return new m(this.suggestion,Date.now(),this.changes)},t}(),m=function(){"use strict";function t(e,n,r){(0,o._)(this,t),this.stopped=!1,this.slotted=!1,this.active=!0,this.presented=!0,this.suggestion=e,this.changes=null!=r?r:new f(e.insertions),this.timestamp=n}var e=t.prototype;return e.dismiss=function(t){return new h(t)},e.with=function(e){var n=this.suggestion.with(e),r=this.changes.merge(n.insertions);return r?new t(n,this.timestamp,r):this.dismiss("INCOMPATIBLE_SUGGESTION")},e.update=function(e){if(e.docChanged||e.selection){var n=e.docChanged?this.changes.update(e.changes):this.changes;if(null===n)return this.dismiss("INCOMPATIBLE_DOCUMENT_CHANGE");if(!1===n)return this.dismiss("FULLY_TYPED_INTO");var r=e.newSelection.main.head;if(!n.touches(r)||!n.isFulfilledUpTo(r))return this.dismiss("INCOMPATIBLE_CURSOR_CHANGE");if(n!==this.changes)return new t(this.suggestion,this.timestamp,n)}return this},t}(),y=u.Py.define(),g=u.QQ.define({create:function(){return new h},update:function(t,e){var n=!1,r=!0,i=!1,o=void 0;try{for(var u,a=e.effects[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;if(c.is(y)){if(n=!0,c.value.active){var l=e.newSelection.main.head,s=c.value.changes;t=s.touches(l)&&s.isFulfilledUpTo(l)?c.value:c.value.dismiss("INCOMPATIBLE_CURSOR_CHANGE")}else t=c.value}}}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n||t.stopped||(t=t.update(e)),t},provide:function(t){return[a.V.from(t,function(t){return t.presented?t.changes.asChangeSpec():null})]}})},43037:function(t,e,n){n.d(e,{gQ:function(){return c},ge:function(){return f},ib:function(){return a},kq:function(){return l},zX:function(){return d}});var r=n(99415),i=n(41691);function o(t,e){return t===e||t.type===e.type&&t.from===e.from&&t.to===e.to}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return""===t.sliceString(e.from+n,e.to).trim()}function a(t,e,n){var i,a=e.resolveInner(n);if(u(t,a)){var c=a;for(a=null;c;)if((c=c.parent)&&!u(t,c)){a=c;break}if(!a)return!1}if(function(t,e){if(1!==t.slice(e.from,e.to).lines)return!1;var n=e.firstChild,r=e.lastChild;return(null==n?void 0:n.name)==="("&&(null==r?void 0:r.name)===")"||(null==n?void 0:n.name)==="<"&&(null==r?void 0:r.name)===">"}(t,a))return!1;var l=t.lineAt(n);if("Script"===a.name&&""!==l.text&&l.number>1&&t.line(l.number-1).text.trimEnd().endsWith(":")||"Body"===a.name&&(null===(i=a.firstChild)||void 0===i?void 0:i.name)===":"&&l.number!==t.lineAt(a.from).number&&u(t,a,1))return!0;if(a.type.isTop)return!1;var s=a.firstChild,f=a.lastChild;if(!s||!f||o(s,f))return!1;var d=s.type.prop(r.md.closedBy),h=f.type.prop(r.md.openedBy);return!!(d&&h&&d.includes(f.name)&&h.includes(s.name))&&""===t.sliceString(s.to,f.from).trim()}function c(t,e){for(var n=t.resolveStack(e);null==n?void 0:n.node;){var i,u=n.node;n=n.next;var a={from:u.from,to:u.to};if("Body"===u.name&&(null===(i=u.firstChild)||void 0===i?void 0:i.name)===":")return a.from=u.firstChild.to,{node:u,inside:a};if(u.type.isTop)break;if(!(u.from>e)&&!(u.to<e)){var c=u.firstChild,l=u.lastChild;if(!(!c||!l||o(c,l))){var s=c.type.prop(r.md.closedBy),f=l.type.prop(r.md.openedBy);if(s&&f&&s.includes(l.name)&&f.includes(c.name))return a.from=c.to,a.to=l.from,{node:u,inside:a}}}}return null}function l(t,e,n,r){var i=r,o=!0,a=!1,c=void 0;try{for(var l,s=t.iterRange(r,n)[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var f=l.value;if(""===f){i--;continue}var d=f.trimEnd();if(i-=f.length-d.length,d)break}}catch(t){a=!0,c=t}finally{try{o||null==s.return||s.return()}finally{if(a)throw c}}var h=e.resolveInner(i,-1).cursor(),v=null;do if(!u(t,h.node)){v=h.node;break}while(h.prev()&&h.to>n);return v}var s=new WeakMap;function f(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(0===n.length)return!1;var o=s.get(t);if(null===o)return!1;if(void 0===o){var u=(0,i.ys)(t);if(!u||0===u.tags.length)return s.set(t,null),!1;o=new Set;var a=!0,c=!1,l=void 0;try{for(var f,d=u.tags[Symbol.iterator]();!(a=(f=d.next()).done);a=!0){var h=f.value;!function t(e,n){if(!e.has(n)&&(e.add(n),n.set.length>1)){var r=!0,i=!1,o=void 0;try{for(var u,a=n.set[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;t(e,c)}}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}}}(o,h)}}catch(t){c=!0,l=t}finally{try{a||null==d.return||d.return()}finally{if(c)throw l}}s.set(t,o)}var v=!0,p=!1,m=void 0;try{for(var y,g=n[Symbol.iterator]();!(v=(y=g.next()).done);v=!0){var b=y.value;if(o.has(b))return!0}}catch(t){p=!0,m=t}finally{try{v||null==g.return||g.return()}finally{if(p)throw m}}return!1}function d(t,e){var n=new Map,r=0,i=!1;t.iterate({from:e,enter:function(t){if(t.type.isError&&(i=!0),i)return!1;if(t.from>=e){var o=n.get(t.from);(void 0===o||o.depth>r)&&n.set(t.from,{node:t.node,depth:r}),r++}},leave:function(t){t.from>=e&&r--}});var o=Array.from(n.entries()).sort(function(t,e){return t[0]-e[0]}).map(function(t){return{node:t[1].node,depth:t[1].depth}}),u=[],a=null,c=!0,l=!1,s=void 0;try{for(var f,d=o[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h=f.value,v=h.node.from,p=h.node.to;if(0===h.depth){a&&(a.to=v,u.push(a)),a={from:v,to:p};continue}a&&(a.to=p)}}catch(t){l=!0,s=t}finally{try{c||null==d.return||d.return()}finally{if(l)throw s}}return u}},8117:function(t,e,n){n.d(e,{Io:function(){return S},RR:function(){return x},_v:function(){return E},mb:function(){return w},xz:function(){return i}});var r,i,o=n(63257),u=n(7351),a=n(33083),c=n(80403),l=n(3030),s=n(99415),f=n(41691),d=n(85500),h=n(80332),v=n(43037),p=new Set(["\n"]),m=new Set(["	"," "]),y=new Set(["@",".","[","(",":","{",'"',"'"]),g=new Set(["@",":","::","..","...","=>","->",","]),b=new Set([f.pJ.self,f.pJ.null,f.pJ.atom,f.pJ.unit]);(r=i||(i={}))[r.IDLE=0]="IDLE",r[r.STOP=1]="STOP",r[r.ENQUEUE=2]="ENQUEUE",r[r.NOW=3]="NOW";var x=c.r$.define(),w=c.Py.define(),E=c.QQ.define({create:function(){return 1},update:function(t,e){if(e.state.facet(x).some(function(t){return null!==t&&t(e)}))return 1;var n=!0,r=!1,i=void 0;try{for(var l,E,S=e.effects[Symbol.iterator]();!(n=(E=S.next()).done);n=!0){var C=E.value;if(C.is(w))return C.value}}catch(t){r=!0,i=t}finally{try{n||null==S.return||S.return()}finally{if(r)throw i}}if((null===(l=e.state.field(h.WF,!1))||void 0===l?void 0:l.presented)||e.annotation(c.YW.remote))return 0;if(e.isUserEvent("input.drop")||e.isUserEvent("input.complete")||e.isUserEvent("undo")||e.isUserEvent("input.type.compose")||!e.newSelection.main.empty||e.newSelection.ranges.length>1||"active"===(0,u.LR)(e.state))return 1;var k=e.startState.selection.main.head,D=e.newSelection.main.head;if((e.docChanged||e.selection)&&!(0,d.UN)(e.newDoc,D)){if(!(0,a.qj)(e.state,D))return 1;var T=(0,v.gQ)((0,a.qz)(e.state),D);if(!T||T.inside.to<=D)return 1;var A=e.newDoc.slice(0,T.inside.to);if(!(0,d.UN)(A,D))return 1}if(e.docChanged&&e.isUserEvent("input")){var _=(0,d.e)(e.changes,k,D);if(!_)return 2;var I=_.from,O=_.to,R=_.char;if(null!==R&&p.has(R))return 3;if(null!==R&&m.has(R)){if((0,d.to)(e.newDoc,D))return 3;if((0,d.xb)(e.newDoc.sliceString(I,O)))return 2}if(e.state.facet(a.dK)&&(0,a.qj)(e.state,O)){var N,P=(0,a.qz)(e.state),M=(0,v.kq)(e.newDoc,P,I,D);if(!M||v.ge.apply(void 0,[M].concat((0,o._)(b))))return 2;if((0,v.ge)(M,f.pJ.string))return I<=M.from&&D===M.from+1?3:2;if(M.to<=D){if((0,v.ge)(M,f.pJ.bracket)&&(null===(N=M.type.prop(s.md.closedBy))||void 0===N?void 0:N.length)||(0,v.ge)(M,f.pJ.keyword,f.pJ.operator))return 3;if((0,v.ge)(M,f.pJ.meta,f.pJ.punctuation)){var F=e.newDoc.sliceString(M.from,M.to);if(g.has(F))return 3}}return 2}return null!==R&&y.has(R)?3:2}return e.docChanged&&e.isUserEvent("delete.backward")?2:0},provide:function(){return[l.tk.focusChangeEffect.of(function(t,e){return e?null:w.of(1)})]}});function S(t){var e=0,n=!0,r=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done);n=!0)switch(o.value.state.field(E)){case 1:return 1;case 2:3!==e&&(e=2);break;case 3:e=3}}catch(t){r=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return e}},52178:function(t,e,n){n.d(e,{Z:function(){return u},o:function(){return o}});var r=n(80332),i=n(8117);function o(t){var e;return!!(null===(e=t.field(r.WF,!1))||void 0===e?void 0:e.presented)}function u(t){var e=t.state.field(r.WF,!1);return void 0!==e&&(t.dispatch({effects:[r.OK.of(e.dismiss()),i.mb.of(i.xz.NOW)]}),!0)}},26949:function(t,e,n){n.d(e,{G:function(){return f}});var r=n(66626),i=n(33817),o=n(81199),u=n(65914),a=n(57159),c=n(66451),l=n(39743),s=n(50959);function f(){var t=(0,o.Z)(),e=t.fs,n=t.dotReplit,f=(0,r._)((0,u.N)(),1)[0],d=(0,c.G)(e,n),h=(0,l.AA)(),v=(0,i.p)(),p=(0,i.Bk)();return(0,s.useCallback)(function(){return d({model:"advanced"===f&&p()?a.BY.ADVANCED:a.BY.BASIC,filePreferences:v(),recentFiles:h()})},[p,v,h,d,f])}},34328:function(t,e,n){var r=n(80403).q6.define();e.Z=r},25497:function(t,e,n){n.d(e,{S:function(){return a},Z:function(){return c}});var r=n(80403),i=n(3030),o=n(81199),u=n(50959);function a(t){var e=t.view,n=t.line,o=t.col,u=e.state.doc,a=Math.max(1,Math.min(n,u.lines)),c=u.line(a),l=c.to,s=Math.min(c.from+(o||0),l),f=r.jT.cursor(s);e.dispatch({selection:f,effects:[i.tk.scrollIntoView(s,{x:"center",y:"center"})]})}function c(t){var e=t.filePath,n=t.view,r=t.isLoading,i=t.deeplink,c=t.onDeeplinkUpdated,l=(0,o.Z)().session;(0,u.useEffect)(function(){if(n&&!r&&i){var t=i.line,e=i.col;void 0!==t&&(a({view:n,line:t,col:e}),c&&c())}},[n,r,i,c]),(0,u.useEffect)(function(){if(n&&!r)return l.onDeeplinkUpdated(function(t){var r=t.path,i=t.line,o=t.col;r===e&&i&&a({view:n,line:i,col:o})})},[l,n,e,r])}},51561:function(t,e,n){n.d(e,{H:function(){return a},R:function(){return u}});var r=n(80403),i=n(55927),o=n(50959),u=r.Py.define();function a(t){var e=(0,i.Z)(function(e){t&&(t.dispatch({effects:u.of(e)}),t.requestMeasure())},{type:"throttle",wait:150});(0,o.useEffect)(function(){e(t?t.dom:null)},[t,e])}},99047:function(t,e,n){n.d(e,{vO:function(){return b},E2:function(){return x},K_:function(){return m},$N:function(){return S},Fm:function(){return g},O4:function(){return w}});var r=n(41733),i=n(52130),o=n(33083),u=n(80403),a=n(66626),c=n(9558),l=n(22238),s=n(15323),f=n(73393),d=n(53557),h=n(3341),v=n.n(h);function p(t){var e,n=null!==(e=t.facet(s.w4))&&void 0!==e?e:t.facet(s.Yp);if(!n)return null;var r=d.$R.from(n),i=null==r?void 0:r.getFeature("indentation");return"tabs"===i?c.Q.TABS:"spaces"===i?c.Q.SPACES:null}var m=u.QQ.define({create:function(t){return p(t)},update:function(t,e){return(0,f.aU)(e,s.w4,s.Yp)?p(e.state):t}});function y(t){var e=t.facet(S),n=e.type,r=e.size;return e.detect?function(t,e,n){if(0===t.length||t.lines<5)return null;var r=0,i=0,o=0,u=new Map,s=0,f=!0,d=!1,h=void 0;try{for(var v,p=t.iterLines()[Symbol.iterator]();!(f=(v=p.next()).done);f=!0){var m=v.value;if(++s>5e3)break;if(0!==m.length&&0!==m.trim().length){if("	"===m[0])r++;else if(" "===m[0]&&" "===m[1])i++;else{o=0;continue}var y=(0,l.L)(m,n);if(o!==y){var g=Math.abs(o-y);if(1!==g){var b,x=null!==(b=u.get(g))&&void 0!==b?b:0;u.set(g,x+1)}}o=y}}}catch(t){d=!0,h=t}finally{try{f||null==p.return||p.return()}finally{if(d)throw h}}if(0===r&&0===i)return null;var w=e,E=n;if(r>i?w=c.Q.TABS:i>r&&(w=c.Q.SPACES),w===c.Q.SPACES){var S=0,C=!0,k=!1,D=void 0;try{for(var T,A=u[Symbol.iterator]();!(C=(T=A.next()).done);C=!0){var _=(0,a._)(T.value,2),I=_[0],O=_[1];O>S&&(S=O,E=I)}}catch(t){k=!0,D=t}finally{try{C||null==A.return||A.return()}finally{if(k)throw D}}}return{type:w,size:E}}(t.doc,n,r):null}var g=u.Py.define(),b=u.QQ.define({create:function(t){return t.doc.lines>=5},update:function(t,e){return e.docChanged?e.newDoc.lines>=5:t}}),x=u.QQ.define({create:function(t){return y(t)},update:function(t,e){return(0,f.aU)(e,g)||(0,f.aU)(e,S)&&e.startState.facet(S).detect!==e.state.facet(S).detect||e.docChanged&&0===e.startState.doc.length?y(e.state):t},compare:function(t,e){return v()(t,e)},provide:function(){return i.YW.of(function(t){return(0,f.aU)(t,g)?[g.of(!0)]:[]})}}),w=u.Py.define(),E=u.QQ.define({create:function(){return{}},update:function(t,e){var n=!0,i=!1,o=void 0;try{for(var u,a=e.effects[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var c=u.value;c.is(w)&&(t=(0,r._)({},t,c.value))}}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return t}}),S=u.r$.define({combine:function(t){return t[0]},enables:function(t){return[m,b,x,E,o.c.compute([t,m,x,E],function(e){var n,r,i,o,u,a=e.facet(t),l=e.field(m),s=e.field(x),f=e.field(E),d=null!==(i=null!==(r=null!==(n=f.type)&&void 0!==n?n:l)&&void 0!==r?r:null==s?void 0:s.type)&&void 0!==i?i:a.type,h=null!==(u=null!==(o=f.size)&&void 0!==o?o:null==s?void 0:s.size)&&void 0!==u?u:a.size;return d===c.Q.SPACES?" ".repeat(h):"	"}),u.yy.tabSize.compute([t,x,E],function(e){var n=e.facet(t),r=e.field(x),i=e.field(E);return i.size?i.size:r&&r.type===c.Q.SPACES?r.size:n.size})]}})},9558:function(t,e,n){var r,i,o,u;n.d(e,{Q:function(){return r}}),(o=r||(r={})).SPACES="spaces",o.TABS="tabs",(u=i||(i={})).FILE_TYPE="FILE_TYPE",u.DETECTED="DETECTED",u.PREFERENCES="PREFERENCES",u.OVERRIDE="OVERRIDE"},24226:function(t,e,n){n.d(e,{CN:function(){return I},HM:function(){return _},Ic:function(){return O},s:function(){return N}});var r=n(63257),i=n(7351),o=n(52130),u=n(33083),a=n(9756),c=n(5786),l=n(80403),s=n(3030),f=n(24655),d=n(52178),h=n(32661),v=n(23508),p=n(23821),m=n(10874),y=n(60941),g=n(4590),b=n(11407),x=n(50798),w=n(50959),E=n(81941),S=n(36559),C=function(t){return function(e){var n="down"===t,r=e.state.selection,i=!0,o=!1,u=void 0;try{for(var a,c=r.ranges[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=a.value;r=r.addRange(e.moveVertically(l,n))}}catch(t){o=!0,u=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}return e.dispatch({selection:r}),!0}},k=C("up"),D=C("down"),T=function(t){var e=null,n=!0,r=!1,i=void 0;try{for(var o,u=t.state.selection.ranges[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value;if(!a.empty)for(var c=a.from;c<=a.to;){var s=t.state.doc.lineAt(c),f=Math.min(s.to,a.to);e=e?e.addRange(l.jT.range(f,f)):l.jT.single(f),c=s.to+1}}}catch(t){r=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return!!e&&(t.dispatch({selection:e}),!0)},A=n(27894);function _(t){var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=E.c.includes((0,S.r6)(t));return function(t){var n,r,i,o=t.state,a=t.dispatch;return!o.readOnly&&(a(o.update((r=(n=o.facet(u.c)).includes(" "),i=n.length,o.changeByRange(function(t){var u=function(t){var e=o.doc.lineAt(t);return a.push({from:e.from,insert:n}),e},a=[],c=o.doc.lineAt(t.anchor).number===o.doc.lineAt(t.head).number,s=!t.empty;if(s){if(s&&c)u(t.from);else for(var f=t.from;f<=t.to;)f=u(f).to+1}else{var d,h=t.from,v=o.doc.lineAt(h),p=o.doc.sliceString(v.from,v.to),m=p.length,y=""===p.trim()&&!p.includes("	"),g=""===o.sliceDoc(v.from,h).trim(),b=o.doc.sliceString(v.from,h).length%i;e&&(d=o.doc.lineAt(h),/^[-*]$/.test(o.sliceDoc(d.from,t.from).trim()))?a.push({from:v.from,insert:n}):y&&r?a.push({from:t.from,insert:" ".repeat(i-m%i)}):g&&r?a.push({from:h,insert:" ".repeat(i-b)}):a.push({from:h,insert:n})}var x=o.changes(a),w=""===o.sliceDoc(t.anchor,t.head).trim();return{changes:a,range:l.jT.range(x.mapPos(t.anchor,1),x.mapPos(w&&c?t.anchor:t.head,1))}})),{userEvent:"input.indent"})),!0)}}(t);return s.$f.of([{key:"Mod-f",run:c.nx,scope:"editor search-panel"},{key:"Escape",run:c.N$,scope:"editor search-panel"},{key:"Enter",run:o.xx,shift:o.xx},{key:"Home",run:o.Kd,shift:o.WN},{mac:"Cmd-ArrowLeft",run:o.Kd,shift:o.WN},{key:"Mod-Home",run:o.$8,shift:o.JA},{mac:"Cmd-ArrowUp",run:o.$8,shift:o.JA},{key:"PageUp",run:o.ZH,shift:o.db},{mac:"Ctrl-ArrowUp",run:o.ZH,shift:o.db},{key:"PageDown",run:o.Pl,shift:o.qh},{mac:"Ctrl-ArrowDown",run:o.Pl,shift:o.qh},{key:"End",run:o.Bx,shift:o.Bn},{mac:"Cmd-ArrowRight",run:o.Bx,shift:o.Bn},{key:"Mod-Alt-ArrowUp",linux:"Shift-Alt-ArrowUp",run:k,preventDefault:!0},{key:"Mod-Alt-ArrowDown",linux:"Shift-Alt-ArrowDown",run:D,preventDefault:!0},{key:"Shift-Alt-i",run:T},{key:"Mod-End",run:o.ES,shift:o._q},{mac:"Cmd-ArrowDown",run:o.ES,shift:o._q},{key:"Mod-a",run:o.td},{key:"Backspace",run:i.L6},{key:"Backspace",run:o.K8,shift:o.K8},{key:"Delete",run:o.F9},{key:"Mod-Backspace",mac:"Alt-Backspace",run:o.fE},{key:"Mod-Delete",mac:"Alt-Delete",run:o.rl},{mac:"Mod-Backspace",run:o._r},{mac:"Mod-Delete",run:o.P},{mac:"Ctrl-b",run:o.lv,shift:o.m0,preventDefault:!0},{mac:"Ctrl-f",run:o.L9,shift:o.Ej},{mac:"Ctrl-p",run:o.kh,shift:o.Ie},{mac:"Ctrl-n",run:o.yz,shift:o.fY},{mac:"Ctrl-a",run:o.Hj,shift:o.Tb},{mac:"Ctrl-e",run:o.AE,shift:o.p7},{mac:"Ctrl-d",run:o.F9},{mac:"Ctrl-h",run:o.K8},{mac:"Ctrl-k",run:o.P},{mac:"Ctrl-Alt-h",run:o.fE},{mac:"Ctrl-o",run:o.ju},{mac:"Ctrl-t",run:o.LX},{mac:"Ctrl-v",run:o.Pl},{mac:"Alt-v",run:o.ZH},{key:"Shift-Mod-k",run:o.YE},{key:"Alt-ArrowDown",run:o.O_},{key:"Alt-ArrowUp",run:o.K4},{win:"Shift-Alt-ArrowDown",mac:"Shift-Alt-ArrowDown",run:o.kV},{win:"Shift-Alt-ArrowUp",mac:"Shift-Alt-ArrowUp",run:o.cG},{key:"Mod-l",run:o.Zr,preventDefault:!0},{key:"Shift-Mod-\\",run:o.gY},{key:"Tab",run:e,shift:o.xi,preventDefault:!0},{key:"Mod-[",run:o.xi},{key:"Mod-]",run:e},{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:u.wf},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:u.zI},{key:"Mod-z",run:o.Yw,preventDefault:!0},{key:"Mod-y",run:o.KX,preventDefault:!0},{key:"Mod-Shift-z",run:o.KX,preventDefault:!0},{key:"Mod-u",run:o.MN,preventDefault:!0},{key:"F8",run:a.Vt},{key:"ArrowDown",run:(0,i.gq)(!0)},{key:"ArrowUp",run:(0,i.gq)(!1)},{key:"PageDown",run:(0,i.gq)(!0,"page")},{key:"PageUp",run:(0,i.gq)(!1,"page")}])}var I={cursorLeft:{id:"editor.cursor.left",name:"Move cursor left",default:"ArrowLeft",run:o.lv},cursorGroupLeft:{id:"editor.cursor.groupLeft",name:"Move cursor left across one group",default:(0,b.l2)({alt:!0,key:"ArrowLeft"}),run:o.ff},selectionLeft:{id:"editor.selection.left",name:"Move selection left",default:"Shift-ArrowLeft",run:o.m0},selectionGroupLeft:{id:"editor.selection.groupLeft",name:"Move selection left across one group",default:(0,b.l2)({alt:!0,shift:!0,key:"ArrowLeft"}),run:o.u9},cursorRight:{id:"editor.cursor.right",name:"Move cursor right",default:"ArrowRight",run:o.L9},cursorGroupRight:{id:"editor.cursor.groupRight",name:"Move cursor right across one group",default:(0,b.l2)({alt:!0,key:"ArrowRight"}),run:o.Ku},selectionRight:{id:"editor.selection.right",name:"Move selection right",default:"Shift-ArrowRight",run:o.Ej},selectionGroupRight:{id:"editor.selection.groupRight",name:"Move selection right across one group",default:(0,b.l2)({alt:!0,shift:!0,key:"ArrowRight"}),run:o.kY},cursorUp:{id:"editor.cursor.lineUp",name:"Move cursor up",default:"ArrowUp",run:o.kh},cursorDown:{id:"editor.cursor.lineDown",name:"Move cursor down",default:"ArrowDown",run:o.yz},selectionUp:{id:"editor.selection.lineUp",name:"Move selection up",default:"Shift-ArrowUp",run:o.Ie},selectionDown:{id:"editor.selection.lineDown",name:"Move selection down",default:"Shift-ArrowDown",run:o.fY},goToLine:{id:"editor.action.goToLine",name:"Go to line",default:"Ctrl-g",run:c.zo},selectionNextOccurrence:{id:"editor.selection.nextOccurrence",name:"Select next selection occurrence",default:(0,b.l2)({cmdOrCtrl:!0,key:"d"}),run:c.rJ},selectionAllMatches:{id:"editor.selection.allMatches",name:"Select all selection matches",default:(0,b.l2)({cmdOrCtrl:!0,shift:!0,key:"l"}),run:c.tm},foldAll:{id:"editor.action.foldAll",name:"Fold all",default:(0,b.l2)({alt:!0,shift:!0,key:"0"}),description:"Folds all regions in the active editor",run:u.g_},unfoldAll:{id:"editor.action.unfoldAll",name:"Unfold all",default:(0,b.l2)({alt:!0,shift:!0,key:"j"}),description:"Unfolds all folded regions in the active editor",run:u.jZ},lineComment:{id:"editor.action.lineComment",name:"Add line comment",default:void 0,run:o.yr,description:"Comment the current selection using line comments"},lineUncomment:{id:"editor.action.lineUncomment",name:"Remove line comment",default:void 0,run:o.hX,description:"Uncomment the current selection using line comments"},toggleComment:{id:"editor.action.toggleComment",name:"Toggle comment",default:(0,b.l2)({cmdOrCtrl:!0,key:"/"}),run:o.O8,description:"Comment or uncomment the current selection"},toggleBlockComment:{id:"editor.action.toggleBlockComment",name:"Toggle block comment",default:"Shift-Alt-a",run:o.Lr,description:"Comment or uncomment the current selection using block comments"},acceptPrimaryCompletion:{id:"editor.completions.accept",name:"Accept primary completion",default:(0,b.l2)({key:"Tab"}),run:function(t){return!(0,d.o)(t.state)&&(0,i.dk)(t)},prec:"high"},acceptSecondaryCompletion:{id:"editor.completions.acceptAlternative",name:"Accept secondary completion",default:(0,b.l2)({key:"Enter"}),run:function(t){return(0,i.dk)(t)},prec:"high"},requestCompletion:{id:"editor.completions.trigger",name:"Trigger completion",default:"Ctrl- ",run:i.WA},cancelCompletion:{id:"editor.completions.cancel",name:"Cancel completion",default:(0,b.l2)({key:"Escape"}),run:function(t){return!(0,d.o)(t.state)&&("active"===(0,i.LR)(t.state)?((0,i._B)(t),(0,d.Z)(t)):((0,i._B)(t),!1))},preventDefault:!1},requestCompleteCode:{id:"editor.completions.ghostwriter",name:"Trigger AI code completion",run:d.Z,default:void 0},searchFindNext:{id:"editor.search.findNext",name:"Search: Find next",run:c.g,default:(0,b.l2)({cmdOrCtrl:!0,key:"g"}),scope:"editor search-panel"},searchFindPrevious:{id:"editor.search.findPrevious",name:"Search: Find previous",run:c.a7,default:(0,b.l2)({cmdOrCtrl:!0,shift:!0,key:"g"}),scope:"editor search-panel"},saveFile:{id:"editor.action.saveFile",name:"Save File",run:A.Q,default:void 0,scope:"editor context-menu"},formatDocument:{id:"editor.action.formatDocument",name:"Format Document",run:f.z1,default:(0,b.l2)({cmdOrCtrl:!0,key:"s"}),scope:"editor context-menu"},startThread:{id:"editor.action.startThread",name:"Start Thread",run:g.h$,default:"Alt-/",scope:"editor context-menu"},goToDefinition:{id:"editor.action.goToDefinition",name:"Go to Definition",run:v.wK,default:(0,b.l2)({cmdOrCtrl:!0,key:"F12"}),scope:"editor context-menu"},goToTypeDefinition:{id:"editor.action.goToTypeDefinition",name:"Go to Type Definition",run:v.OM,default:void 0,scope:"editor context-menu"},goToImplementation:{id:"editor.action.goToImplementation",name:"Go to Implementation",run:v.Zc,default:void 0,scope:"editor context-menu"},goToReferences:{id:"editor.action.goToReferences",name:"Show references",run:m.Z,default:"Shift-F12",scope:"editor context-menu"},selectionAllOccurrences:{id:"editor.selection.allOccurrences",name:"Select all occurrences",default:(0,b.l2)({cmdOrCtrl:!0,key:"F2"}),run:g.SK,scope:"editor context-menu"},toggleProblemsPanel:{id:"editor.action.toggleProblemsPanel",name:"Toggle Problems Panel",run:p.C,default:(0,b.l2)({cmdOrCtrl:!0,shift:!0,key:"m"})},codeActions:{id:"editor.action.codeActions",name:"Show Code Actions",run:h.b7,default:(0,b.l2)({cmdOrCtrl:!0,key:"."}),scope:"editor context-menu"},codeActionsAutofix:{id:"editor.action.autoFix",name:"Auto Fix",run:h.LJ,default:(0,b.l2)({cmdOrCtrl:!0,alt:!0,key:"."}),scope:"editor"},selectAllSearchMatches:{id:"editor.action.selectAllMatches",name:"Select all search matches",run:function(t){return!!((0,c.Ep)(t.state)&&(0,c.i3)(t))&&(t.focus(),!0)},default:(0,b.l2)({alt:!0,key:"Enter"}),scope:"editor search-panel"},replaceAllSearchMatches:{id:"editor.action.replaceAllMatches",name:"Replace all search matches",run:function(t){return!!((0,c.Ep)(t.state)&&(0,c.ko)(t))&&(t.focus(),!0)},default:(0,b.l2)({cmdOrCtrl:!0,alt:!0,key:"Enter"}),scope:"editor search-panel"}},O=Object.values(I),R=new y.j(function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",i=arguments.length>4?arguments[4]:void 0;return l.Wl[r](s.$f.of([{key:(0,b.cU)(t),run:e,scope:n,preventDefault:null==i||i}]))});function N(){var t=[P(I.cursorLeft),P(I.cursorRight),P(I.selectionLeft),P(I.selectionRight),P(I.cursorGroupLeft),P(I.cursorGroupRight),P(I.selectionGroupLeft),P(I.selectionGroupRight),P(I.cursorUp),P(I.cursorDown),P(I.selectionUp),P(I.selectionDown),P(I.goToLine),P(I.selectionNextOccurrence),P(I.selectionAllMatches),P(I.foldAll),P(I.unfoldAll),P(I.lineComment),P(I.lineUncomment),P(I.toggleComment),P(I.toggleBlockComment),P(I.acceptPrimaryCompletion),P(I.acceptSecondaryCompletion),P(I.cancelCompletion),P(I.requestCompletion),P(I.requestCompleteCode),P(I.searchFindNext),P(I.searchFindPrevious),P(I.formatDocument),P(I.startThread),P(I.goToDefinition),P(I.goToTypeDefinition),P(I.goToImplementation),P(I.goToReferences),P(I.selectionAllOccurrences),P(I.toggleProblemsPanel),P(I.codeActions),P(I.codeActionsAutofix),P(I.selectAllSearchMatches),P(I.replaceAllSearchMatches),P(I.saveFile)];return(0,w.useMemo)(function(){return(0,r._)(t)},(0,r._)(t))}function P(t){var e=(0,x.b1)(t.id,t.shortcut);return R.use(e,t.run,t.scope,t.prec,t.preventDefault)}},48495:function(t,e,n){n.d(e,{Z:function(){return i}});var r=n(33083);function i(t){var e=t.facet(r.dK);return null==e?void 0:e.name}},15323:function(t,e,n){n.d(e,{Q$:function(){return l},Yp:function(){return a},w4:function(){return c},xR:function(){return u}});var r=n(80403),i=n(53557),o=r.r$.define({combine:function(t){return t[0]?i.$R.from(t[0]):null}}),u=o.reader,a=r.r$.define({combine:function(t){return t.length>0?t[0]:void 0},enables:function(t){return o.compute([t],function(e){return e.facet(t)})}}),c=r.r$.define({combine:function(t){return t.length>0?t[0]:void 0},enables:function(t){return o.compute([t],function(e){return e.facet(t)})}}),l=r.r$.define({combine:function(t){return t.length>0?t[0]:void 0}})},67346:function(t,e,n){n.d(e,{X4:function(){return m},de:function(){return y},gy:function(){return p},un:function(){return l}});var r=n(12285),i=n(4955),o=n(9670),u=n(80403),a=n(3030),c=n(46870),l=function(t){"use strict";(0,i._)(n,t);var e=(0,o._)(n);function n(t){var i;return(0,r._)(this,n),(i=e.call(this)).value=t,i}var u=n.prototype;return u.toDOM=function(){return document.createTextNode(String(this.value))},u.eq=function(t){return this.value===t.value},n}(a.SJ),s=[],f=new c.L(1e3),d=!1,h=!1;function v(t){if(t<1e3)return d?s[t]:(h||(h=!0,("requestIdleCallback"in globalThis?globalThis.requestIdleCallback:globalThis.setTimeout)(function(){for(var t=0;t<1e3;t++)s.push(new l(t));d=!0,h=!1})),new l(t));var e=t.toString(),n=f.get(e);return n||(n=new l(e),f.set(e,n)),n}var p=u.r$.define(),m=u.r$.define(),y=(0,a.v5)({class:"cm-lineNumbers",renderEmptyElements:!1,lineMarker:function(t,e,n){var r=t.state.facet(p),i=!0,o=!1,u=void 0;try{for(var a,c=r[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=(0,a.value)(t,e,n);if(void 0!==l)return l}}catch(t){o=!0,u=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}return v(t.state.doc.lineAt(e.from).number)},widgetMarker:function(t,e,n){var r=t.state.facet(m),i=!0,o=!1,u=void 0;try{for(var a,c=r[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=(0,a.value)(t,e,n);if(void 0!==l)return l}}catch(t){o=!0,u=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}return null},initialSpacer:function(t){return v(g(t.state.doc.lines))},updateSpacer:function(t,e){if(!(t instanceof l))return t;var n=g(e.state.doc.lines);return n===t.value?t:v(n)},domEventHandlers:{click:function(t,e,n){if(t.state.facet(u.yy.readOnly)||e.type!==a.kH.Text)return!1;var r=t.state,i=r.doc,o=r.selection,c=i.lineAt(e.from),l=u.jT.range(c.from,Math.min(c.to+1,i.length));return n.altKey?t.dispatch({selection:o.addRange(l)}):t.dispatch({selection:u.jT.create([l])}),t.focus(),!0}}});function g(t){for(var e=9;e<t;)e=10*e+9;return e}},74509:function(t,e,n){n.d(e,{o:function(){return x},p:function(){return w}});var r,i=n(42516),o=n(74985),u=n(80403),a=n(3030),c=n(43312),l=n(11715),s=n(94778),f=n(72093),d=n(50959),h=(0,c.F4)({"0%":{opacity:0},"100%":{opacity:.5}}),v=(0,c.iv)({position:"absolute",top:"0",left:"0",padding:"8px",height:"100%",width:"100%",overflow:"hidden",zIndex:5,opacity:"1 !important","> svg":{opacity:0,animation:"".concat(h," 200ms 150ms linear forwards"),height:"100%","@media (prefers-reduced-motion: reduce)":{animationDuration:"0ms",animationDelay:"250ms"}}});function p(){var t=(0,d.useId)();return(0,o.tZ)(s.G,{css:v,children:(0,o.BX)(l.Z,{speed:2,backgroundColor:f.TV.backgroundHighest,foregroundColor:f.TV.backgroundHigher,uniqueKey:t,children:[(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"0",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"0",width:"72",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"128",y:"0",width:"144",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"280",y:"0",width:"132",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"420",y:"0",width:"48",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"476",y:"0",width:"144",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"20",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"20",width:"72",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"128",y:"20",width:"192",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"328",y:"20",width:"48",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"384",y:"20",width:"312",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"40",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"40",width:"0",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"60",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"60",width:"24",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"80",y:"60",width:"36",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"124",y:"60",width:"48",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"180",y:"60",width:"24",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"60",width:"132",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"352",y:"60",width:"48",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"408",y:"60",width:"24",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"440",y:"60",width:"84",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"532",y:"60",width:"60",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"600",y:"60",width:"36",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"644",y:"60",width:"72",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"80",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"80",width:"36",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"92",y:"80",width:"48",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"148",y:"80",width:"24",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"180",y:"80",width:"108",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"296",y:"80",width:"60",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"364",y:"80",width:"24",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"396",y:"80",width:"108",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"100",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"100",width:"60",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"116",y:"100",width:"132",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"256",y:"100",width:"12",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"276",y:"100",width:"12",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"120",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"120",width:"84",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"120",width:"96",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"268",y:"120",width:"60",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"336",y:"120",width:"132",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"140",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"140",width:"84",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"140",width:"84",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"256",y:"140",width:"60",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"324",y:"140",width:"132",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"464",y:"140",width:"60",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"532",y:"140",width:"60",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"600",y:"140",width:"156",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"160",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"160",width:"84",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"160",width:"132",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"304",y:"160",width:"60",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"372",y:"160",width:"144",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"180",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"180",width:"12",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"200",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"200",width:"0",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"220",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"220",width:"96",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"152",y:"220",width:"264",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"424",y:"220",width:"12",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"240",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"240",width:"36",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"116",y:"240",width:"72",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"196",y:"240",width:"12",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"216",y:"240",width:"312",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"260",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"260",width:"24",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"104",y:"260",width:"24",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"136",y:"260",width:"120",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"264",y:"260",width:"72",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"344",y:"260",width:"120",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"472",y:"260",width:"84",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"564",y:"260",width:"36",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"608",y:"260",width:"60",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"280",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"280",width:"24",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"104",y:"280",width:"24",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"136",y:"280",width:"24",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"168",y:"280",width:"48",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"224",y:"280",width:"72",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"304",y:"280",width:"36",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"348",y:"280",width:"84",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"440",y:"280",width:"60",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"508",y:"280",width:"48",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"564",y:"280",width:"144",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"300",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"300",width:"24",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"104",y:"300",width:"216",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"328",y:"300",width:"24",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"360",y:"300",width:"96",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"464",y:"300",width:"72",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"544",y:"300",width:"48",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"320",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"320",width:"72",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"152",y:"320",width:"12",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"340",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"340",width:"60",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"340",width:"72",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"244",y:"340",width:"12",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"264",y:"340",width:"132",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"404",y:"340",width:"12",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"424",y:"340",width:"144",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"360",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"360",width:"96",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"200",y:"360",width:"144",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"380",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"380",width:"108",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"380",width:"84",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"400",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"400",width:"12",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"420",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"420",width:"12",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"440",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"440",width:"0",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"460",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"460",width:"36",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"92",y:"460",width:"48",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"148",y:"460",width:"12",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"168",y:"460",width:"36",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"460",width:"144",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"480",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"480",width:"48",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"128",y:"480",width:"36",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"172",y:"480",width:"48",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"228",y:"480",width:"12",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"248",y:"480",width:"84",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"500",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"500",width:"132",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"500",width:"12",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"520",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"520",width:"132",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"540",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"540",width:"300",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"404",y:"540",width:"204",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"560",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"560",width:"24",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"580",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"580",width:"84",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"580",width:"156",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"600",width:"32",height:"15"}),(0,o.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"600",width:"24",height:"15"})]})})}var m=n(60994),y=n(60941),g="data-initializing",b=a.tk.theme((0,i._)({},"&[".concat(g,"]"),(r={},(0,i._)(r,"& > :not(.".concat(m.n,")"),{opacity:0}),(0,i._)(r,"& > .".concat(m.n," > *"),{opacity:0}),r))),x=u.r$.define({combine:function(t){return t.some(function(t){return!!t})},enables:function(t){return[b,m.t.compute([t],function(e){return e.facet(t)?{key:"initializing",node:(0,o.tZ)(p,{})}:null}),a.tk.editorAttributes.of(function(e){return e.state.facet(t)?(0,i._)({},g,"true"):{}}),a.tk.editable.computeN([t],function(e){return e.facet(t)?[!1]:[]}),u.yy.readOnly.computeN([t],function(e){return e.facet(t)?[!0]:[]})]}}),w=new y.j(function(t){return t?x.of(t):null})},92370:function(t,e,n){n.d(e,{Rn:function(){return d},SC:function(){return p},S_:function(){return v},gb:function(){return f}});var r=n(12285),i=n(74985),o=n(80403),u=n(3030),a=n(60994),c=n(60941),l=n(4354),s=[],f=o.r$.define({combine:function(t){return t.some(function(t){return!!t})},enables:function(t){return a.t.compute([t],function(e){return e.facet(t)?{key:"loading",node:(0,i.tZ)(l.Z,{})}:null})}}),d=new c.j(function(t){return t?f.of(t):null}),h=function(){"use strict";function t(e){(0,r._)(this,t),this.view=e,this.bindings=new Set,this.pending=!1,this.destroyed=!1}var e=t.prototype;return e.queueRefresh=function(){var e=this;this.destroyed||this.pending||(this.pending=!0,Promise.resolve().then(function(){if(!e.destroyed){e.pending=!1;var n=t.compartment.get(e.view.state)!==s,r=e.bindings.size>0;if(n!==r){var i=r?f.of(!0):s;e.view.dispatch({effects:t.compartment.reconfigure(i)})}}}))},e.bind=function(){var t=this,e=function(){t.bindings.has(e)&&(t.bindings.delete(e),t.queueRefresh())};return this.bindings.add(e),this.queueRefresh(),e},e.destroy=function(){this.destroyed=!0},t}();h.compartment=new o.F6;var v=u.lg.fromClass(h,{provide:function(){return h.compartment.of(s)}});function p(t,e){var n=t.plugin(v);if(!n)throw Error("Loading plugin not found");var r=n.bind();return e&&e.finally(r),r}},22648:function(t,e,n){n.d(e,{N:function(){return u},T:function(){return o}});var r=n(80403),i=n(34635),o=r.r$.define({combine:function(t){return(0,i.H)(t.flat())}}),u=o.reader},32661:function(t,e,n){n.d(e,{LJ:function(){return X},b7:function(){return Q},WB:function(){return tt},DZ:function(){return J}});var r=n(27387),i=n(12285),o=n(4955),u=n(41733),a=n(30509),c=n(98924),l=n(66626),s=n(9670),f=n(96583),d=n(74985),h=n(80403),v=n(3030),p=n(73393),m=n(36556),y=n(48594),g=n(7225);function b(){return(b=(0,r._)(function(t,e,n){var r,i,o,u,a,c,l,s,d,h,v;return(0,f.Jh)(this,function(f){switch(f.label){case 0:if(g.Command.is(t))return e.request.executeCommand(t.command,t.arguments),[2];if(!(!t.edit&&t.data)||!("object"==typeof(i=null===(r=e.getServerCapabilities())||void 0===r?void 0:r.codeActionProvider)&&i.resolveProvider))return[3,2];return[4,e.request.resolveCodeAction(t)];case 1:if("error"in(o=f.sent()))return m.kg.error("LSP: Error resolving code action: ".concat(o.error.message),{action:JSON.stringify(t),clientId:e.clientId}),[2];if(!0===o.cancelled||!o.result)return[2];t=o.result,f.label=2;case 2:if(u=t.edit,a=t.command,u&&(0,y.w)({edit:u,fs:n,client:e}),a&&"java.apply.workspaceEdit"===a.command&&a.arguments){c=!0,l=!1,s=void 0;try{for(d=a.arguments[Symbol.iterator]();!(c=(h=d.next()).done);c=!0)v=h.value,g.WorkspaceEdit.is(v)&&(0,y.w)({edit:v,fs:n,client:e})}catch(t){l=!0,s=t}finally{try{c||null==d.return||d.return()}finally{if(l)throw s}}}return a&&e.request.executeCommand(a.command,a.arguments),[2]}})})).apply(this,arguments)}var x=n(15323),w=n(92370),E=n(22648),S=n(86486),C=n(12674),k=n(118),D=n(94778),T=n(17841),A=n(17867),_=n(66548);function I(t){return(0,d.BX)(_.ZP,(0,a._)((0,u._)({},t),{children:[(0,d.tZ)("path",{fillRule:"evenodd",d:"M12 2.75A5.25 5.25 0 0 0 6.75 8c0 1.451.579 2.27 1.308 3.303l.055.077c.683.969 1.436 2.083 1.603 3.87h4.568c.167-1.787.92-2.901 1.603-3.87l.055-.077C16.672 10.27 17.25 9.45 17.25 8c0-2.9-2.35-5.25-5.25-5.25Z",clipRule:"evenodd"}),(0,d.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25 8a6.75 6.75 0 0 1 13.5 0c0 1.933-.823 3.095-1.548 4.119a83.9 83.9 0 0 0-.09.126c-.725 1.028-1.362 1.993-1.362 3.755a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75c0-1.762-.637-2.727-1.363-3.755l-.09-.126C6.074 11.095 5.25 9.933 5.25 8Zm3 11a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Zm1 3a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z"})]}))}var O=n(34635),R=n(82646),N=n(36101),P=n(89748),M=n(39171),F=n(57253),Z=n(65377);function L(t){var e,n;return null!==(n=null===(e=t.facet(E.N))||void 0===e?void 0:e.isCodeActionsSupported)&&void 0!==n&&n}var U=h.Py.define(),B=h.Py.define(),V=h.Py.define(),j=h.Py.define(),$=h.Py.define(),H=function(t){"use strict";(0,o._)(n,t);var e=(0,s._)(n);function n(t,r){var o;return(0,i._)(this,n),(o=e.call(this)).actions=t,o.position=r,o}return n.prototype.toDOM=function(t){var e=this,n=16;t.defaultLineHeight<18&&(n=12),t.defaultLineHeight>24&&(n=24);var r=(0,C.V)((0,d.tZ)(D.G,{style:{cursor:"pointer",padding:n>24?"2px":void 0,position:"absolute"},onPointerDown:function(n){W(t,e.actions,e.position),n.stopPropagation()},children:(0,d.tZ)(I,{"data-testid":"CodeActionsLighbulb",size:n,style:{color:t.state.facet(v.tk.darkTheme)?Z.TV.yellowStrongest:Z.TV.yellowDimmer,pointerEvents:"none"}})})),i=document.createElement("div");return i.style.display="inline",i.appendChild(r),i},n}(v.l9),G=h.QQ.define({create:function(){return null},update:function(t,e){if(!L(e.state))return null;t&&e.docChanged&&(t=(0,a._)((0,u._)({},t),{position:e.changes.mapPos(t.position)}));var n=!0,r=!1,i=void 0;try{for(var o,c=e.effects[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var l=o.value;l.is(U)&&(t=null),l.is(V)&&(t=l.value),l.is(j)&&t&&(t=(0,a._)((0,u._)({},t),{forceShowLightbulb:!0}))}}catch(t){r=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return t},provide:function(t){return v.tk.decorations.compute([t,N.j],function(e){if(e.facet(N.j))return v.p.none;var n,r,i,o,u=e.field(t);if(!u||0===u.actions.length||!(null==u?void 0:u.forceShowLightbulb)&&!u.actions.some(function(t){return!Y(t.action,g.CodeActionKind.Refactor)}))return v.p.none;var a=e.doc.lineAt(u.position);if(0===a.text.length)i=a.from;else if((null!==(o=null===(r=a.text.match(/^\s+/))||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:n.length)&&void 0!==o?o:0)>=2)i=a.from;else if(a.number>1)i=e.doc.line(a.number-1).from;else if(e.doc.lines>1)i=e.doc.line(a.number+1).from;else{if(1===e.doc.lines)return v.p.none;i=a.from}return v.p.set(v.p.widget({widget:new H(u.actions,i),side:-1e4,block:!1}).range(i))})}}),z=function(){"use strict";function t(e,n,o){(0,i._)(this,t);var c,l=this;this.doRequestDebounced=(0,M.Z)((c=(0,r._)(function(t){var e,n,r,i;return(0,f.Jh)(this,function(o){return n=(e=l.view.state.selection.main).from,r=e.to,i={start:(0,k.sg)(l.view.state.doc,n),end:(0,k.sg)(l.view.state.doc,r)},[2,l.doRequestImmediately((0,a._)((0,u._)({},t),{originalRange:i}))]})}),function(t){return c.apply(this,arguments)}),{wait:200}),this.clients=n,this.fs=o,this.view=e,this.destroyed=!1,this.inflightRequestId=new Map,this.inflightPosition=null,this.fetch(e.state)}var e=t.prototype;return e.update=function(t){if(this.inflightPosition&&(this.inflightPosition=t.changes.mapPos(this.inflightPosition)),(0,p.aU)(t,"selection",B)){var e=!0,n=!1,r=void 0;try{for(var i,o,u=t.transactions[Symbol.iterator]();!(e=(o=u.next()).done);e=!0){var a=o.value,c=!0,l=!1,s=void 0;try{for(var f,d=a.effects[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h=f.value;if(h.is(B)){i=h.value;break}}}catch(t){l=!0,s=t}finally{try{c||null==d.return||d.return()}finally{if(l)throw s}}}}catch(t){n=!0,r=t}finally{try{e||null==u.return||u.return()}finally{if(n)throw r}}this.fetch(t.state,i).then(function(){(null==i?void 0:i.force)&&"function"==typeof(null==i?void 0:i.force)&&i.force()})}},e.postUpdate=function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t.transactions[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=i.value,a=!0,c=!1,l=void 0;try{for(var s,f=u.effects[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var d=s.value;if(d.is($)){var h=!0,v=!1,p=void 0;try{for(var m,y=this.clients[Symbol.iterator]();!(h=(m=y.next()).done);h=!0){var g=m.value;if(d.value.client===g.clientId){(function(t,e,n){return b.apply(this,arguments)})(d.value.action,g,this.fs).then(function(){var t,e;null===(t=(e=d.value).onComplete)||void 0===t||t.call(e)});break}}}catch(t){v=!0,p=t}finally{try{h||null==y.return||y.return()}finally{if(v)throw p}}t.view.dispatch({effects:[U.of(null),B.of({force:!1})]});return}}}catch(t){c=!0,l=t}finally{try{a||null==f.return||f.return()}finally{if(c)throw l}}}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}},e.destroy=function(){this.destroyed=!0;var t=!0,e=!1,n=void 0;try{for(var r,i=this.clients[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value,u=this.inflightRequestId.get(o.clientId);u&&o.notify.cancelRequest(u)}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}},e.fetch=function(t,e){var n=this;return(0,r._)(function(){var r,i,o,c,l,s,d,h;return(0,f.Jh)(this,function(f){switch(f.label){case 0:if(!L(t))return[2];if(!(r=t.facet(x.Yp)))throw Error("fileName not found");return i=n.doRequestDebounced({path:r,triggerKind:(null==e?void 0:e.force)?g.CodeActionTriggerKind.Invoked:g.CodeActionTriggerKind.Automatic,only:null==e?void 0:e.only}),o=null==e?void 0:e.force,c=null==e?void 0:e.autofix,l=null==e?void 0:e.silent,o&&!l&&(0,w.SC)(n.view,i),o&&n.doRequestDebounced.flush(),[4,i];case 1:if(s=f.sent(),n.destroyed||!0===s.cancelled||(n.inflightRequestId.clear(),!s||"error"in s||!s.result||null===n.inflightPosition))return[2,null];if(d=s.result,n.view.dispatch({effects:V.of({actions:d,position:n.inflightPosition})}),!o)return[2];if(!d.length){if(l)return[2];return[2,(0,S.J)(n.view,{message:"No ".concat(c?"auto fixes":"code actions"," available"),offset:n.inflightPosition})]}if(h=function(t,e,n){var r=t.selection.main,i=r.from,o=r.to,u={start:(0,k.sg)(t.doc,i),end:(0,k.sg)(t.doc,o)},a=!0,c=!1,l=void 0;try{for(var s,f=e[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var d=s.value;if(q(d.action)){var h=!0,v=!1,p=void 0;try{for(var m,y,b=(null!==(m=d.action.diagnostics)&&void 0!==m?m:[])[Symbol.iterator]();!(h=(y=b.next()).done);h=!0){var x=y.value;if((0,k.dI)(x.range,u))return d}}catch(t){v=!0,p=t}finally{try{h||null==b.return||b.return()}finally{if(v)throw p}}}}}catch(t){c=!0,l=t}finally{try{a||null==f.return||f.return()}finally{if(c)throw l}}if(n&&n.includes(g.CodeActionKind.SourceFixAll))return e.find(function(t){return Y(t.action,g.CodeActionKind.SourceFixAll)})}(n.view.state,d,e.only),!c||!h){if(l)return[2];return[2,W(n.view,d)]}return[2,new Promise(function(t){return n.view.dispatch({effects:$.of((0,a._)((0,u._)({},h),{onComplete:t}))})})]}})})()},e.doRequestImmediately=function(t){var e=t.path,n=t.originalRange,i=t.adjustedRange,o=t.triggerKind,u=t.only,a=t.doNotRequestNearbyDiagnostics,c=this;return(0,r._)(function(){var t,l,s,d;function h(t){return t.filter(function(t){return t.isOpen(e)&&(0,O.Z)(t).isCodeActionsSupported})}return(0,f.Jh)(this,function(v){var p,m;switch(v.label){case 0:if(!(t=h(c.clients)).length)return[2,{result:null,cancelled:!1}];return[4,Promise.all(t.map((p=(0,r._)(function(t){var r,a;return(0,f.Jh)(this,function(l){return(r=c.inflightRequestId.get(t.clientId))&&t.notify.cancelRequest(r),a=t.generateId(),c.inflightRequestId.set(t.clientId,a),c.inflightPosition=(0,k.RL)(c.view.state.doc,n.start),[2,t.request.codeActions(e,null!=i?i:n,{id:a},{only:u,triggerKind:o}).then(function(e){return{clientId:t.clientId,requestId:a,response:e}})]})}),function(t){return p.apply(this,arguments)})))];case 1:if((l=v.sent()).every(function(t){return!0===t.response.cancelled}))return[2,{result:null,cancelled:!0}];if(s=l.flatMap(function(t){var e,n=t.clientId,r=t.requestId,i=t.response;return r===c.inflightRequestId.get(n)&&!1===i.cancelled?null===(e=i.result)||void 0===e?void 0:e.map(function(t){return{client:n,action:t}}):null}).filter(Boolean),m=function(t,e){return t.line===e.line?Math.abs(t.character-e.character):1/0},!(d=!(a||o!==g.CodeActionTriggerKind.Invoked||u&&!u.find(function(t){return t===g.CodeActionKind.QuickFix})||s.find(function(t){return Y(t.action,g.CodeActionKind.QuickFix)}))&&h(c.clients).flatMap(function(t){return t.getDiagnostics(e).filter(function(t){var e=t.range,r=e.start,i=e.end;return r.line===n.start.line||r.line===n.end.line||i.line===n.start.line||i.line===n.end.line}).map(function(t){return{diagnostic:t,distance:Math.min(m(t.range.start,n.start),m(t.range.start,n.end),m(t.range.end,n.start),m(t.range.end,n.end))}}).sort(function(t,e){return t.distance-e.distance})}))||0===d.length)return[2,{result:s,cancelled:!1}];return[2,c.doRequestImmediately({path:e,originalRange:n,adjustedRange:d[0].diagnostic.range,triggerKind:o,only:u,doNotRequestNearbyDiagnostics:!0})]}})})()},t}(),K=function(){"use strict";function t(e,n){(0,i._)(this,t),this.fs=n,this.view=e,this.register()}var e=t.prototype;return e.update=function(t){var e=this;return(0,r._)(function(){return(0,f.Jh)(this,function(n){return(0,p.aU)(t,x.Yp)&&e.register(),[2]})})()},e.destroy=function(){var t;null===(t=this.unsubscribe)||void 0===t||t.call(this)},e.register=function(){null===(e=this.unsubscribe)||void 0===e||e.call(this);var t,e,n=this.view.state.facet(x.Yp);if(n&&this.fs){var i=this;this.unsubscribe=this.fs.registerOnBeforeFlush(n,(t=(0,r._)(function(t,e){return(0,f.Jh)(this,function(t){switch(t.label){case 0:if(!i.view.state.facet(tt)||e!==F.WL.MANUAL_SAVE)return[2];return[4,new Promise(function(t){return Q(i.view,{autofix:!0,force:t,silent:!0,only:[g.CodeActionKind.SourceFixAll]})})];case 1:return t.sent(),[2]}})}),function(e,n){return t.apply(this,arguments)}))}},t}(),W=function(t,e,n){var r=function(t){switch(t){case g.CodeActionKind.Refactor:return"Refactor";case g.CodeActionKind.Source:return"Source Action";case g.CodeActionKind.QuickFix:return"Quick Fix";default:return t}},i=e.reduce(function(t,e){var n,r,i;return(r=g.Command.is(e.action)?g.CodeActionKind.Empty:null!==(n=e.action.kind)&&void 0!==n?n:g.CodeActionKind.Empty).startsWith(g.CodeActionKind.Refactor)?r=g.CodeActionKind.Refactor:r.startsWith(g.CodeActionKind.Source)?r=g.CodeActionKind.Source:(r.startsWith(g.CodeActionKind.QuickFix)||r===g.CodeActionKind.Empty)&&(r=g.CodeActionKind.QuickFix),t.set(r,(null!==(i=t.get(r))&&void 0!==i?i:[]).concat(e))},new Map);(0,R.a)(t,{match:P.pl,data:{type:"context",label:"More actions",icon:(0,d.tZ)(A.Z,{})},commands:function(){return Array.from(i.entries()).sort(function(t,e){return e[0]===g.CodeActionKind.QuickFix?1:-1}).map(function(e){var n=(0,l._)(e,2),i=n[0],o=n[1];return{data:{type:"context",label:r(i),icon:(0,d.tZ)(A.Z,{})},commands:function(){return o.sort(function(t,e){return q(t.action)?-1:1}).map(function(e){return{match:P.pl,data:{type:"action",icon:(0,d.tZ)(T.Z,{}),label:e.action.title,run:function(){t.dispatch({effects:$.of(e)})}}}})}}})}},n),t.dispatch({effects:j.of(null)})};function q(t){return!g.Command.is(t)&&!0===t.isPreferred}function Y(t,e){return!g.Command.is(t)&&void 0!==t.kind&&t.kind.startsWith(e)}var Q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.force,r=void 0!==n&&n,i=e.silent,o=(0,c._)(e,["force","silent"]);if(!L(t.state))return r&&"function"==typeof r&&Promise.resolve().then(function(){return r()}),!1;var l=(0,u._)({force:r,silent:void 0!==i&&i},o),s=t.state.field(G),f=t.state.selection.main,d=f.from,h=f.to;if(r)return t.dispatch({effects:[B.of((0,a._)((0,u._)({},l),{force:r})),l.silent?void 0:v.tk.scrollIntoView(d,{yMargin:20})].filter(Boolean)}),!0;if(!s||!("actions"in s)||!s.actions.length||!s.actions.some(function(t){return Y(t.action,g.CodeActionKind.QuickFix)})&&(!l.only||l.only.some(function(t){return t===g.CodeActionKind.QuickFix}))||s.position<d||s.position>h)return Q(t,(0,a._)((0,u._)({},l),{force:!0}));var p=s.actions.filter(function(t){return(!l.autofix||!!q(t.action))&&(!l.only||!!l.only.some(function(e){return Y(t.action,e)}))});if(l.autofix){if(0===p.length)return(0,S.J)(t,{message:"No auto fixes available",offset:t.state.selection.main.head}),!0;if(1===p.length)return t.dispatch({effects:$.of(p[0])}),!0}return p.length?(l.silent||W(t,p),!0):Q(t,(0,a._)((0,u._)({},l),{force:!0}))},X=function(t){return Q(t,{autofix:!0,force:!0,only:[g.CodeActionKind.QuickFix]})};function J(t,e,n){var r=[G,v.lg.define(function(n){return new z(n,t,e)},{provide:function(t){return v.tk.updateListener.of(function(e){var n;return null===(n=e.view.plugin(t))||void 0===n?void 0:n.postUpdate(e)})}})];return n&&r.push(v.lg.define(function(t){return new K(t,e)})),r}var tt=h.r$.define({combine:function(t){return t.some(Boolean)}})},26101:function(t,e,n){n.d(e,{Fq:function(){return z},G0:function(){return G},wB:function(){return K}});var r,i=n(27387),o=n(12285),u=n(42516),a=n(41733),c=n(98924),l=n(96583),s=n(74985),f=n(33083),d=n(9756),h=n(80403),v=n(3030),p=n(43182),m=n(95369),y=n(26949),g=n(15323),b=n(22648),x=n(12674),w=n(73393),E=n(118),S=n(36556),C=n(15235),k=n(64479),D=n(82230),T=n(49224),A=n(72164),_=n(72093),I=n(81199),O=n(30341),R=n(57159),N=n(41974),P=n(57127),M=n(7225),F=n(36101),Z="cm-lintRange-deprecated",L="cm-lintRange-unnecessary",U=(0,T.X)({root:[_.l0.flex.growAndShrink(1),_.l0.display.block],message:[{lineHeight:1},_.l0.mr(4)],button:[_.l0.display.inlineFlex,_.l0.p(4),_.l0.borderRadius(4),{height:"auto"}]});function B(t){var e=(0,I.Z)().fs,n=(0,y.G)(),r=(0,m.nB)({onSession:t.openAiChatSession,getFileContext:n}),o=r.sendMessage,u=r.loading;return(0,s.BX)(k.Tg,{background:"higher",css:U.root,children:[(0,s.tZ)(D.xv,{css:U.message,children:t.message}),(0,s.tZ)(C.zx,{css:U.button,loading:u,size:"small",iconLeft:(0,s.tZ)(A.Z,{}),text:"Debug",onClick:(0,i._)(function(){var n,r,i,u,a;return(0,l.Jh)(this,function(c){switch(c.label){case 0:n=t.filePath,r=-1;try{r=e.getOTVersion(n)}catch(t){}return[4,e.readFile(n)];case 1:return u=(i=c.sent()).error?"":i.content.toString(),a={filePath:n,fileVersion:r,language:t.language,range:t.range,code:u.slice(t.range.indexFrom,t.range.indexTo),fileContent:u,referenceType:R.MD.INLINE},o({message:(0,P.Vh)(t.message,"lsp"),codeReference:a}),[2]}})})})]})}var V=v.tk.theme((r={},(0,u._)(r,".cm-lintRange.".concat(Z),{"& > span":{textDecoration:"line-through"},backgroundImage:"none",textDecoration:"line-through"}),(0,u._)(r,".cm-lintRange.".concat(L),{opacity:.5}),r)),j=function(){"use strict";function t(e){(0,o._)(this,t),this.map=e}var e=t.prototype;return e.update=function(e,n){return this.map.set(e,n),t.from(this)},e.flatten=function(){return Array.from(this.map.values()).flat()},t.from=function(e){return new t(e.map)},t}(),$=h.Py.define(),H=h.Py.define(),G=h.QQ.define({create:function(){return new j(new Map)},update:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,u=e.effects[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value;if(a.is($)&&(t=t.update(a.value.clientId,a.value.diagnostics)),a.is(H))return new j(new Map)}}catch(t){r=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t}});function z(t){var e=t.lspClients,n=t.path;return[V,G,v.lg.define(function(t){var e=function(t){var e=t.target;e instanceof HTMLElement&&e.classList.contains("cm-diagnosticAction")&&t.stopPropagation()};return t.dom.addEventListener("mousedown",e),{destroy:function(){t.dom.removeEventListener("mousedown",e)}}}),v.lg.define(function(t){var r=!1,i=[],o=!0,u=!1,a=void 0;try{for(var c,l=e[Symbol.iterator]();!(o=(c=l.next()).done);o=!0)!function(){var e=c.value;i.push(e.onDiagnostics(function(i){r||i.path!==n||t.dispatch({effects:$.of({clientId:e.clientId,diagnostics:i.diagnostics})})}))}()}catch(t){u=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(u)throw a}}return{destroy:function(){r=!0,i.forEach(function(t){return t()})}}}),v.tk.updateListener.of(function(t){if((0,w.aU)(t,G))try{t.view.dispatch((0,d.p0)(t.state,function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done);r=!0)!function(){var t,r=u.value,i=(0,E.RL)(e.doc,r.range.start),o=(0,E.RL)(e.doc,r.range.end);if(i===o){var a=e.wordAt(o);if(a)i=a.from,o=a.to;else if(o<e.doc.length)o+=1;else{if(!(i>0))return;i-=1}}if(i>=o)return S.kg.error("Misbehaved LSP: diagnostic's range is invalid",{from:i,to:o,di:JSON.stringify(r),language:null===(t=e.facet(f.dK))||void 0===t?void 0:t.name});var c="info";switch(r.severity){case M.DiagnosticSeverity.Error:c="error";break;case M.DiagnosticSeverity.Warning:c="warning";break;case M.DiagnosticSeverity.Hint:case M.DiagnosticSeverity.Information:c="info"}var l=[];r.tags&&(r.tags.includes(M.DiagnosticTag.Unnecessary)&&l.push(L),r.tags.includes(M.DiagnosticTag.Deprecated)&&l.push(Z));var d=e.facet(g.Yp),h=e.facet(g.w4);d&&h&&n.push({from:i,to:o,severity:c,message:r.message,source:r.source,markClass:l.length?l.join(" "):void 0,renderMessage:function(){return(0,x.V)((0,s.tZ)(B,{filePath:d,language:h,message:r.message,range:{lineFrom:e.doc.lineAt(i).number-1,lineTo:e.doc.lineAt(o).number,indexFrom:e.doc.lineAt(i).from,indexTo:e.doc.lineAt(o).to},openAiChatSession:function(t){(0,O.ZM)(e,{pane:{type:"ghostwriterChat",data:{sessionId:t}}})}}))}})}()}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}var c={error:1,warning:2,info:3,hint:4};return n.sort(function(t,e){return c[e.severity]-c[t.severity]})}(t.state.field(G).flatten(),t.state)))}catch(t){p.Tb(t)}}),(0,d.ir)(null,{tooltipFilter:function(t,e){return e.facet(F.j)?[]:Array.from(t)}})]}function K(t,e){return[v.tk.updateListener.of(function(n){if((0,w.aU)(n,"doc",b.N)&&(!e||!(t.length>0))&&(0,d.KS)(n.state)>0){var r,i,o,u,l;n.view.dispatch((i=H.of(null),u=(r=n.state,o=(0,d.p0)(r,[])).effects,l=(0,c._)(o,["effects"]),u=(0,N.Uy)(u,function(t){t||(t=[]),Array.isArray(t)||(t=[t]),t.push(i)}),(0,a._)({effects:u},l)))}})]}},23508:function(t,e,n){n.d(e,{jd:function(){return j},wK:function(){return F},Zc:function(){return L},OM:function(){return Z}});var r=n(27387),i=n(12285),o=n(4955),u=n(66626),a=n(45077),c=n(14105),l=n(9670),s=n(96583),f=n(80403),d=n(3030),h=n(25497),v=n(48495),p=n(15323),m=n(92370),y=n(22648),g=n(42516),b=n(73393),x=n(46026),w=n(72093),E=n(118),S=n(34635),C=n(36101),k="cm-lsp-definition-target-word",D=d.tk.theme((0,g._)({},".".concat(k," span"),{backgroundColor:w.TV.backgroundHigher,color:w.TV.accentPrimaryStrongest,cursor:"pointer",textDecoration:"underline"})),T=d.p.mark({class:k}),A=function(){"use strict";function t(e,n){(0,i._)(this,t),this.range=e,this.requestIds=n}var e=t.prototype;return e.update=function(t){this.range=this.range.map(t)},e.eq=function(t){var e=t.range;return this.range.from<=e.to&&e.from<=this.range.to},e.toResult=function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value;if(!(!a||Array.isArray(a)&&0===a.length)){var c=this.range.from,l=this.range.to;if(Array.isArray(a)&&a.length>0&&"originSelectionRange"in a[0]){var s=a[0].originSelectionRange;s&&(c=(0,E.RL)(t.state.doc,s.start),l=(0,E.RL)(t.state.doc,s.end),c>=l&&(c=this.range.from,l=this.range.to))}if(!(c>=l))return{request:this,decs:d.p.set(T.range(c,l))}}}}catch(t){r=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return{request:this,decs:d.p.none}},t}(),_=f.Py.define(),I=f.QQ.define({create:function(){return null},update:function(t,e){if(e.state.facet(C.j))return null;e.docChanged&&(t=null);var n=!0,r=!1,i=void 0;try{for(var o,u=e.effects[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value;a.is(_)&&(t=a.value)}}catch(t){r=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t},provide:function(t){return d.tk.decorations.from(t,function(t){var e;return null!==(e=null==t?void 0:t.decs)&&void 0!==e?e:d.p.none})}}),O=function(){"use strict";function t(e,n){(0,i._)(this,t),this.view=e,this.lspClients=n,this.destroyed=!1,this.path=e.state.facet(p.Yp)}var e=t.prototype;return e.update=function(t){(0,b.aU)(t,p.Yp)&&(this.path=t.state.facet(p.Yp)),this.inflight&&this.inflight.update(t.changes)},e.destroy=function(){this.destroyed=!0,this.clear()},e.clear=function(){if(!this.destroyed&&this.view.state.field(I,!1)&&this.view.dispatch({effects:_.of(null)}),this.inflight){var t=!0,e=!1,n=void 0;try{for(var r,i=this.lspClients[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value,u=this.inflight.requestIds.get(o.clientId);u&&o.notify.cancelRequest(u)}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}this.inflight=void 0}},e.event=function(t){var e=this;return(0,r._)(function(){var n,r,i,o,u,a,c,l,f,d,h,v,p,m,g,b,x,w,k,D,T,O,R;return(0,s.Jh)(this,function(s){switch(s.label){case 0:if(t.mouse&&(e.mouse=t.mouse),!(null===(n=e.view.state.facet(y.N))||void 0===n?void 0:n.isFindDefinitionSupported)||!t.key||!e.mouse||null===(r=e.view.posAtCoords(e.mouse))||!(i=e.view.state.wordAt(r))||i.from===i.to)return[2,e.clear()];o=new Map,u=!0,a=!1,c=void 0;try{for(l=e.lspClients[Symbol.iterator]();!(u=(f=l.next()).done);u=!0)d=f.value,(0,S.Z)(d).isFindDefinitionSupported&&(h=d.generateId(),o.set(d.clientId,h))}catch(t){a=!0,c=t}finally{try{u||null==l.return||l.return()}finally{if(a)throw c}}if(v=new A(i,o),e.view.state.facet(C.j)||(p=e.view.state.field(I,!1))&&v.eq(p.request)||e.inflight&&v.eq(e.inflight))return[2];if(void 0!==e.inflight){m=!0,g=!1,b=void 0;try{for(x=e.lspClients[Symbol.iterator]();!(m=(w=x.next()).done);m=!0)k=w.value,(D=e.inflight.requestIds.get(k.clientId))&&k.notify.cancelRequest(D)}catch(t){g=!0,b=t}finally{try{m||null==x.return||x.return()}finally{if(g)throw b}}}return e.inflight=v,[4,Promise.all(e.lspClients.map(function(t){var n,r=null===(n=e.inflight)||void 0===n?void 0:n.requestIds.get(t.clientId);if(!r)return null;if(!e.path)throw Error("Expected path");return t.request.findDefinitions(e.path,(0,E.sg)(e.view.state.doc,v.range.from),{id:r}).then(function(e){return{id:r,client:t.clientId,response:e}})}).filter(Boolean))];case 1:if(T=s.sent(),e.destroyed)return[2];return O=T.map(function(t){var n=t.id,r=t.client,i=t.response;return!1===i.cancelled&&e.inflight&&e.inflight.requestIds.get(r)===n?i.result:null}),R=v.toResult(e.view,O),e.inflight=void 0,e.view.dispatch({effects:_.of(R)}),[2]}})})()},t}();function R(t){var e=window.navigator.userAgent.includes("Macintosh");return t.key===(e?"Meta":"Control")}var N=n(86486),P=n(36556),M=n(82587),F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.state.facet(y.N);return!!n&&!!n.isFindDefinitionSupported&&(t.dispatch({effects:[U.of({selection:t.state.selection.main.head,newPane:null!==e&&(0,x.jh)(e)})]}),!0)},Z=function(t){var e=t.state.facet(y.N);return!!e&&!!e.isFindTypeDefinitionSupported&&(t.dispatch({effects:[B.of({selection:t.state.selection.main.head})]}),!0)},L=function(t){var e=t.state.facet(y.N);return!!e&&!!e.isFindImplementationSupported&&(t.dispatch({effects:[V.of({selection:t.state.selection.main.head})]}),!0)},U=f.Py.define(),B=f.Py.define(),V=f.Py.define();function j(t){var e=t.lspClients,n=t.openFile;return n?d.lg.define(function(t){var i,o=function(t,e){return f.apply(this,arguments)},c=new Map,l=!1;function f(){return(f=(0,r._)(function(o,f){var d,y,g,b,x,w,C,k,D,T,A,_,I,O,R=arguments;return(0,s.Jh)(this,function(F){switch(F.label){case 0:if(d=R.length>2&&void 0!==R[2]&&R[2],!(y=t.state.facet(p.Yp)))return[2];g=e.map(function(e){var n,r=c.get(e.clientId);r&&(e.notify.cancelRequest(r),c.delete(e.clientId));var i=(0,S.Z)(e),u=(0,E.sg)(t.state.doc,f);switch(o){case"definition":if(!i.isFindDefinitionSupported)return null;n=e.request.findDefinitions;break;case"type definition":if(!i.isFindTypeDefinitionSupported)return null;n=e.request.findTypeDefinitions;break;case"implementation":if(!i.isFindImplementationSupported)return null;n=e.request.findImplementations}var a=e.generateId();return c.set(e.clientId,a),n(y,u,{id:a,tap:function(e){return(0,m.SC)(t,e)}}).then(function(t){return{id:a,client:e.clientId,response:t}})}),F.label=1;case 1:var Z;return F.trys.push([1,3,,4]),[4,new Promise((Z=(0,r._)(function(t,n){var r;return(0,s.Jh)(this,function(o){return r=new Map(c),i=setTimeout(function(){l&&n();var t=!0,o=!1,u=void 0;try{for(var a,s=e[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var f=a.value,d=f.clientId,h=r.get(d);void 0!==h&&h===c.get(d)&&f.notify.cancelRequest(h)}}catch(t){o=!0,u=t}finally{try{t||null==s.return||s.return()}finally{if(o)throw u}}n(new $),i=null},12e3),[2,Promise.all(g.filter(Boolean)).then(function(e){i&&(clearTimeout(i),i=null),l&&n(),t(e)})]})}),function(t,e){return Z.apply(this,arguments)}))];case 2:if((b=F.sent()).every(function(t){return!0===t.response.cancelled}))return[2];c.clear(),x=!0,w=!1,C=void 0;try{for(k=function(){var r=T.value,i=r.client,o=r.response;if(("error"in o)||o.cancelled)return"continue";var a=(0,M.g)(o.result);if(a&&a.length>0){var c=e.find(function(t){return t.clientId===i});if(!c)throw Error("Cannot find lsp client");var l=(0,u._)(a,1)[0],s=l.uri,f=l.range.start,v=c.documentUriToPath(s),p=f.line+1,m=f.character;if(v===y&&!d)return(0,h.S)({view:t,line:p,col:m}),t.focus(),{v:void 0};if(!n)throw Error("Expected file opener");return n({path:v,line:p,col:m,newPane:d,newPaneEdge:"right"}),{v:void 0}}},D=b[Symbol.iterator]();!(x=(T=D.next()).done);x=!0)if(A=k(),"object"===(0,a._)(A))return[2,A.v]}catch(t){w=!0,C=t}finally{try{x||null==D.return||D.return()}finally{if(w)throw C}}return(0,N.J)(t,{message:"No ".concat(o," found"),offset:f}),[2];case 3:if(_=F.sent(),l)return[2];return _ instanceof $&&(O=null!==(I=(0,v.Z)(t.state))&&void 0!==I?I:"unknown",P.kg.warn("Timed out looking for ".concat(o),{filePath:y,offset:f,language:O}),(0,N.J)(t,{message:"Timed out looking for your ".concat(o,". Try again"),offset:f})),[3,4];case 4:return[2]}})})).apply(this,arguments)}return{goTo:o,update:function(t){var e=!0,n=!1,r=void 0;try{for(var i,u=t.transactions[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){var a=i.value,c=!0,l=!1,s=void 0;try{for(var f,d=a.effects[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h=f.value;if(h.is(U))return o("definition",h.value.selection,h.value.newPane);if(h.is(B))return o("type definition",h.value.selection);if(h.is(V))return o("implementation",h.value.selection)}}catch(t){l=!0,s=t}finally{try{c||null==d.return||d.return()}finally{if(l)throw s}}}}catch(t){n=!0,r=t}finally{try{e||null==u.return||u.return()}finally{if(n)throw r}}},destroy:function(){var t=!0,n=!1,r=void 0;try{for(var o,u=e[Symbol.iterator]();!(t=(o=u.next()).done);t=!0){var a=o.value,s=c.get(a.clientId);s&&a.notify.cancelRequest(s)}}catch(t){n=!0,r=t}finally{try{t||null==u.return||u.return()}finally{if(n)throw r}}null!==i&&clearTimeout(i),l=!0}}},{eventHandlers:{click:function(t,e){var n=e.state.selection.main;if(n.from!==n.to)return!1;if((0,x.jh)(t)){var r=t.clientX,i=t.clientY,o=e.posAtCoords({x:r,y:i});if(null!==o)return this.goTo("definition",o,t.altKey),!1}}},provide:function(){return[D,I,d.lg.define(function(t){return new O(t,e)},{eventHandlers:{click:function(){this.clear()},keyup:function(t){R(t)&&this.clear()},keydown:function(t){if(R(t))this.event({key:!0});else{if("Alt"===t.key)return;this.clear()}},mousemove:function(t,e){if(0!==t.buttons&&!e.state.selection.main.empty)return this.clear();var n=(0,x.jh)(t);this.event({mouse:{x:t.clientX,y:t.clientY},key:n})}}})]}}):[]}var $=function(t){"use strict";(0,o._)(n,t);var e=(0,l._)(n);function n(){return(0,i._)(this,n),e.apply(this,arguments)}return n}((0,c._)(Error))},23821:function(t,e,n){n.d(e,{y:function(){return A},C:function(){return S}});var r=n(41733),i=n(30509),o=n(9756),u=n(80403),a=n(3030),c=n(26101),l=n(12674),s=n(60941),f=n(73393),d=n(118),h=n(74985),v=n(85763),p=n(82230),m=n(94778),y=n(49224),g=n(64318),b=n(72093),x=n(51460),w=n(46367),E=(0,y.X)({header:[b.l0.rowWithGap(4),b.l0.align.center,b.l0.justify.spaceBetween,b.l0.px(8),b.l0.py(4),b.l0.border({direction:"bottom",color:b.TV.outlineDimmest,width:1})],list:[b.l0.flex.grow(1),b.l0.overflowY("auto"),{flexShrink:"unset"}],none:[b.l0.py(4),b.l0.px(8)],root:[b.l0.height("100%"),b.l0.flex.column]}),S=function(t){return t.state.facet(T)?(t.dispatch({effects:C.of(null)}),!0):(0,o.jN)(t)||(0,o.Dx)(t)},C=u.Py.define(),k=new l.J(function(t){var e=t.problems,n=t.onFocus,r=t.onClose,i=t.onKeyDown;return(0,h.tZ)(w.MT,{autoFocus:!0,children:(0,h.BX)(m.G,{css:E.root,onKeyDown:function(t){return i(t.nativeEvent)},children:[(0,h.BX)(m.G,{css:E.header,children:[(0,h.tZ)(m.G,{children:(0,h.tZ)(p.xv,{children:"Code Diagnostics"})}),(0,h.tZ)(v.hU,{alt:"Close",onClick:r,children:(0,h.tZ)(g.Z,{})})]}),(0,h.BX)(m.K.ul,{css:E.list,children:[0===e.length?(0,h.tZ)(p.xv,{css:E.none,children:"No problems detected in this file"}):null,e.map(function(t,e){return(0,h.tZ)(x.Z,{problem:t,onClick:function(){n(t,!1)},onDoubleClick:function(){n(t,!0)},onFocus:function(e){null!==e.relatedTarget&&(e.stopPropagation(),e.preventDefault(),n(t,!1))},onKeyDown:function(e){"Enter"===e.key&&(e.stopPropagation(),e.preventDefault(),n(t,!0))}},e)})]})]})})}),D=u.QQ.define({create:function(){return!1},update:function(t,e){return(0,f.aU)(e,C)?!t:t},provide:function(t){var e=function(e){var n,o,u=k.create({problems:null!==(o=null===(n=e.state.field(c.G0,!1))||void 0===n?void 0:n.flatten())&&void 0!==o?o:[],onFocus:function(t,n){e.dispatch({selection:{anchor:(0,d.RL)(e.state.doc,t.range.start),head:(0,d.RL)(e.state.doc,t.range.end)},scrollIntoView:!0}),n&&e.focus()},onClose:function(){S(e),e.focus()},onKeyDown:function(t){(0,a.$1)(e,t,"problems-panel")&&t.preventDefault()}});return{dom:u,update:function(e){if(!e.state.field(t)||(0,f.aU)(e,c.G0)){var n,o,a=null!==(o=null===(n=e.state.field(c.G0,!1))||void 0===n?void 0:n.flatten())&&void 0!==o?o:[];k.update(u,function(t){return(0,i._)((0,r._)({},t),{problems:a})})}}}};return[a.mH.from(t,function(t){return t?e:null}),a.$f.of([{key:"Escape",scope:"editor problems-panel",run:function(e){return!!e.state.field(t)&&S(e)}}])]}}),T=u.r$.define({combine:function(t){var e;return null!==(e=t.some(Boolean))&&void 0!==e&&e}}),A=new s.j(function(t){return[T.of(t),D]})},10874:function(t,e,n){n.d(e,{Z:function(){return u},h:function(){return o}});var r=n(80403),i=n(22648),o=r.Py.define(),u=function(t){var e=t.state.facet(i.N);if(!e)return!1;var n=e.isFindDefinitionSupported,r=e.isFindReferencesSupported;return(!!n||!!r)&&(t.dispatch({effects:[o.of(t.state.selection.main.head)]}),!0)}},86486:function(t,e,n){n.d(e,{F:function(){return f},J:function(){return c}});var r=n(41733),i=n(30509),o=n(80403),u=n(3030),a=n(65377),c=function(t,e){var n=setTimeout(function(){t.dispatch({effects:s.of(null)})},3e3);t.dispatch({effects:l.of((0,i._)((0,r._)({},e),{timeoutId:n}))})},l=o.Py.define(),s=o.Py.define();function f(){var t=o.QQ.define({create:function(){return null},update:function(t,e){var n=!0,r=!1,i=void 0;try{for(var u,a=e.effects[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var c=u.value;c.is(l)&&(t=c.value),c.is(s)&&(clearTimeout(null==t?void 0:t.timeoutId),t=c.value)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e.docChanged&&!e.annotation(o.YW.remote)&&(t=null),t},provide:function(t){return[u.hJ.compute([t],function(e){var n=e.field(t);return n?{pos:n.offset,above:!0,arrow:!0,create:function(){var t=document.createElement("div");return t.style.color=a.TV.foregroundDimmest,t.style.padding="4px",t.textContent=n.message,{dom:t}}}:null})]}}),e={current:null},n=u.tk.domEventHandlers({mousemove:function(n,r){if(r.state.field(t,!1)){e.current||(e.current={x:n.clientX,y:n.clientY});var i=Math.abs(n.clientX-e.current.x),o=Math.abs(n.clientY-e.current.y);(i>40||o>40)&&r.dispatch({effects:s.of(null)})}else e.current=null},mousedown:function(e,n){n.state.field(t,!1)&&n.dispatch({effects:s.of(null)})},keydown:function(e,n){n.state.field(t,!1)&&n.dispatch({effects:s.of(null)})}});return[o.Wl.highest(n),t]}},49995:function(t,e,n){n.d(e,{c:function(){return u},h:function(){return o}});var r=n(80403),i=n(60941),o=r.r$.define({combine:function(t){return t.some(function(t){return t})}}),u=new i.j(function(t){return o.of(t)})},36480:function(t,e,n){n.d(e,{JC:function(){return m},Yf:function(){return p},c9:function(){return y},p0:function(){return function t(e,n,r,i,o,u,a){if(!y(e,r,i))return e;var c=null,l=null,s=null;if(r!==i&&a.length>0){var b=a.length<=i-r?a:a.slice(0,i-r),x=r+b.length;c={from:r,to:x,text:b}}if(r===i||c&&c.to===i||(l={from:c?c.to:r,to:i}),a.length>0&&a.length>i-r){var w=c?a.slice(i-r):a;s={pos:i,text:w}}if(n){var E=e.value instanceof p?e.value.fulfilledRange(e.from):e;if(l&&l.from<E.from&&l.to>=E.from)return null}if(e.value instanceof p){var S=e.from,C=e.value;if(l&&l.from<S&&l.to>S)return null;if(C.fulfilled.length>0){var k=C.fulfilledRange(S);if(s&&s.pos>k.from&&s.pos<k.to)return null;if(l&&l.from<k.to&&l.to>k.from)return l.to>=k.to&&l.from>k.from?t(p.range(l.from,C.text,C.offset-(k.to-l.from)),n,r,l.from,o,u,a):null;if(c&&c.from<k.to&&c.to>k.from&&(!(c.from>=k.from)||!(c.to<=k.to)||!C.fulfilled.slice(c.from-k.from,c.to-k.from).eq(c.text)))return null}if(C.isFulfilled||!s||s.pos!==S)return e;if(s.text.length<=C.unfulfilled.length){if(s.text.eq(C.unfulfilled.slice(0,s.text.length)))return p.range(u,C.text,C.offset+s.text.length);if(C.unfulfilled.lines>=2&&g.test(s.text.toString())&&"\n"===C.unfulfilled.sliceString(C.unfulfilled.length-1,C.unfulfilled.length)){var D=s.text.length-1;if(C.unfulfilled.slice(0,D).eq(s.text.slice(0,D)))return[p.range(u-1,C.text.slice(0,C.text.length-1),C.offset+D),p.range(u,C.text.slice(C.text.length-1),1)]}if(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t.length<2||e<0||e>=t.length-1)return!1;var n=t.sliceString(e,e+2);if(2!==n.length)return!1;var r=n.charAt(0),i=n.charAt(1);return f(r)&&d(i)&&h(r,i)}(s.text,s.text.length-2)&&s.text.slice(0,s.text.length-1).eq(C.unfulfilled.slice(0,s.text.length-1))){var T=function(t,e){var n=t.sliceString(e,e+1);if(!f(n))return null;if(v(n))return function(t,e,n){var r=!1,i=!0,o=!1,u=void 0;try{for(var a,c=t.iterRange(e)[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=a.value;if(0===l.length){e++;continue}for(var s=0;s<l.length;s++){if(l.charAt(s)===n&&!r)return e+s;r="\\"===l.charAt(s)&&!r}e+=l.length}}catch(t){o=!0,u=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}return null}(t,e+1,n);var r=[n],i=null,o=!1,u=e+1,a=!0,c=!1,l=void 0;try{for(var s,p=t.iterRange(u)[Symbol.iterator]();!(a=(s=p.next()).done);a=!0){var m=s.value;if(0===m.length){u++;continue}for(var y=0;y<m.length;y++){var g=m.charAt(y);if(null!==i){g!==i||o?o="\\"===g&&!o:i=null;continue}if(f(g))v(g)?i=g:r.push(g);else if(d(g)&&h(n,g)){var b=r.lastIndexOf(n);-1!==b&&r.splice(b,r.length-b)}if(0===r.length)return u+y}u+=m.length}}catch(t){c=!0,l=t}finally{try{a||null==p.return||p.return()}finally{if(c)throw l}}return null}(C.text,C.offset+s.text.length-2);if(T)return[p.range(u-1,C.text.slice(0,T),C.offset+s.text.length-1),p.range(u,C.text.slice(T),1)]}}return null}if(e.value instanceof m){if(s&&s.pos>e.from&&s.pos<e.to||c&&c.from<e.to&&c.to>e.from)return null;if(!l||l.to<=e.from||l.from>=e.to||e.value.isFulfilled)return e;var A={from:Math.max(l.from,e.from),to:Math.min(l.to,e.to)},_=A.from-e.from,I=e.to-A.to;return m.range(o-_,o+I)}throw Error("Invalid range value")}}});var r=n(12285),i=n(4955),o=n(9670),u=n(80403),a={open:"(",close:")"},c={open:"[",close:"]"},l={open:"{",close:"}"},s={open:"<",close:">"};function f(t){return t===a.open||t===c.open||t===l.open||t===s.open||'"'===t||"'"===t||"`"===t}function d(t){return t===a.close||t===c.close||t===l.close||t===s.close||'"'===t||"'"===t||"`"===t}function h(t,e){return t===a.open&&e===a.close||t===c.open&&e===c.close||t===l.open&&e===l.close||t===s.open&&e===s.close||'"'===t&&'"'===e||"'"===t&&"'"===e||"`"===t&&"`"===e}function v(t){return'"'===t||"'"===t||"`"===t}var p=function(t){"use strict";(0,i._)(n,t);var e=(0,o._)(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,r._)(this,n),(i=e.call(this)).point=!0,i.mapMode=u.gc.Simple,i.text=t,i.offset=o,i.unfulfilled=t.slice(o),i.fulfilled=t.slice(0,o),i.isFulfilled=0===i.unfulfilled.length,i}var a=n.prototype;return a.eq=function(t){return t instanceof n&&this.text.eq(t.text)&&this.offset===t.offset},a.fulfilledRange=function(t){return{from:t-this.offset,to:t}},n.range=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new n(e,r).range(t)},n}(u.uU),m=function(t){"use strict";(0,i._)(n,t);var e=(0,o._)(n);function n(t){var i;return(0,r._)(this,n),(i=e.call(this)).mapMode=u.gc.Simple,i.startSide=-1,i.endSide=-1,i.isFulfilled=t,t&&(i.point=!0),i}return n.prototype.eq=function(t){return t instanceof n&&this.isFulfilled===t.isFulfilled},n.range=function(t,e){return new n(t===e).range(t,e)},n}(u.uU);function y(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if(t.value instanceof p){var r=t.value.fulfilledRange(t.from);return r.from<=n&&r.to>=e}if(t.value instanceof m)return t.from<=n&&t.to>=e;throw Error("Invalid range value")}var g=/^\n[^\S\r\n]*\n$/},62942:function(t,e,n){n.d(e,{uF:function(){return tq},ZP:function(){return tJ},Xl:function(){return tX}});var r,i=n(41733),o=n(98924),u=n(66626),a=n(63257),c=n(74985),l=n(80403),s=n(3030),f=n(43182),d=n(63993),h=n(51561),v=n(24226),p=n(74509),m=n(92370),y=n(49995),g=n(7351),b=n(12285),x=n(44610),w=n(93496),E=n(74983),S=n(75334),C=n(35509),k=n(99609),D=n(87122),T=n(78377),A=n(77252),_=n(82347),I=n(8252),O=function(){"use strict";function t(e){(0,b._)(this,t),this.component=e,this.icon=null}return t.prototype.render=function(){if(this.icon)return this.icon.cloneNode(!0);var t="";if(this.component){var e,n,r,i=null===(r=this.component({}).props)||void 0===r?void 0:null===(n=r.children)||void 0===n?void 0:null===(e=n.props)||void 0===e?void 0:e.d;"string"==typeof i&&(t=i)}var o=document.createElement("span");o.className="cm-autocomplete-replit-icon",o.setAttribute("aria-hidden","true");var u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttribute("preserveAspectRatio","xMidYMin"),u.setAttribute("width","12"),u.setAttribute("height","12"),u.setAttribute("fill","currentColor"),u.setAttribute("viewBox","0 0 24 24");var a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("fillRule","evenodd"),a.setAttribute("clipRule","evenodd"),a.setAttribute("d",t),u.appendChild(a),o.appendChild(u),this.icon=o,this.icon.cloneNode(!0)},t}(),R=(0,I._C)({keyword:new O(k.Z),constant:new O(E.Z),class:new O(w.Z),interface:new O(x.Z),function:new O(C.Z),method:new O(C.Z),variable:new O(_.Z),file:new O(S.Z),field:new O(S.Z),property:new O(T.Z),type:new O(A.Z),namespace:new O(D.Z)}),N=new O(null),P={render:function(t){var e;return(t.type&&null!==(e=R.get(t.type))&&void 0!==e?e:N).render()},position:20},M=n(60941),F=new M.j(function(t){if(t)return(0,g.ys)({defaultKeymap:!1,icons:!1,addToOptions:[P]})}),Z=n(42516),L=n(33083),U=n(5786),B=n(86486),V=s.tk.contentAttributes.of({"data-gramm":"false","data-gramm_editor":"false","data-enabled-grammarly":"false"}),j=n(73393),$=new j.Rh(function(t){return s.tk.clickAddsSelectionRange.of(function(e){if(e.altKey)return!0;if(window.navigator.userAgent.includes("Macintosh")&&e.ctrlKey){var n=e.clientX,r=e.clientY,i=t.posAtCoords({x:n,y:r});return null!==i&&t.state.selection.ranges.some(function(t){return i>=t.from&&i<=t.to})}return!1})}),H=n(24531),G=n(77605),z=s.tk.theme({".cm-cursorLayer":{display:"none"},"&:not(.cm-focused)":(r={"& .cm-activeLineGutter":{backgroundColor:"unset",color:"unset"}},(0,Z._)(r,"& .".concat(G.ll),{display:"none"}),(0,Z._)(r,"& .cm-selectionLayer",{display:"none"}),r)}),K=new M.j(function(t,e,n){if(t){var r=[l.yy.readOnly.of(!0),z,(0,U.sW)(),(0,s.Uw)(),G.Kh];return n&&r.push(H.bK),r}var i=[(0,s.Uw)(),G.Kh,(0,s.qr)(),l.yy.allowMultipleSelections.of(!0),$,(0,U.sW)(),(0,s.Zs)({eventFilter:function(t){return t.altKey&&t.shiftKey}}),(0,L.n$)(),(0,g.vQ)(),(0,B.F)(),(0,U.yC)({top:!0}),V];return e||i.push((0,s.AE)()),n&&i.push(H.bK),i}),W=n(61892),q=n(53557),Y=new M.j(function(t,e,n,r){if(!n){var i=null!=e?e:t,o=i?q.$R.from(i):null;if(null==o?void 0:o.getFeature("emmet"))return l.Wl.highest((0,W.MU)({preview:r?{html:function(){return r},css:function(){return r}}:void 0}))}}),Q=n(15323),X=new M.j(function(t,e){var n=null!=e?e:t;if(!n)return[Q.Yp.of(void 0),Q.w4.of(void 0),Q.Q$.of(void 0)];var r=q.$R.from(n),i=null==r?void 0:r.codeMirrorLanguage;return i?i.support?[Q.Yp.of(t||void 0),Q.w4.of(null==r?void 0:r.name),Q.Q$.of(i.support),i.support]:[Q.Yp.of(t||void 0),Q.w4.of(null==r?void 0:r.name),new j.LP(i.load().then(function(t){return[Q.Q$.of(t),t]}),{initialValue:Q.Q$.of(void 0)})]:[Q.Yp.of(t||void 0),Q.w4.of(null==r?void 0:r.name),Q.Q$.of(void 0)]}),J=n(19068),tt=n(72093),te='url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="14"><path d="M2 2L12 12L22 2" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg>\')',tn=[s.tk.theme({".cm-gutter-fold-marker":{display:"inline-block",verticalAlign:"middle",width:"1.25ch",height:"1.25ch",marginLeft:"0.5ch",userSelect:"none",backgroundColor:"currentColor",maskImage:te,maskSize:"contain",maskPosition:"center",maskRepeat:"no-repeat","-webkit-mask-image":te,"-webkit-mask-size":"contain","-webkit-mask-position":"center","-webkit-mask-repeat":"no-repeat","&.is-folded":{opacity:1,transform:"rotate(-90deg)"}},".cm-foldGutter .cm-gutterElement":{cursor:"pointer"},"@media (pointer: fine) and (prefers-reduced-motion: no-preference)":{".cm-gutter-fold-marker":{opacity:0,transitionProperty:"opacity",transitionDuration:tt.TV.transitionDurationSnappy,transitionTimingFunction:tt.TV.transitionTimingFunctionSnappy}},".cm-gutters:hover .cm-gutter-fold-marker":{opacity:1},".cm-gutter-fold-placeholder":{cursor:"pointer",display:"inline-block",backgroundColor:J.vb.interactiveBorder,color:tt.TV.foregroundDimmer,borderRadius:"4px",padding:"0 4px",margin:"0 2px",fontSize:tt.TV.fontSizeSmall,transitionProperty:"background-color, color",transitionDuration:tt.TV.transitionDurationSnappy,transitionTimingFunction:tt.TV.transitionTimingFunctionSnappy,userSelect:"none","&:hover":{backgroundColor:J.vb.interactiveBorderHover,color:tt.TV.foregroundDefault}}}),(0,L.Hl)({preparePlaceholder:function(t,e){var n=e.from,r=e.to;return t.doc.slice(n,r)},placeholderDOM:function(t,e,n){var r=document.createElement("div");return r.className="cm-gutter-fold-placeholder",r.setAttribute("title","Reveal block"),r.addEventListener("click",e),n.lines>1?r.textContent="".concat(n.lines," hidden lines"):r.textContent=n.length>1?"".concat(n.length," hidden characters"):"1 hidden character",r}}),(0,L.mi)({markerDOM:function(t){var e=document.createElement("div");return t?(e.className="cm-gutter-fold-marker",e.setAttribute("title","Fold block")):(e.className="cm-gutter-fold-marker is-folded",e.setAttribute("title","Unfold block")),e}})],tr=n(67346),ti=new M.j(function(t){return t?null:[tr.de,tn,(0,s.HQ)()]}),to=n(52130),tu=new M.j(function(t,e){return t||e?null:(0,to.m8)({newGroupDelay:100})}),ta=n(67919),tc=n(22238),tl=l.xv.of(["",""]);function ts(t,e){return Math.floor(t/e)*e}var tf=l.yy.transactionFilter.of(function(t){if(!t.isUserEvent("input.paste")||!t.docChanged)return t;var e,n,r=t.startState,i=t.startState.selection.main;if(r.selection.ranges.length>1)return t;var o=r.doc.lineAt(i.from),u=o.text.length-o.text.trimStart().length,a=i.from>=o.from&&i.from<=o.from+u,c=(e=t.changes,n=l.xv.empty,e.iterChanges(function(t,e,r,i,o){n=n===l.xv.empty?o:n.append(tl.append(o))}),n);if(0===c.length||1===c.lines&&!a)return t;var s=null,f=(0,L.K0)(r,i.head);if(a&&o.length===u){var d=(0,tc.L)(o.text,r.tabSize);(null===f||d>=f)&&(s=d)}if(null===s&&null!==f&&(s=f),null===s)return t;var h=i.from,v=i.to;a&&(h=o.from,v=Math.max(v,o.from+u));var p=function(t,e,n){for(var r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],i=function(t,e){var n=t.tabSize;if(1===e.lines||2===e.lines&&0===e.line(2).text.trim().length)return ts((0,tc.L)(e.line(1).text,n),n);var r=(0,tc.L)(e.line(1).text,n),i=(0,tc.L)(e.line(2).text,n);if(i%n==0&&i>=2*n&&i>=r&&i-r<=n)return ts(r,n);var o=null,u=!0,a=!1,c=void 0;try{for(var s,f=e.iterLines(2)[Symbol.iterator]();!(u=(s=f.next()).done);u=!0){var d=s.value;if(0!==d.length&&0!==d.trimStart().length){var h=(0,tc.L)(d,n);(null===o||h<o)&&(o=h)}}}catch(t){a=!0,c=t}finally{try{u||null==f.return||f.return()}finally{if(a)throw c}}if(null!==o){for(var v=null,p=e.lines;p>2;p--){var m=e.line(p).text;if(0!==m.length&&0!==m.trimStart().length){var y=(0,tc.L)(m,n);if(null===v){if(y!==o)break;v=y;continue}y===v&&(v=null);break}}if(null!==v)return ts(v,n)}if(i>r){var g=t.facet(L.dK);if(null!==g){var b=e.line(1).text.trimStart(),x=new L.Gn(l.yy.create({doc:b,extensions:[g,L.c.of(t.facet(L.c)),l.yy.tabSize.of(n)]}),{simulateBreak:b.length});if((0,L.qj)(x.state,b.length)){var w=(0,L.K0)(x,b.length);if(null!==w&&w>0)return ts(Math.max(0,i-n),n)}}}return null!==o?ts(o,n):ts(i,n)}(t,e),o=[],u=1;u<=e.lines;u++){var a=e.line(u).text;if(1===u&&!r){o.push(a);continue}var c=a.trimStart();if(0===a.length||0===c.length){o.push("");continue}var s=Math.max(0,(0,tc.L)(a,t.tabSize)-i),f=(0,L.SS)(t,n+s)+c;o.push(f)}return l.xv.of(o)}(r,c,s,a),m=t.changes.invert(r.doc).compose(r.changes({from:h,to:v,insert:p}));return[t,{changes:m,selection:l.jT.cursor(h+p.length),sequential:!0}]}),td=n(99047),th=n(9558),tv=new M.j(function(t,e,n,r,i){var o=[(0,L.nY)(),td.$N.of({type:e?th.Q.SPACES:th.Q.TABS,size:t,detect:r})];return n||o.push((0,ta.C)({highlightActiveBlock:!0,hideFirstIndent:!1,markerType:"fullScope",thickness:1,colors:{light:tt.TV.backgroundHigher,activeLight:tt.TV.backgroundHighest,dark:tt.TV.backgroundHigher,activeDark:tt.TV.backgroundHighest}})),i&&o.push(tf),o}),tp=n(27387),tm=n(96583),ty=n(43690),tg=s.$f.of([{key:"Escape",run:function(t){var e=t.state.selection;return!(e.ranges.length<=1)&&(t.dispatch({selection:e.asSingle()}),!1)}},{key:"Mod-Enter",run:function(t){return setTimeout(function(){t.focus()}),!1}}]),tb=new j.LP((0,tp._)(function(){var t;return(0,tm.Jh)(this,function(e){switch(e.label){case 0:return[4,(0,ty.Z)(function(){return n.e(9316).then(n.bind(n,4302))})];case 1:return t=e.sent(),[2,l.Wl.highest(t.vim())]}})})),tx=new j.LP((0,tp._)(function(){var t;return(0,tm.Jh)(this,function(e){switch(e.label){case 0:return[4,(0,ty.Z)(function(){return n.e(6425).then(n.bind(n,26425))})];case 1:return t=e.sent().emacs,[2,l.Wl.highest(t())]}})})),tw=new M.j(function(t,e,n){if(t)return null;var r=[tg,(0,v.HM)(n)];return"vim"===e?r.push(tb):"emacs"===e&&r.push(tx),r}),tE=n(48453),tS=n.n(tE),tC=n(16783),tk=n.n(tC)()(function(t){var e=tS()(t).alpha(.5).hex();return s.tk.theme({".cm-activeLineGutter":{backgroundColor:e,color:tt.TV.foregroundDefault}})}),tD=n(22488),tT=tt.TV.backgroundDefault,tA=tt.TV.foregroundDefault,t_=s.tk.theme({"&":{color:tA,"&.cm-focused":{outline:"0 none"}},".cm-editor":{backgroundColor:tT},".cm-content":{fontFamily:tt.TV.fontFamilyCode},".cm-line":{position:"relative",lineHeight:tt.TV.lineHeightSmall},".cm-scroller":{overflow:"auto",fontFamily:tt.TV.fontFamilyCode},".cm-gutters":{backgroundColor:tt.TV.backgroundDefault,color:tt.TV.foregroundDimmest,border:"none",minWidth:"fit-content",display:"flex",justifyContent:"flex-end","-webkit-user-select":"none","user-select":"none"},".cm-selectionBackground":{background:tt.TV.accentPrimaryDimmest+" !important",minWidth:"0.325ch"},".cm-selected":{background:tt.TV.accentPrimaryDimmest+" !important"},"&.cm-focused .cm-selectionBackgroundFocused":{background:tt.TV.accentPrimaryDimmest},".cm-cursor, .cm-dropCursor":{borderLeftColor:tt.TV.accentPrimaryDefault,borderLeftWidth:"2px",borderRadius:"2px"},".cm-cursorFocused":{borderLeftColor:tt.TV.accentPrimaryDefault},".cm-specialChar":{color:tt.TV.accentNegativeDefault},".cm-placeholder":{color:tt.TV.foregroundDimmer,display:"inline-block"},".cm-textfield":{border:"1px solid "+tt.TV.outlineDimmest,borderRadius:tt.TV.borderRadius4,backgroundColor:tT},".cm-foldPlaceholder":{padding:"0 ".concat(tt.TV.space4),borderRadius:tt.TV.borderRadius4,backgroundColor:tt.TV.backgroundRoot,border:"none",color:tt.TV.foregroundDimmer},".cm-selectionMatch":{backgroundColor:tt.TV.outlineDimmest},".cm-panels":{backgroundColor:tt.TV.backgroundOverlay,fontSize:tt.TV.fontSizeSubheadDefault,color:tA},".cm-panels-bottom":{borderTop:"1px solid "+tt.TV.backgroundHigher,maxHeight:"30%"},".cm-vim-panel input":{color:tt.TV.foregroundDefault},".cm-search":{padding:"".concat(tt.TV.space8," ").concat(tt.TV.space8," ").concat(tt.TV.space4," !important")},".cm-search .cm-textfield":{margin:"".concat(tt.TV.space2," ").concat(tt.TV.space8," ").concat(tt.TV.space2," 0 !important")},".cm-search input":{margin:"0 ".concat(tt.TV.space4," 0 0"),cursor:"pointer"},".cm-search button":{color:tt.TV.foregroundDefault,cursor:"pointer"},".cm-search .cm-button":{backgroundImage:"none",backgroundColor:tt.TV.backgroundHigher,margin:"".concat(tt.TV.space2," ").concat(tt.TV.space8," ").concat(tt.TV.space2," 0 !important")},".cm-searchMatch":{backgroundColor:tt.TV.accentPrimaryDimmest},".cm-searchMatch-selected":{backgroundColor:tt.TV.accentPrimaryDefault},".cm-matchingBracket, .cm-nonmatchingBracket":{color:"inherit"},".replit-tooltip":{backgroundColor:tt.TV.backgroundHigher,color:tt.TV.foregroundDefault,boxShadow:tt.TV.shadow1,border:"1px solid "+tt.TV.outlineDimmest,borderRadius:tt.TV.borderRadius4,padding:tt.TV.space4},".emmet-preview":{backgroundColor:tt.TV.backgroundDefault,color:tt.TV.foregroundDefault,boxShadow:tt.TV.shadow1,border:"1px solid "+tt.TV.outlineDimmest,borderRadius:tt.TV.borderRadius4,padding:tt.TV.space4},".emmet-preview .cm-line":{backgroundColor:tt.TV.backgroundDefault+" !important"},".emmet-preview .cm-line::selection":{backgroundColor:tt.TV.backgroundDefault+" !important"},".emmet-preview .cm-content":{padding:"0 !important"},".emmet-preview .cm-scroller":{zIndex:1},".cm-completionInfo":{backgroundColor:tt.TV.backgroundHigher,boxShadow:tt.TV.shadow1,borderRadius:tt.TV.borderRadius8,padding:"0 !important",borderColor:"transparent",zIndex:-1,maxHeight:(0,tD.isMobile)()?"min(300px, 70vh)":"70vh",maxWidth:(0,tD.isMobile)()?"min(470px, 80vw) !important":"min(300px, 30vw) !important",width:"100%",overflow:"auto",top:"0 !important"},".cm-completionInfo .rendered-markdown p":{fontSize:tt.TV.fontSizeDefault},".cm-completionInfo-right":(0,i._)({},(0,tD.isMobile)()?{left:"0% !important"}:null),".cm-completionInfo-left":(0,i._)({},(0,tD.isMobile)()?{right:"0% !important"}:null),".cm-tooltip":{width:"max-content",maxWidth:"100%",boxShadow:tt.TV.shadow1,borderRadius:tt.TV.borderRadius4,border:"1px solid "+tt.TV.outlineDimmest,overflow:"hidden"},".cm-tooltip.cm-tooltip-hover":{animation:"showTooltip 0s ease-in 0.15s",animationFillMode:"forwards",visibility:"hidden"},".cm-tooltip.cm-tooltip-hover .rendered-markdown p":{fontSize:tt.TV.fontSizeDefault},"@keyframes showTooltip":{to:{visibility:"visible"}},".cm-tooltip.multiplayer-tooltip, .cm-contextual-ai-tooltip":{backgroundColor:"transparent",boxShadow:"none",border:"0 none",padding:"0px"},".cm-tooltip-lint":{backgroundColor:tt.TV.backgroundHigher},".cm-tooltip-autocomplete":{minWidth:"260px",maxWidth:"min(430px, 95vw)","& > ul":{backgroundColor:tt.TV.backgroundHigher,borderRadius:"calc(".concat(tt.TV.borderRadius4," - 1px)"),boxShadow:tt.TV.shadowDefault},"& > ul > li:hover":{backgroundColor:tt.TV.accentPrimaryDimmest},"& > ul > li[aria-selected]":{backgroundColor:tt.TV.accentPrimaryDimmer,color:tt.TV.white}},".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:tt.TV.fontFamilyCode},"& > ul > li":{display:"flex",flexDirection:"row",alignItems:"baseline",paddingTop:tt.TV.space4,paddingBottom:tt.TV.space4},"& > ul > li > *":{marginRight:tt.TV.space4},"& > ul > li > *:last-child":{marginRight:0}},".cm-autocomplete-replit-icon":{display:"inline-block",paddingInline:tt.TV.space4,"& > svg":{verticalAlign:"middle"}},"@keyframes fadeOut":{"0%":{opacity:1},"100%":{opacity:0}},".cm-tooltip-autocomplete .cm-completionMatchedText":{color:tt.TV.accentPrimaryStronger,textDecoration:"unset"},".cm-panel":{height:"100%"},".cm-panel.cm-gotoLine, .cm-panel.cm-panel-lint":{backgroundColor:tt.TV.backgroundDefault,color:tt.TV.foregroundDimmer,fontSize:tt.TV.fontSizeDefault,"& button":{backgroundImage:"none",backgroundColor:J.vb.interactiveBackground,borderRadius:tt.TV.borderRadius4,borderWidth:0,color:tt.TV.foregroundDefault,cursor:"pointer",textTransform:"capitalize",transition:"box-shadow 120ms ease-out",fontSize:tt.TV.fontSizeSmall},"& button:hover":{backgroundColor:J.vb.interactiveBackgroundActive},"& button:focus":{boxShadow:"0 0 0 2px "+tt.TV.accentPrimaryDefault,outline:"2px solid transparent",outlineOffset:"4px"}},".cm-panel.cm-gotoLine":{display:"flex",flexDirection:"row",padding:"6px","& label":{alignItems:"baseline",display:"flex",flexDirection:"row",fontSize:tt.TV.fontSizeSmall},"& .cm-textfield":{borderRadius:tt.TV.borderRadius4,fontSize:tt.TV.fontSizeSmall,marginLeft:"4px",marginRight:"4px",transition:"box-shadow 120ms ease-out"},"& .cm-textfield:focus-visible":{borderColor:"transparent",boxShadow:"0 0 0 2px "+tt.TV.accentPrimaryDefault,outline:"2px solid transparent",outlineOffset:"4px"}},".cm-panel.cm-panel-lint":{"& ul":{maxHeight:"15vh"},"& ul li, & ul:focus li":{cursor:"pointer","& .cm-diagnosticAction":{visibility:"hidden"},"&[aria-selected] .cm-diagnosticAction, &:hover .cm-diagnosticAction":{visibility:"visible"},"&[aria-selected]":{backgroundColor:tt.TV.backgroundHigher},"&:not([aria-selected]):hover":{backgroundColor:J.vb.interactiveBackground}},'& button[name="close"]':{display:"flex",alignItems:"center",justifyContent:"center",height:"24px",width:"24px",fontSize:"24px",right:"4px",top:"4px",background:"none",color:tt.TV.foregroundDimmer,"&:hover":{backgroundColor:J.vb.interactiveBackgroundActive}}}}),tI=n(13754),tO=n(9738),tR=new M.j(function(t,e,n){var r=[t_,(0,tI.Z)(n),tk(t.global.backgroundHigher),(0,tO.Z)(t.editor.syntaxHighlighting)];return e&&r.push(s.tk.darkTheme.of(!0)),r}),tN=new M.j(function(t){return t?s.tk.lineWrapping:void 0}),tP=n(6922),tM=n(36752),tF=n(17198),tZ=n(59786),tL=n(54401),tU=n(85733),tB=n(36647),tV=n(38172),tj=n(38753),t$=n(55460),tH=n(7954),tG=n(85421),tz=n(50959),tK=n(24342),tW=n(49500);function tq(){}var tY=new M.j(function(t){return null!=t?t:[]});function tQ(t){tW.error("codemirror error, see below"),tW.error(t),(0,tH.O)(t,{tags:{origin:"CodeMirror: defaultOnException",codemirror:!0}})}function tX(t){var e,n=t.filePath,r=t.language,i=t.hideGutter,o=t.fontSize,u=t.indentSize,c=t.indentIsSpaces,s=t.indentDetection,f=t.indentFormatPastes,h=t.hideIndentMarker,g=t.noHistory,b=t.readOnly,x=t.lineWrapping,w=t.autocomplete,E=t.extensions,S=t.customThemeValues,C=t.initializing,k=t.loading,D=t.keyboardHandler,T=t.hideTooltips,A=(0,tF.Gn)("fontSize","codeIntelligence","indentSize","indentIsSpaces","indentDetection","indentFormatPastes","keyboardHandler","wrapping").preferences,_=(0,tG.useRouter)(),I=(0,tL.d)(),O=(0,tj.Gv)(_),R=(0,tj.T3)();I&&(D=null);var N=(0,tZ.P5)({controlName:"flag-editor-root-level-tooltips",logFlagToAnalytics:!1}),P=(e=(e=null==E?[]:Array.isArray(E)?E:[E]).filter(function(t){return!Array.isArray(t)||t.length>0}),(0,tz.useMemo)(function(){return e},e)),M=(0,t$.F)(),Z=M.values,L=M.isDarkColorScheme,U=(0,tz.useMemo)(function(){return S?(0,tK.Z)(S):Z},[S,Z]),B=tR.use(U,L,null!=o?o:A.fontSize),V=[K.use(b,O,N),tY.use(P),Y.use(n,r,O||!A.codeIntelligence,B),X.use(n,r),ti.use(i),tu.use(b,g),tv.use(null!=u?u:A.indentSize,null!=c?c:A.indentIsSpaces,null!=h&&h,null!=s?s:A.indentDetection,null!=f?f:A.indentFormatPastes),tw.use(b,void 0!==D?D:A.keyboardHandler,n),B,tN.use(null!=x?x:A.wrapping),F.use(!b&&(null!=w?w:A.codeIntelligence&&!O)),p.p.use(C),m.Rn.use(k),y.c.use(R),H.eh.use(null!=T&&T)],j=(0,v.s)();return[l.Wl.highest(tM.pL),tP.pE,m.S_,d.W].concat((0,a._)(V),[j])}var tJ=(0,tz.forwardRef)(function(t,e){var n=t.elementRef,r=t.initialDoc,l=t.filePath,d=t.language,v=t.hideGutter,p=t.fontSize,m=t.indentSize,y=t.indentIsSpaces,g=t.indentDetection,b=t.indentFormatPastes,x=t.hideIndentMarker,w=t.noHistory,E=t.readOnly,S=t.lineWrapping,C=t.autocomplete,k=t.extensions,D=t.customThemeValues,T=t.initializing,A=t.loading,_=t.keyboardHandler,I=t.hideTooltips,O=t.onException,R=(0,o._)(t,["elementRef","initialDoc","filePath","language","hideGutter","fontSize","indentSize","indentIsSpaces","indentDetection","indentFormatPastes","hideIndentMarker","noHistory","readOnly","lineWrapping","autocomplete","extensions","customThemeValues","initializing","loading","keyboardHandler","hideTooltips","onException"]),N=(0,u._)((0,tz.useState)(null),2),P=N[0],M=N[1],F=(0,u._)((0,tz.useState)(null),2),Z=F[0],L=F[1],U=(0,tz.useRef)(r),B=(0,u._)((0,tz.useState)(0),2),V=B[0],j=B[1],$=(0,tz.useRef)(V),H=(0,tz.useCallback)(function(){j(function(t){if(t-$.current>=5)throw Error("CodeMirror error refresh loop detected");return t+1})},[]);(0,tz.useEffect)(function(){var t=setTimeout(function(){$.current=V},1e3);return function(){return clearTimeout(t)}},[V]),(0,tz.useImperativeHandle)(e,function(){return{view:P,dom:Z}},[P,Z]);var G=(0,tU.Z)(null!=O?O:tQ),z=tX({filePath:l,language:d,hideGutter:v,fontSize:p,indentSize:m,indentIsSpaces:y,indentDetection:g,indentFormatPastes:b,hideIndentMarker:x,noHistory:w,readOnly:E,lineWrapping:S,autocomplete:C,extensions:k,customThemeValues:D,initializing:T,loading:A,keyboardHandler:_,hideTooltips:I});(0,tz.useEffect)(function(){var t,e=function(t){if(G.current(t),t instanceof Error&&(t.message.startsWith("Mismatched change set length")||t.message.includes("null")&&(t.message.includes("parentNode")||t.message.includes("nodeValue"))||t.message.startsWith("Failed to execute 'collapse' on 'Selection'"))&&(f.Tb(Error("Remounted for: ".concat(t.message))),1)){var e=t instanceof Error?t.message:void 0;f.n_({category:"codemirror",message:"Codemirror refresh called",data:{error:e},level:"error"}),H()}};if(Z){var n=null;try{n=new s.tk({doc:null!==(t=U.current)&&void 0!==t?t:void 0,parent:Z,extensions:[s.tk.exceptionSink.of(e)].concat((0,a._)(z))})}catch(t){e(t)}return n&&M(n),function(){if(n){M(null);try{n.destroy()}catch(t){e(t)}}}}},[Z,V]),(0,h.H)(P);var K=(0,tB.Z)(function(){return n?(0,tV.l)(L,n):L},[n]);return(0,c.BX)(c.HY,{children:[(0,c.tZ)("div",(0,i._)({ref:K},R)),(0,c.tZ)(tM.N1,{view:P})]})})},38174:function(t,e,n){n.d(e,{H:function(){return i},_:function(){return r}});var r=new WeakMap;function i(t,e){r.set(t,e)}},12674:function(t,e,n){n.d(e,{J:function(){return y},V:function(){return g}});var r=n(12285),i=n(41733),o=n(74985),u=n(3030),a=n(38174),c=n(84066),l=n(36752),s=n(46298),f=n(38172),d=n(50959),h=n(10422),v=n(48376);function p(t){for(var e=null,n=t;n;){var r=a._.get(n);if(r){e=r;break}if(n.classList.contains("cm-editor")){if(!(e=u.tk.findFromDOM(n)))throw Error("cm-editor element found without editor view");break}n=n.parentElement}if(!e)throw Error("no editor view found for given DOM element");var i=e.plugin(l.pL);if(!i)throw Error("no root plugin found for given DOM element");return i}function m(t){var e=(0,s.Z)(t.props),n=(0,d.useMemo)(function(){return"ref"in e?(0,f.l)(e.ref,t.innerRef):t.innerRef},[e,t.innerRef]);return"$$typeof"in t.component?(0,o.tZ)(t.component,(0,i._)({ref:n},e)):(0,o.tZ)(t.component,(0,i._)({},e))}var y=function(){"use strict";function t(e){(0,r._)(this,t),this.component=e,this.props=new WeakMap,this.refs=new WeakMap}var e=t.prototype;return e.getPropsObservable=function(t){var e=this.props.get(t);if(!e)throw Error("no instance is associated with the given element");return e},e.render=function(t,e){var n=this,r=(0,o.tZ)(m,{component:this.component,props:e,innerRef:function(e){n.refs.set(t,e)}});return(0,h.createPortal)(r,t)},e.create=function(t){var e=this,n=(0,v.u)(t),r=!1,i=(0,v.u)(n.current);n.subscribe(function(){r||(r=!0,Promise.resolve().then(function(){r=!1,(0,h.flushSync)(function(){i.set(n.current)})}))});var o=null,u=new c.f({mount:function(){o=p(u).mount(e.render(u,i))},unmount:function(){o&&(o(),o=null,e.refs.set(u,void 0))}});return this.props.set(u,n),this.refs.set(u,void 0),u},e.has=function(t){return this.props.has(t)},e.get=function(t){return this.getPropsObservable(t).current},e.set=function(t,e){var n=this.getPropsObservable(t);n.current!==e&&n.set(e)},e.update=function(t,e){var n=this.getPropsObservable(t),r=n.current,i=e(r);r!==i&&n.set(i)},e.ref=function(t){return this.refs.get(t)},t}();function g(t){var e=null;return new c.f({mount:function(n){var r=p(n),i=(0,h.createPortal)(t,n);e=r.mount(i)},unmount:function(){e&&(e(),e=null)}})}},24531:function(t,e,n){n.d(e,{bK:function(){return p},eh:function(){return v},yb:function(){return d}});var r=n(80403),i=n(3030),o=n(51561),u=n(38174),a=n(60941),c=n(73393),l=n(22488),s="--cm-tooltip-max-width",f=i.tk.theme({".cm-tooltip":{maxHeight:(0,l.isMobile)()?"min(300px, 70vh)":"70vh",maxWidth:(0,l.isMobile)()?"min(var(".concat(s,", 470px), 80vw) !important"):"min(var(".concat(s,", 300px), 40vw) !important")}}),d=new WeakMap,h=r.r$.define({combine:function(t){return t.some(Boolean)}}),v=new a.j(function(t){return t?h.of(!0):null}),p=new c.Rh(function(t){var e=document.createElement("div");e.className="cm-tooltips-container",e.style.zIndex="1000",document.body.appendChild(e),d.set(t,e),(0,u.H)(e,t);var n={key:{},read:function(){return t.dom.clientWidth},write:function(t){return e.style.setProperty(s,"".concat(t,"px"))}};t.requestMeasure(n);var r=t.state.facet(h);r&&(e.style.display="none");var a=i.lg.define(function(){return{update:function(i){(0,c.aU)(i,o.R)&&t.requestMeasure(n);var u=i.state.facet(h);r!==u&&(r=u,e.style.display=r?"none":"")},destroy:function(){e.remove(),d.delete(t)}}});return[f,(0,i.jH)({position:"fixed",parent:e}),a]})},60994:function(t,e,n){n.d(e,{n:function(){return f},t:function(){return h}});var r=n(74985),i=n(80403),o=n(3030),u=n(12674),a=n(73393),c=n(46298),l=n(50959),s=n(48376),f="cm-mounted-react-nodes";function d(t){var e=t.specs,n=t.view,i=(0,c.Z)(e);return(0,r.tZ)(r.HY,{children:i.filter(Boolean).map(function(t){var e=t.key,i=t.node;return(0,r.tZ)(l.Fragment,{children:"function"==typeof i?i(n):i},e)})})}var h=i.r$.define({enables:function(t){return o.lg.define(function(e){var n=(0,s.u)(e.state.facet(t)),i=(0,u.V)((0,r.tZ)(d,{specs:n,view:e}));return i.className=f,i.style.display="contents",e.dom.appendChild(i),{update:function(e){(0,a.aU)(e,t)&&n.set(e.state.facet(t))},destroy:function(){e.dom.removeChild(i)}}})}})},6922:function(t,e,n){n.d(e,{IK:function(){return h},pE:function(){return d}});var r=n(12285),i=n(66626),o=n(63257),u=n(80403),a=n(3030),c=n(73393),l=n(85733),s=n(50959),f=function(){"use strict";function t(e){(0,r._)(this,t),this.view=e,this.listeners=new Map,this.pending=new Set,this.destroyed=!1}var e=t.prototype;return e.bind=function(t){var e=this;if(this.destroyed)return function(){};var n={changed:function(e){try{return t.changed(e)}catch(t){return!1}},callback:function(e){try{t.callback(e)}catch(t){}}};t.destroy&&(n.destroy=function(e){try{var n;null===(n=t.destroy)||void 0===n||n.call(t,e)}catch(t){}});var r=function(){e.listeners.delete(r),e.pending.delete(n)};return this.listeners.set(r,n),n.callback(this.view),r},e.update=function(t){var e=this;if(!this.destroyed&&0!==this.listeners.size){var n=this.pending.size>0,r=!0,i=!1,o=void 0;try{for(var u,a=this.listeners.values()[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;c.changed(t)&&this.pending.add(c)}}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}!n&&this.pending.size>0&&Promise.resolve().then(function(){if(e.pending.size>0&&!e.destroyed){var t=!0,n=!1,r=void 0;try{for(var i,o=e.pending[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)i.value.callback(e.view)}catch(t){n=!0,r=t}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}e.pending.clear()}})}},e.destroy=function(){var t=this;this.destroyed=!0,Promise.resolve().then(function(){var e=!0,n=!1,r=void 0;try{for(var i,o=t.listeners.values()[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=i.value;u.destroy&&u.destroy(t.view)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}t.listeners.clear(),t.pending.clear()})},t}(),d=a.lg.fromClass(f);function h(t,e){var n,r,a,f,h,v,p,m;return n={dependencies:[e],changed:function(t){return(0,c.aU)(t,e)},read:function(t){var n;return e instanceof u.QQ?null!==(n=t.state.field(e,!1))&&void 0!==n?n:null:t.state.facet(e)}},f=null!==(r=null==t?void 0:t.plugin(d))&&void 0!==r?r:null,v=(h=(0,i._)((0,s.useState)(function(){return f&&t?n.read(t):null}),2))[0],p=h[1],m=(0,l.Z)(n),f||null===v||p(null),(0,s.useEffect)(function(){if(!f||f.destroyed){p(null);return}var t=f.bind({changed:function(t){return m.current.changed(t)},callback:function(t){return p(function(){return m.current.read(t)})},destroy:function(){return p(null)}});return function(){t(),p(null)}},[f,m].concat((0,o._)(null!==(a=n.dependencies)&&void 0!==a?a:[]))),v}},84066:function(t,e,n){n.d(e,{f:function(){return r},q:function(){return s}});var r,i=n(12285),o=n(4955),u=n(14105),a=n(9670),c=n(3030),l=n(25604);r=function(t){"use strict";(0,o._)(n,t);var e=(0,a._)(n);function n(t){var r;return(0,i._)(this,n),(r=e.call(this))._mount=null==t?void 0:t.mount,r._unmount=null==t?void 0:t.unmount,r}var r=n.prototype;return r.connectedCallback=function(){if(this.isConnected){var t;null===(t=this._mount)||void 0===t||t.call(this,this)}},r.disconnectedCallback=function(){var t;null===(t=this._unmount)||void 0===t||t.call(this,this)},n}((0,u._)(HTMLElement)),customElements.get("cm-editor-lifecycle")||customElements.define("cm-editor-lifecycle",r);var s=c.tk.styleModule.of(new l.V({"cm-editor-lifecycle":{display:"block"}}))},36752:function(t,e,n){n.d(e,{N1:function(){return x},pL:function(){return g}});var r=n(12285),i=n(4955),o=n(66626),u=n(9670),a=n(74985),c=n(3030),l=n(38174),s=n(84066),f=n(46298),d=n(50959),h=n(10422),v=n(48376),p=(0,d.memo)(function(t){var e=t.list,n=(0,f.Z)(e);return(0,a.tZ)(a.HY,{children:n})}),m=function(t){"use strict";(0,i._)(n,t);var e=(0,u._)(n);function n(t){var i;return(0,r._)(this,n),(i=e.call(this,t)).state={hasError:!1},i}var o=n.prototype;return o.componentDidCatch=function(t){this.props.onError(t)},o.render=function(){return this.state.hasError?null:(0,a.tZ)(a.HY,{children:this.props.node})},n.getDerivedStateFromError=function(){return{hasError:!0}},n}(d.PureComponent),y=function(){"use strict";function t(e){(0,r._)(this,t),this.view=e,this.list=(0,v.u)([]),this.mounted=new Map,this.pending=!1,this.counter=0,this.root=(0,a.tZ)(p,{list:this.list}),l._.set(e.dom,e),Promise.resolve().then(function(){l._.delete(e.dom)}),this.handleComponentError=this.handleComponentError.bind(this)}var e=t.prototype;return e.handleComponentError=function(t){(0,c.OO)(this.view.state,t)},e.flush=function(){var t=this;this.pending||(this.pending=!0,Promise.resolve().then(function(){t.pending&&(t.pending=!1,(0,h.flushSync)(function(){t.list.set(Array.from(t.mounted.values()))}))}))},e.mount=function(t){var e=this,n=(0,a.tZ)(m,{node:t,onError:this.handleComponentError},"editor-react-".concat(this.counter));this.counter++;var r=!1,i=function(){r||(e.mounted.delete(i),e.flush(),r=!0)};return this.mounted.set(i,n),this.flush(),i},e.destroy=function(){var t=this;this.pending&&(this.pending=!1),this.mounted.size&&(this.mounted.clear(),(0,h.flushSync)(function(){t.list.set([])}))},t}(),g=c.lg.fromClass(y,{provide:function(){return s.q}});function b(t){var e,n;return null!==(n=null==t?void 0:null===(e=t.plugin(g))||void 0===e?void 0:e.root)&&void 0!==n?n:null}function x(t){var e=t.view,n=(0,o._)((0,d.useState)(function(){return b(e)}),2),r=n[0],i=n[1];return(0,d.useEffect)(function(){return i(function(){return b(e)})},[e]),(0,a.tZ)(a.HY,{children:r})}},87502:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(66626),i=n(50959);function o(){var t=(0,r._)((0,i.useState)(null),2),e=t[0],n=t[1],o=(0,r._)((0,i.useState)(null),2),u=o[0],a=o[1],c=(0,i.useCallback)(function(t){var e,r;n(null!==(e=null==t?void 0:t.view)&&void 0!==e?e:null),a(null!==(r=null==t?void 0:t.dom)&&void 0!==r?r:null)},[]);return(0,i.useMemo)(function(){return{ref:c,view:e,dom:u}},[c,e,u])}},27894:function(t,e,n){n.d(e,{G:function(){return m},Q:function(){return v}});var r=n(27387),i=n(12285),o=n(96583),u=n(80403),a=n(3030),c=n(73393),l=n(15323),s=n(60941),f=n(45929),d=n(57253),h=u.Py.define(),v=function(t){return t.dispatch({effects:h.of(null)}),!0},p=function(){"use strict";function t(e,n,r,o){(0,i._)(this,t),this.fs=n,this.outputs=r,this.inFlag=null!=o&&o}return t.prototype.updateSafe=function(t){var e=this;return(0,r._)(function(){var n,r,i,u;return(0,o.Jh)(this,function(o){switch(o.label){case 0:if(!(0,c.aU)(t,h))return[2];if(!(n=t.view.state.facet(l.Yp)))throw Error("expected fileName");if(r=e.fs.flush(new Set([n]),d.WL.MANUAL_SAVE),!e.outputs||!e.inFlag)return[2];return i=Date.now(),u=e.outputs.startBlock(f.kH.SAVE,f.MZ.COLLAPSED).id,e.outputs.writeOutputToBlock(u,"Saving ".concat(n,"...\r\n")),[4,r];case 1:return o.sent(),e.outputs.writeOutputToBlock(u,"".concat(n," saved in ").concat(Date.now()-i,"ms.\r\n")),e.outputs.endBlock(u),[2]}})})()},t}(),m=new s.j(function(t,e,n){return a.lg.define(function(r){return new p(r,t,(null==e?void 0:e.mode)==="outputs"?e:void 0,n)},{provide:function(t){return a.tk.updateListener.of(function(e){var n;null===(n=e.view.plugin(t))||void 0===n||n.updateSafe(e)})}})})},13754:function(t,e,n){n.d(e,{$:function(){return d},Z:function(){return f}});var r=n(3030);function i(t){return{"&":{fontSize:"".concat(t,"px")},".cm-scroller":{fontSize:"".concat(t,"px")},".cm-tooltip":{fontSize:"".concat(t,"px")}}}var o=r.tk.theme(i(10)),u=r.tk.theme(i(12)),a=r.tk.theme(i(14)),c=r.tk.theme(i(18)),l=r.tk.theme(i(20)),s=r.tk.theme(i(24));function f(t){switch(t){case 10:return o;case 12:return u;case 14:return a;case 18:return c;case 20:return l;case 24:return s;default:throw Error("Unexpected font size")}}function d(t){switch(t){case 10:return"15px";case 12:return"18px";case 14:return"21px";case 18:return"27px";case 20:return"30px";case 24:return"36px";default:throw Error("Unexpected font size")}}},77605:function(t,e,n){n.d(e,{Kh:function(){return v},ll:function(){return c}});var r,i=n(12285),o=n(42516),u=n(3030),a=n(72093),c="cm-active-line-layer",l="cm-active-line-layer-element",s=u.tk.theme((r={},(0,o._)(r,".".concat(c),{width:"100%"}),(0,o._)(r,".".concat(l),{backgroundColor:a.TV.backgroundHigher,width:"100%",opacity:.5}),r)),f=(0,u.EY)({above:!1,class:c,update:function(t){return t.docChanged||t.selectionSet},markers:function(t){var e=[],n=-1,r=!0,i=!1,o=void 0;try{for(var a,c=t.state.selection.ranges[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var s=a.value;if(!(s.head<=n)){var f=t.lineBlockAt(s.head);if(n=f.to,f.type===u.kH.Text){e.push(new u.dc(l,0,f.top+t.documentPadding.top,null,f.height));continue}if(Array.isArray(f.type)){var d=f.type,h=!0,v=!1,p=void 0;try{for(var m,y=d[Symbol.iterator]();!(h=(m=y.next()).done);h=!0){var g=m.value;g.type===u.kH.Text&&e.push(new u.dc(l,0,g.top+t.documentPadding.top,null,g.height))}}catch(t){v=!0,p=t}finally{try{h||null==y.return||y.return()}finally{if(v)throw p}}}}}}catch(t){i=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return e}}),d=u.p.line({class:"cm-replit-active-line"}),h=function(){"use strict";function t(e){(0,i._)(this,t),this.decorations=this.makeDecorations(e)}var e=t.prototype;return e.makeDecorations=function(t){var e=[],n=-1,r=!0,i=!1,o=void 0;try{for(var a,c=t.state.selection.ranges[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var l=a.value;if(l.head>n){var s=t.lineBlockAt(l.head);e.push(d.range(s.from)),n=s.to}}}catch(t){i=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return u.p.set(e)},e.update=function(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.makeDecorations(t.view))},t}(),v=[s,f,u.lg.fromClass(h,{decorations:function(t){return t.decorations}})]},92834:function(t,e,n){n.d(e,{OQ:function(){return p},PQ:function(){return y},UQ:function(){return s},YM:function(){return h},ZS:function(){return m},cR:function(){return v},eR:function(){return d},qi:function(){return l}});var r=n(41733),i=n(30509),o=n(80403),u=n(3030),a=n(72093),c=n(32472),l=o.Py.define(),s=o.Py.define(),f=o.Py.define(),d=o.Py.define(),h=o.Py.define(),v=u.tk.baseTheme({".replit-thread-highlight":{background:a.TV.accentPrimaryDimmest,transition:"".concat(a.TV.transitionDurationSnappy," all\n            ").concat(a.TV.transitionTimingFunctionSnappy)},".replit-thread-highlight .replit-thread-highlight":{background:"transparent"},".cm-thread-indicator-gutter":{transform:"translate(calc(-100% - var(--space-8)));",width:"20px",overflow:"visible"}}),p=o.QQ.define({create:function(){return{}},update:function(t,e){var n=t;return((0,c.j)(e,l,function(t){n=t.value}),e.changes.empty)?n:n=Object.values(n).map(function(t){var n=t.indexStart>e.state.doc.length?e.state.doc.length:e.changes.mapPos(t.indexStart),o=t.indexEnd>e.state.doc.length?e.state.doc.length:e.changes.mapPos(t.indexEnd);return(0,i._)((0,r._)({},t),{indexStart:n,indexEnd:o})}).reduce(function(t,e){return t[e.id]=e,t},{})}}),m=o.QQ.define({create:function(){return null},update:function(t,e){var n=t;return(0,c.j)(e,s,function(t){var r=e.state,i=r.selection.main,o=i.from,u=i.to;if(o===u){var a=r.doc.lineAt(o);o=Math.max(a.from-1,0),u=a.to}n={id:t.value,indexStart:o,indexEnd:u}}),(0,c.j)(e,f,function(){n=null}),(0,c.j)(e,h,function(){n=null}),null!==n&&(0,c.j)(e,l,function(t){if(!n)throw Error("expected newPlaceholder");t.value[n.id]&&(n=null)}),!e.changes.empty&&n&&(n=(0,i._)((0,r._)({},n),{indexStart:e.changes.mapPos(n.indexStart),indexEnd:e.changes.mapPos(n.indexEnd)})),n}}),y=o.QQ.define({create:function(){return null},update:function(t,e){var n=t;return(0,c.j)(e,h,function(t){n=t.value}),(0,c.j)(e,s,function(t){n=t.value}),n}})},60941:function(t,e,n){n.d(e,{j:function(){return c}});var r=n(12285),i=n(63257),o=n(73393),u=n(36647),a=n(50959),c=function(){"use strict";function t(e){(0,r._)(this,t),this.factory=e}return t.prototype.use=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=this,c=(0,a.useRef)(!1),l=(0,u.Z)(function(){var t=new o.Rh(r.factory.apply(r,(0,i._)(e)));return c.current=!0,t},[]);return(0,a.useEffect)(function(){c.current?c.current=!1:l.set(r.factory.apply(r,(0,i._)(e)))},(0,i._)(e)),l},t}()},32472:function(t,e,n){n.d(e,{j:function(){return function t(e,n,r){if("effects"in e){var i=!0,o=!1,u=void 0;try{for(var a,c=e.effects[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=a.value;l.is(n)&&r(l)}}catch(t){o=!0,u=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}}else{var s=!0,f=!1,d=void 0;try{for(var h,v=e.transactions[Symbol.iterator]();!(s=(h=v.next()).done);s=!0){var p=h.value;t(p,n,r)}}catch(t){f=!0,d=t}finally{try{s||null==v.return||v.return()}finally{if(f)throw d}}}}}})},22238:function(t,e,n){n.d(e,{L:function(){return r}});function r(t,e){var n=0;t:for(var r=0;r<t.length;r++)switch(t[r]){case" ":n+=1;continue;case"	":n+=e-n%e;continue;case"\r":continue;default:break t}return n}},75869:function(t,e,n){n.d(e,{p:function(){return o}});var r=n(33083),i=n(99415);function o(t){var e=t.text,n=t.parser,o=t.changes,u=t.base,a=t.upTo,c=t.maxTime,l=Date.now(),s=void 0;if(u&&(Array.isArray(u)?u.length&&(s=u):s=u instanceof i.mp?i.i9.addTree(u):i.i9.addTree((0,r.qz)(u)),s&&o)){var f=[];o.iterChangedRanges(function(t,e,n,r){f.push({fromA:t,toA:e,fromB:n,toB:r})}),s=i.i9.applyChanges(s,f)}var d=new r.RH(e),h=n.startParse(d,s);void 0!==a&&h.parsedPos<=a&&h.stopAt(a);for(var v=h.advance(),p=!1;!v&&!(v=h.advance());)if(!p&&void 0!==c){if(null!==h.stoppedAt&&h.stoppedAt<=h.parsedPos){p=!0;continue}Date.now()-l>c&&(p=!0,h.stopAt(h.parsedPos))}return v}},118:function(t,e,n){function r(t,e){var n=Math.max(e.line+1,1),r=t.line(Math.min(n,t.lines));return n>t.lines?r.to:Math.min(r.from+e.character,r.to)}function i(t,e){var n=t.lineAt(e);return{line:n.number-1,character:e-n.from}}function o(t,e){return{start:i(t,e.main.from),end:i(t,e.main.to)}}function u(t,e){return t.line<e.line||t.line===e.line&&t.character<=e.character}function a(t,e){return u(t.start,e.end)&&u(e.start,t.end)}n.d(e,{Ih:function(){return o},RL:function(){return r},dI:function(){return a},sg:function(){return i}})},11715:function(t,e,n){var r=n(41733),i=n(30509),o=n(98924),u=n(74985),a=n(11120),c=n(19201);e.Z=function(t){var e=t.children,n=(0,o._)(t,["children"]),l=!(0,a.T)()&&!1!==n.animate;return(0,u.tZ)(c.ZP,(0,i._)((0,r._)({},n),{animate:l,children:e}))}},4354:function(t,e,n){n.d(e,{Z:function(){return s}});var r=n(74985),i=n(43312),o=n(49224),u=n(72093),a=(0,i.F4)({"0%":{opacity:0},"100%":{opacity:1}}),c=(0,i.F4)({"0%":{transform:"translateX(-50%) scaleX(0.5)"},"90%":{transform:"translateX(100%) scaleX(0.5)"},"100%":{transform:"translateX(100%) scaleX(0.5)"}}),l=(0,o.X)({container:{position:"absolute",top:0,left:0,height:2,width:"100%",overflow:"hidden",zIndex:5,opacity:0,animation:"".concat(a," 200ms 100ms linear forwards")},segment:{height:"100%",width:"100%",backgroundColor:u.TV.accentPrimaryDefault,transformOrigin:"left",animation:"".concat(c," 2s infinite cubic-bezier(0.6, 0, 0.4, 1) forwards")}});function s(){return(0,r.tZ)("div",{css:l.container,children:(0,r.tZ)("div",{css:l.segment})})}},30660:function(t,e,n){n.d(e,{b:function(){return i},c:function(){return o}});var r=n(36647);function i(t,e){return(0,r.Z)(function(){return o(e,t)},[e,t])}function o(t,e){return{get current(){return t.get(e)},subscribe:function(n){return t.sub(e,function(){return n(t.get(e))})}}}},46298:function(t,e,n){var r=n(66626),i=n(50959);e.Z=function(t){var e=(0,r._)((0,i.useState)(function(){return t?t.current:null}),2),n=e[0],o=e[1];return(0,i.useEffect)(function(){if(o(function(){return t?t.current:null}),t)return t.subscribe(function(t){return o(function(){return t})})},[t]),n}},24268:function(t,e,n){n.d(e,{j:function(){return u}});var r=n(50959),i=n(85733),o=n(77862);function u(t,e,n){var u=(0,i.Z)(n);(0,r.useLayoutEffect)(function(){var n=function(e){var n=u.current?u.current(e):e;null!==n&&(0,o.A)(t,n)};return n(e.current),(0,o.p)(t),e.subscribe(n)},[t,e,u])}},77862:function(t,e,n){n.d(e,{A:function(){return a},p:function(){return c}});var r=n(12285),i=n(66626),o=new(function(){"use strict";function t(){(0,r._)(this,t),this.map=new Map}var e=t.prototype;return e.getOrInit=function(t){var e=this.map.get(t);return e||(e=new Map,this.map.set(t,e)),e},e.add=function(t,e,n){this.getOrInit(t).set(e,n)},e.flush=function(){var t=!0,e=!1,n=void 0;try{for(var r,o=this.map[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var u=(0,i._)(r.value,2),a=u[0],c=u[1];if(a&&"current"in a&&(a=a.current),a){var l=!0,s=!1,f=void 0;try{for(var d,h=c[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var v=(0,i._)(d.value,2),p=v[0],m=v[1];a.style.setProperty(p,m)}}catch(t){s=!0,f=t}finally{try{l||null==h.return||h.return()}finally{if(s)throw f}}}}}catch(t){e=!0,n=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw n}}this.map.clear()},e.flushNode=function(t){if(t){var e=t,n=this.map.get(e);if(n&&(t&&"current"in t&&(t=t.current),t)){var r=!0,o=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var l=(0,i._)(a.value,2),s=l[0],f=l[1];t.style.setProperty(s,f)}}catch(t){o=!0,u=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw u}}this.map.delete(e)}}},t}()),u=!1;function a(t,e,n){if(null!==t){if("string"==typeof e){if(void 0===n)throw Error("value is undefined when prop is string");o.add(t,e,n)}else for(var r in e)o.add(t,r,e[r]);u||(u=!0,requestAnimationFrame(function(){o.flush(),u=!1}))}}function c(t){o.flushNode(t)}},91395:function(t,e,n){var r=(0,n(50959).createContext)(null);e.Z=r},48594:function(t,e,n){n.d(e,{w:function(){return l}});var r=n(27387),i=n(96583),o=n(73058),u=n(57253),a=n(52399);function c(t){var e=t.path,n=t.fs,r=t.edits,i=!1,a=n.watchTextFile(e,{onReady:function(t){var e=t.writeChange,n=t.initialContent;e((0,o.Z)(r,n.toString())),i=!0},onStatusChange:function(t){t===u.KF.Clean&&i&&a()}})}function l(t){return s.apply(this,arguments)}function s(){return(s=(0,r._)(function(t){return(0,i.Jh)(this,function(e){return[2,(function(t){return f.apply(this,arguments)})(t).then(function(){return{applied:!0}}).catch(function(t){return{applied:!1,failureReason:t instanceof Error?t.message:t}})]})})).apply(this,arguments)}function f(){return(f=(0,r._)(function(t){var e,n,r,o,l,s,f,d,h,v,p,m,y,g,b,x,w,E,S,C,k,D,T,A,_,I,O,R,N;return(0,i.Jh)(this,function(i){switch(i.label){case 0:if(e=t.edit,n=t.fs,r=t.client,o=e.documentChanges,l=e.changes,!o)return[3,18];s=!0,f=!1,d=void 0,i.label=1;case 1:i.trys.push([1,16,17,18]),h=o[Symbol.iterator](),i.label=2;case 2:if(s=(v=h.next()).done)return[3,15];if("textDocument"in(p=v.value))return m=p.edits,y=p.textDocument,c({path:r.documentUriToPath(y.uri),fs:n,edits:m}),[3,14];switch(p.kind){case"create":return[3,3];case"delete":return[3,7];case"rename":return[3,10]}return[3,14];case 3:if(g=r.documentUriToPath(p.uri),(null==(b=p.options)?void 0:b.overwrite)||!(null==b?void 0:b.ignoreIfExists))return[3,5];return[4,n.stat(g)];case 4:if(i.sent().exists)return[3,14];i.label=5;case 5:return[4,n.writeFile(g,a.Z.from(""))];case 6:if(x=i.sent().error)throw Error("Something went wrong writing to a file: ".concat(x));return[3,14];case 7:return w=r.documentUriToPath(p.uri),S=!!(null==(E=p.options)?void 0:E.recursive),C=!!(null==E?void 0:E.ignoreIfNotExists),[4,n.stat(w)];case 8:if(!(k=i.sent()).exists){if(C)return[3,14];throw Error("Expected file to exist")}if(k.type===u.Tv.Directory&&!S)throw Error("Trying to delete a directory without recursive option enabled");return[4,n.deleteFile(w)];case 9:if((D=i.sent().error)===u.Df.NotFound&&C)return[3,14];if(D)throw Error("Something went wrong deleting the file: ".concat(D));return[3,14];case 10:if(T=r.documentUriToPath(p.oldUri),A=r.documentUriToPath(p.newUri),(null==(_=p.options)?void 0:_.overwrite)||!(null==_?void 0:_.ignoreIfExists))return[3,12];return[4,n.stat(T)];case 11:if(i.sent().exists)return[3,14];i.label=12;case 12:return[4,n.moveFile(T,A)];case 13:if(I=i.sent().error)throw Error("Something went wrong moving a file: ".concat(I));return[3,14];case 14:return s=!0,[3,2];case 15:return[3,18];case 16:return O=i.sent(),f=!0,d=O,[3,18];case 17:try{s||null==h.return||h.return()}finally{if(f)throw d}return[7];case 18:if(l)for(var P in l)R=r.documentUriToPath(P),N=l[P],c({path:R,fs:n,edits:N});return[2]}})})).apply(this,arguments)}},34635:function(t,e,n){n.d(e,{H:function(){return u},Z:function(){return o}});var r=n(66626),i=n(7225);function o(t){var e,n,r,o,u,a,c,l=t.getServerCapabilities();return{isAutoCompleteSupported:!!(null==l?void 0:l.completionProvider),isCompletionItemResolveSupported:!!(null==l?void 0:null===(e=l.completionProvider)||void 0===e?void 0:e.resolveProvider),isCompletionLabelDetailsSupported:!!(null==l?void 0:null===(r=l.completionProvider)||void 0===r?void 0:null===(n=r.completionItem)||void 0===n?void 0:n.labelDetailsSupport),isDocumentSymbolSupported:!!(null==l?void 0:l.documentSymbolProvider),isSemanticTokensFullSupported:!!(null==l?void 0:null===(o=l.semanticTokensProvider)||void 0===o?void 0:o.full),isSemanticTokensDeltaSupported:!!((null==l?void 0:null===(u=l.semanticTokensProvider)||void 0===u?void 0:u.full)&&"object"==typeof l.semanticTokensProvider.full&&l.semanticTokensProvider.full.delta),isSemanticTokensRangeSupported:!!(null==l?void 0:null===(a=l.semanticTokensProvider)||void 0===a?void 0:a.range),isFindReferencesSupported:!!(null==l?void 0:l.referencesProvider),isFindDefinitionSupported:!!(null==l?void 0:l.definitionProvider),isFindTypeDefinitionSupported:!!(null==l?void 0:l.typeDefinitionProvider),isFindImplementationSupported:!!(null==l?void 0:l.implementationProvider),isFormatSupported:!!(null==l?void 0:l.documentFormattingProvider),isFormatRangeSupported:!!(null==l?void 0:l.documentRangeFormattingProvider),isTextDocumentSyncSupported:!!(null==l?void 0:l.textDocumentSync),isHoverSupported:!!(null==l?void 0:l.hoverProvider),isRenameSupported:!!(null==l?void 0:l.renameProvider),isCodeActionsSupported:!!(null==l?void 0:l.codeActionProvider),isSourceActionsSupported:!!(null==l?void 0:l.codeActionProvider)&&"object"==typeof(null==l?void 0:l.codeActionProvider)&&(null===(c=l.codeActionProvider.codeActionKinds)||void 0===c?void 0:c.find(function(t){return t.startsWith(i.CodeActionKind.Source)}))!==void 0,isSignatureHelpSupported:!!(null==l?void 0:l.signatureHelpProvider)}}function u(t){var e=t.flat();if(!e.length)return null;var n={isAutoCompleteSupported:!1,isDocumentSymbolSupported:!1,isSemanticTokensFullSupported:!1,isSemanticTokensDeltaSupported:!1,isSemanticTokensRangeSupported:!1,isCompletionItemResolveSupported:!1,isCompletionLabelDetailsSupported:!1,isFindReferencesSupported:!1,isFindDefinitionSupported:!1,isFindTypeDefinitionSupported:!1,isFindImplementationSupported:!1,isFormatSupported:!1,isFormatRangeSupported:!1,isTextDocumentSyncSupported:!1,isHoverSupported:!1,isRenameSupported:!1,isCodeActionsSupported:!1,isSourceActionsSupported:!1,isSignatureHelpSupported:!1},i=!0,o=!1,u=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=a.value,s=!0,f=!1,d=void 0;try{for(var h,v=Object.entries(l)[Symbol.iterator]();!(s=(h=v.next()).done);s=!0){var p=(0,r._)(h.value,2),m=p[0],y=p[1];y&&(n[m]=y)}}catch(t){f=!0,d=t}finally{try{s||null==v.return||v.return()}finally{if(f)throw d}}}}catch(t){o=!0,u=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}return n}},82587:function(t,e,n){n.d(e,{g:function(){return i}});var r=n(41733);function i(t){return null===t?null:Array.isArray(t)?t.map(function(t){return"targetSelectionRange"in t?(0,r._)({uri:t.targetUri,range:t.targetSelectionRange},t):t}):[t]}},73058:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(66626),i=n(80403),o=n(118),u=n(22897);function a(t,e){var n=i.xv.of(e.split("\n")),a=i.as.empty(n.length);if(!t.length)return a;if(1===t.length){var c=(0,r._)(t,1)[0],l=c.range,s=l.start,f=l.end,d=c.newText,h=(0,o.RL)(n,s);if(0===h||-1===h){var v=(0,o.RL)(n,f);if(v===n.length||-1===v)return(0,u.F)(e,d)}}var p=[],m=!0,y=!1,g=void 0;try{for(var b,x=t[Symbol.iterator]();!(m=(b=x.next()).done);m=!0){var w=b.value,E=w.range,S=w.newText,C=(0,o.RL)(n,E.start),k=(0,o.RL)(n,E.end);p.push({from:C,to:k,insert:S})}}catch(t){y=!0,g=t}finally{try{m||null==x.return||x.return()}finally{if(y)throw g}}return i.as.of(p,e.length)}},45929:function(t,e,n){var r,i,o,u,a,c,l,s;n.d(e,{Ah:function(){return i},MZ:function(){return u},kH:function(){return o},zW:function(){return r}}),(a=r||(r={})).STATE_CHANGE="STATE_CHANGE",a.OUTPUT="OUTPUT",a.LOCAL_RUN="RUN",a.BLOCK_CHANGED="BLOCK_CHANGED",a.ALL_BLOCKS_CHANGED="ALL_BLOCKS_CHANGED",a.CHANGE_VISUAL_STATE="CHANGE_VISUAL_STATE",(c=i||(i={})).OFFLINE="OFFLINE",c.IDLE="IDLE",c.BEFORE_RUN="BEFORE_RUN",c.RUNNING="RUNNING",c.STOPPING="STOPPING",(l=o||(o={})).EXECUTION="EXECUTION",l.DEBUGGER="DEBUGGER",l.PACKAGER="PACKAGER",l.UNIT_TEST="UNIT_TEST",l.PORT_INFO="PORT_INFO",l.FORMATTER="FORMATTER",l.SAVE="SAVE",(s=u||(u={})).EXPANDED="EXPANDED",s.COLLAPSED="COLLAPSED"},81199:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(50959),i=n(91395);function o(){var t=(0,r.useContext)(i.Z);if(!t)throw Error("Expected services in context");return t}},7954:function(t,e,n){n.d(e,{I:function(){return d},O:function(){return h}});var r=n(41733),i=n(30509),o=n(47726),u=n(43182),a=n(60305),c=n(49500),l={workspace:!0,bsod:!1},s="undefined-event-id";function f(t,e){var n=s;return u.$e(function(i){var o;i.setTags((0,r._)({},l,null!==(o=null==e?void 0:e.tags)&&void 0!==o?o:{})),(null==e?void 0:e.extras)&&i.setExtras(e.extras),n=u.Tb(t)||s}),n}function d(t,e){return c.error("fatal error captured, see error below"),c.error(t),c.error(e),(0,a.j)(a.U3.WS_CRASHED),(e=null!=e?e:{}).tags=(0,i._)((0,r._)({},e.tags),{workspace:!0,bsod:!0}),o.v.addError(t,(0,r._)({},e.tags)),f(t,e)}function h(t,e){return c.error("an error was captured that will be fatal in the future, see error below."),c.error(t),c.error(e),(e=null!=e?e:{}).tags=(0,i._)((0,r._)({},e.tags),{workspace:!0,bsod:!1}),f(t,e)}},82646:function(t,e,n){n.d(e,{a:function(){return u},t:function(){return a}});var r=n(80403),i=n(60941),o=r.r$.define({combine:function(t){return t[0]}});function u(t,e,n){var r=t.state.facet(o);if(r){var i=t.coordsAtPos(null!=n?n:t.state.selection.main.from);i&&r({x:i.left,y:i.bottom},e)}}var a=new i.j(function(t){return o.of(t)})},36101:function(t,e,n){n.d(e,{a:function(){return o},j:function(){return a}});var r=n(80403),i=n(3030);function o(t){var e=r.Py.define();return[r.QQ.define({create:function(){return t.current},update:function(t,n){var r=!0,i=!1,o=void 0;try{for(var u,a=n.effects[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;c.is(e)&&(t=c.value)}}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t},provide:function(t){return u.from(t)}}),i.lg.define(function(n){var r=t.subscribe(function(t){n.dispatch({effects:[e.of(t),t&&i.E8].filter(Boolean)})});return{destroy:function(){r()}}})]}var u=r.r$.define({combine:function(t){return t.some(Boolean)}}),a=u.reader},4590:function(t,e,n){n.d(e,{QF:function(){return s},SK:function(){return l},h$:function(){return c}});var r=n(5786),i=n(7849),o=n(92834),u=n(85234),a=n.n(u),c=function(t){return t.dispatch({effects:[o.UQ.of(a()())]}),!0},l=function(t){if(t.state.selection.main.empty){var e=t.state.wordAt(t.state.selection.main.head);if(!e)return!1;t.dispatch({selection:e})}return(0,r.tm)(t)},s=function(t){return!!t.state.field(i.K0,!1)&&((0,i.Tk)(t,t.state.doc.lineAt(t.state.selection.main.head).from),!0)}},30341:function(t,e,n){n.d(e,{Fs:function(){return a},ZM:function(){return c}});var r=n(80403),i=n(60941);n(58045);var o=r.r$.define({combine:function(t){var e;return null!==(e=t[0])&&void 0!==e?e:null}}),u=new i.j(function(t){return o.of(t)});function a(t){return u.use(t)}function c(t,e){var n,r=e.pane,i=e.secondary;return!!(n=t.facet(o))&&n({operation:"open",pane:r,secondary:void 0===i||i})}},89748:function(t,e,n){n.d(e,{fA:function(){return i},pl:function(){return u},zf:function(){return o}});var r=n(60626);function i(t,e){var n=e.commands;return{data:t,match:e.match,commands:n}}function o(t){var e=t.defaultScore,n=void 0===e?1:e,i=t.matchScoreMultiplier,o=void 0===i?1:i;return function(t){var e=t.search,i=t.data,u=t.active;if("group"===i.type)return null;if(!e&&u||!e)return{score:n};var a=r.Z.match(e,i.label);return a?{score:a.score*o,render:{ranges:a.ranges}}:null}}var u=o({defaultScore:1})},51460:function(t,e,n){n.d(e,{Z:function(){return k}});var r=n(42516),i=n(41733),o=n(30509),u=n(98924),a=n(74985),c=n(94778),l=n(82230),s=n(44941),f=n(50959),d=n(7225),h=n(49224),v=n(72093),p=n(24268),m=n(48376),y=n(33298),g=n(19068),b=n(99908),x=(0,y.$)(["bgColor","bgOpacity"]),w=x.cssVars,E=x.styleTokens,S=(0,h.X)({liWithOnClick:[v.l0.display.flex,v.l0.flex.row,g.gU.listItem],liWithoutOnClick:[v.l0.display.flex,v.l0.flex.row],icon:[v.l0.display.flex,v.l0.flex.column,v.l0.justify.center,v.l0.px(8),{backgroundColor:E.bgColor}],background:[v.l0.flex.growAndShrink(1),v.l0.position.relative,v.l0.px(8),v.l0.py(4),{"&::before":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:E.bgColor,opacity:E.bgOpacity}}],content:[v.l0.zIndex(1),v.l0.rowWithGap(8),v.l0.flex.shrink(1)],text:[v.l0.flex.shrink(1),v.l0.overflowX("hidden"),{textOverflow:"ellipsis",whiteSpace:"nowrap"}],source:[v.l0.color.foregroundDimmest],position:[v.l0.color.foregroundDimmest,v.l0.flex.grow(1),v.l0.align.end]}),C=function(t){var e,n,i,o;switch(t){case d.DiagnosticSeverity.Error:return e={},(0,r._)(e,w.bgColor,v.TV.accentNegativeDimmer),(0,r._)(e,w.bgOpacity,"0.4"),e;case d.DiagnosticSeverity.Warning:return n={},(0,r._)(n,w.bgColor,v.TV.yellowDimmer),(0,r._)(n,w.bgOpacity,"0.4"),n;case d.DiagnosticSeverity.Hint:case d.DiagnosticSeverity.Information:return i={},(0,r._)(i,w.bgColor,v.TV.greyDimmest),(0,r._)(i,w.bgOpacity,"0"),i;default:return o={},(0,r._)(o,w.bgColor,"unset"),(0,r._)(o,w.bgOpacity,"0"),o}};function k(t){var e=t.problem,n=t.showSource,d=t.showPosition,h=t.withSeverityBackgroundColor,v=void 0!==h&&h,y=(0,u._)(t,["problem","showSource","showPosition","withSeverityBackgroundColor"]),g=e.range.start.line+1,x=e.range.start.character,E=(0,f.useRef)(null),k=(0,f.useMemo)(function(){return(0,m.u)({severity:e.severity,show:v})},[e.severity,v]);return(0,p.j)(E,k,function(t){var e,n=t.show,i=t.severity;return n?C(i):(e={},(0,r._)(e,w.bgColor,"unset"),(0,r._)(e,w.bgOpacity,"0"),e)}),(0,a.BX)(c.K.li,(0,o._)((0,i._)({ref:E,css:y.onClick?S.liWithOnClick:S.liWithoutOnClick,tabIndex:0},y),{children:[(0,a.tZ)(c.G,{css:S.icon,children:(0,a.tZ)(b.Z.Provider,{value:v,children:(0,a.tZ)(s.Z,{severity:e.severity})})}),(0,a.tZ)(c.G,{css:S.background,children:(0,a.BX)(c.G,{css:S.content,children:[(0,a.tZ)(l.xv,{css:S.text,children:e.message}),(void 0===n||n)&&e.source?(0,a.tZ)(l.xv,{css:S.source,children:"(".concat(e.source,")")}):null,void 0===d||d?(0,a.tZ)(c.G,{css:S.position,children:(0,a.tZ)(l.xv,{children:"Ln ".concat(g,", Col ").concat(x+1)})}):null]})})]}))}},99908:function(t,e,n){n.d(e,{Z:function(){return r}});var r=(0,n(50959).createContext)(!1)},44941:function(t,e,n){n.d(e,{Z:function(){return p}});var r=n(74985),i=n(49224),o=n(91951),u=n(64318),a=n(73789),c=n(87128),l=n(72093),s=n(99908),f=n(50959),d=n(65377),h=n(7225),v=(0,i.X)({errorOuter:[l.l0.display.flex,l.l0.position.relative,l.l0.align.center],errorCloseIcon:[l.l0.position.absolute,l.l0.display.flex]});function p(t){var e=t.severity,n=t.size,i=void 0===n?16:n,l=(0,f.useContext)(s.Z);switch(e){case h.DiagnosticSeverity.Error:return(0,r.BX)("div",{css:v.errorOuter,children:[(0,r.tZ)("div",{css:v.errorCloseIcon,style:{height:i,width:i,transform:"scale(0.75)"},children:(0,r.tZ)(u.Z,{color:l?d.TV.redStrongest:d.TV.redStronger,size:i})}),(0,r.tZ)(o.Z,{color:l?d.TV.redStrongest:d.TV.redStronger,size:i})]});case h.DiagnosticSeverity.Warning:return(0,r.tZ)(c.Z,{color:l?d.TV.yellowStrongest:d.TV.yellowStronger,size:i});case h.DiagnosticSeverity.Hint:case h.DiagnosticSeverity.Information:default:return(0,r.tZ)(a.Z,{color:d.TV.foregroundDimmer,size:i})}}},20367:function(t,e,n){n.d(e,{O:function(){return u}});var r=n(57967),i=n(38753),o=n(85438);function u(){var t=(0,i.T3)(),e=(0,i.sG)(),n=(0,r.Z)();return t?e?o.Bd.MobileApp:o.Bd.MobileWeb:n?o.Bd.DesktopApp:o.Bd.DesktopWeb}},11407:function(t,e,n){n.d(e,{IX:function(){return v},QR:function(){return x},SG:function(){return d},ZG:function(){return g},bU:function(){return b},cU:function(){return w},cZ:function(){return y},gD:function(){return s},l2:function(){return m},lc:function(){return h},uv:function(){return f},zb:function(){return p}});var r=n(95571),i={8:"Backspace",9:"Tab",10:"Enter",12:"Clear",13:"Enter",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",108:",",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o=new Set(["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","ArrowDown","ArrowUp","ArrowLeft","ArrowRight","End","Home","PageDown","PageUp","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","`","\\","/","Backspace","[","]","Clear",",","Delete","Enter","-","=","+",".","'",";","Tab"," ","Escape"]),u=new Set(["Cmd-","Shift-","Alt-","Ctrl-","Cmd-Shift-","Cmd-Alt-","Cmd-Ctrl-","Shift-Alt-","Ctrl-Shift-","Ctrl-Alt-","Cmd-Ctrl-Alt-","Ctrl-Shift-Alt-","Cmd-Shift-Alt-","Cmd-Ctrl-Shift-","Cmd-Ctrl-Shift-Alt-"]);function a(t){var e=null;return t.metaKey&&(e="Cmd-"),t.ctrlKey&&(e=e?"".concat(e,"Ctrl-"):"Ctrl-"),t.shiftKey&&(e=e?"".concat(e,"Shift-"):"Shift-"),t.altKey&&(e=e?"".concat(e,"Alt-"):"Alt-"),e}function c(t){return o.has(t)?1===t.length?t.toLowerCase():t:null}function l(t){return u.has(t)?t:null}function s(t){var e=c(t);if(e)return e;var n=t.split(/-(?!$)/),r=l(n.slice(0,-1).join("-").concat("-"));return r&&(e=c(n.slice(-1)[0]))?"".concat(r).concat(e):null}function f(t){var e=t.map(function(t){return s(t)}).filter(Boolean);return 2!==e.length?null:[e[0],e[1]]}function d(t){return Array.isArray(t)?f(t)||(t.length>0?s(t[0]):null):s(t)}function h(t){var e=a(t),n=c(t.key);if(!n){var r=t.keyCode;n=r in i?i[r]:null}return null!=e&&null!=n?"".concat(e).concat(n):e||null==n?(e||n)&&!n&&e?e:null:n}function v(t){var e=c(t.key);if(!e){var n=t.keyCode;e=n in i?i[n]:null}if(!e)return null;var r=a(t);return r?"".concat(r).concat(e):e}function p(){var t=(0,r.NJ)(),e=(0,r.Vm)();return t||e?"Cmd-":"Ctrl-"}function m(t){var e=null;return(t.cmdOrCtrl&&(e=window.navigator.userAgent.includes("Macintosh")?"Cmd-":"Ctrl-"),t.ctrl&&(e="Ctrl-"),t.shift&&(e=e?"".concat(e,"Shift-"):"Shift-"),t.alt&&(e=e?"".concat(e,"Alt-"):"Alt-"),e&&e)?"".concat(e).concat(t.key):t.key}function y(t,e){return[t,e]}function g(t){return null!=l(t)}function b(t){return Array.isArray(t)}function x(t){return g(t)?t.split("-").slice(0,-1):t.split(/-(?!$)/)}function w(t){return t&&b(t)?t.join(" "):t}},50798:function(t,e,n){n.d(e,{Ge:function(){return C},Il:function(){return Z},Sy:function(){return $},V_:function(){return B},Xp:function(){return i},b1:function(){return j},gf:function(){return V},ns:function(){return S},ow:function(){return L},r3:function(){return R},wU:function(){return N},xF:function(){return _}});var r,i,o=n(41733),u=n(30509),a=n(66626),c=n(63257),l=n(11407),s=n(85733),f=n(36647),d=n(20367),h=n(41974),v=n(39460),p=n(37697),m=n(42650),y=n(50959),g=(0,m.cn)(new Map),b=(0,m.cn)(new Map),x=(0,m.cn)(new Map),w=(0,m.cn)(new Map),E=(0,m.cn)(null);function S(t){var e=(0,d.O)(),n=(0,a._)((0,y.useState)(function(){return function(t,e){var n=t.keybindings,r=(0,m.MT)(),i=new Map,a=new Map,c=!0,l=!1,s=void 0;try{for(var f,d=t.commands[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h,v=f.value,p=(h=v.default,Array.isArray(h)||"string"==typeof h?h:h?null==h?void 0:h[e]:void 0),y=null==n?void 0:n.get(v.id),x=null===y?null:null!=y?y:p;i.set(v.id,(0,u._)((0,o._)({},v),{shortcut:x})),a.set(v.id,(0,u._)((0,o._)({},v),{shortcut:p}))}}catch(t){l=!0,s=t}finally{try{c||null==d.return||d.return()}finally{if(l)throw s}}return r.set(g,i),r.set(b,a),r}({commands:t.commands,keybindings:t.keybindings},e)}),1)[0],r=(0,s.Z)(t.onChange);return(0,y.useEffect)(function(){return n.sub(g,function(){var t=new Map,e=n.get(g),i=!0,o=!1,u=void 0;try{for(var c,l,s=e[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var f=(0,a._)(l.value,2),d=f[0],h=f[1].shortcut;void 0!==h&&t.set(d,h)}}catch(t){o=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw u}}null===(c=r.current)||void 0===c||c.call(r,t)})},[n,r]),n}var C=(0,y.createContext)(null);function k(){var t;return null!==(t=(0,y.useContext)(C))&&void 0!==t?t:void 0}function D(){var t=k();if(!t)throw Error("Expected store in context");return t}function T(t){return(0,v.Dv)(t,{store:D()})}var A=function(t){return(0,v.b9)(t,{store:D()})};function _(){return T(g)}var I=(0,m.cn)(null,function(t,e,n,r){if(r){var i=!0,o=!1,u=void 0;try{for(var a,c=t(g).values()[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var s,f=a.value;if(f.shortcut&&n!==f.id&&(null===(s=t(g).get(n))||void 0===s?void 0:s.scope)===(null==f?void 0:f.scope)&&((0,l.bU)(r)&&!(0,l.bU)(f.shortcut)&&r[0]===f.shortcut||!(0,l.bU)(r)&&(0,l.bU)(f.shortcut)&&r===f.shortcut[0]))return{conflict:f}}}catch(t){o=!0,u=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}}e(g,function(t){return(0,h.Uy)(t,function(t){var e=t.get(n);e&&(e.shortcut=r)})})}),O=(0,m.cn)(null,function(t,e,n){e(g,function(t){return(0,h.Uy)(t,function(t){var e=t.get(n);e&&(e.shortcut=null)})})});function R(){return A(I)}function N(){return A(O)}var P=(0,m.cn)(null,function(t,e,n){e(x,function(t){return(0,h.Uy)(t,function(t){t.delete(n)})})}),M=(0,m.cn)(null,function(t,e,n){e(w,function(t){return(0,h.Uy)(t,function(t){var e=t.get(n.scope);e&&(e.delete(n.commandId),e.size||t.delete(n.scope))})})}),F=(0,m.cn)(null,function(t,e,n,r){var i=r.run,o=r.bubble,u=r.scope;if(u){e(w,function(t){return(0,h.Uy)(t,function(t){var e=t.get(u);e?e.set(n,{run:i,bubble:o}):t.set(u,new Map([[n,{run:i,bubble:o}]]))})});return}e(x,function(t){return(0,h.Uy)(t,function(t){t.set(n,{run:i,bubble:o})})})});function Z(t,e){var n=A(F),r=A(P),i=A(M);(0,y.useEffect)(function(){var e=t();if(e){var o=(0,a._)(e,2),u=o[0],c=o[1],l="function"==typeof c?{run:c}:c,s=l.scope;return n(u,l),function(){s?i({scope:s,commandId:u}):r(u)}}},[n,r].concat((0,c._)(e)))}function L(t,e){var n=A(E);(0,y.useEffect)(function(){if(e)return n(t),function(){n(null)}},[n,e,t])}var U=(0,m.cn)(function(t){var e=t(E),n=t(x),r=e?t(w).get(e):null,i=new Map,o=new Map,u=t(g);if(r&&e){var c=!0,s=!1,f=void 0;try{for(var d,h=r[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var v=(0,a._)(d.value,2),p=v[0],m=v[1],y=u.get(p);if(null==y?void 0:y.shortcut){var b=y.shortcut;if((0,l.bU)(b)){var S=(0,a._)(b,1)[0];o.set(S,{chord:!0})}var C=o.get((0,l.cU)(b));!C||"chord"in C?o.set((0,l.cU)(b),new Set([m])):C.add(m)}}}catch(t){s=!0,f=t}finally{try{c||null==h.return||h.return()}finally{if(s)throw f}}}var k=!0,D=!1,T=void 0;try{for(var A,_=n[Symbol.iterator]();!(k=(A=_.next()).done);k=!0){var I=(0,a._)(A.value,2),O=I[0],R=I[1],N=u.get(O);if(null==N?void 0:N.shortcut){var P=N.shortcut;if((0,l.bU)(P)){var M=(0,a._)(P,1)[0];i.set(M,{chord:!0})}var F=i.get((0,l.cU)(P));!F||"chord"in F?i.set((0,l.cU)(P),new Set([R])):F.add(R)}}}catch(t){D=!0,T=t}finally{try{k||null==_.return||_.return()}finally{if(D)throw T}}return{globalShortcuts:i,scopedShortcuts:o}});function B(t){return T((0,f.Z)(function(){return(0,m.cn)(function(e){var n,r;return null!==(r=null===(n=e(b).get(t))||void 0===n?void 0:n.shortcut)&&void 0!==r?r:void 0})},[t]))}function V(t){return T((0,f.Z)(function(){return(0,m.cn)(function(e){var n,r;return null!==(r=null===(n=e(g).get(t))||void 0===n?void 0:n.shortcut)&&void 0!==r?r:void 0})},[t]))}function j(t,e){var n,r=null!==(0,y.useContext)(C),i=(n=(0,f.Z)(function(){return(0,m.cn)(function(e){var n,r;return null!==(r=null===(n=e(g).get(t))||void 0===n?void 0:n.shortcut)&&void 0!==r?r:void 0})},[t]),(0,v.Dv)(n,{store:k()}));return r?i:e}function $(){var t=(0,p.lV)((0,y.useCallback)(function(t){return t(U)},[]),{store:k()});return(0,y.useCallback)(function(e){var n=t(),r=n.scopedShortcuts,i=n.globalShortcuts,o=r.get((0,l.cU)(e)),u=i.get((0,l.cU)(e));if(o&&"chord"in o||u&&"chord"in u)return{kind:1,key:(0,l.bU)(e)?e[1]:e};var a=[o,u].flatMap(function(t){return Array.from(null!=t?t:[])});return a.length?{kind:2,matches:a}:{kind:0}},[t])}(r=i||(i={}))[r.NoMatch=0]="NoMatch",r[r.WaitingForChord=1]="WaitingForChord",r[r.MatchFound=2]="MatchFound"},66451:function(t,e,n){n.d(e,{G:function(){return T}});var r=n(27387),i=n(96583),o=n(50959),u=n(98924),a=n(66626),c=n(63257),l=n(77476),s=n(36559),f=n(73372),d=n(36556),h=n(99149),v=n(57159),p=n(53557),m=["package.json","package-lock.json","yarn.lock","poetry.lock","package.json","package-lock.json","replit.nix",".breakpoints"],y=[".out",".pkl",".bin",".txt",".csv",".log",".zip",".tar",".gz"],g=["node_modules",".config","venv",".next",".git"],b=h.B4.Create(v.Sp);function x(t){return!(!(0,s.Mb)(t)||function(t){if("Dockerfile"===t.split("/").pop())return!1;var e=(0,s.r6)(t),n=m.some(function(e){return t.endsWith(e)}),r=y.some(function(e){return t.endsWith(e)}),i=g.some(function(e){return t.split("/").some(function(t){return t.includes(e)})});return!e||n||r||i}(t))}function w(){return(w=(0,r._)(function(t){var e,n,o,h,m,y,g,w,E,S,C,k,D,T,A,_,I,O,R,N,P,M,F,Z,L,U,B,V,j,$,H,G,z,K,W,q,Y,Q,X,J,tt,te,tn,tr,ti,to,tu,ta,tc,tl,ts,tf,td,th,tv,tp;return(0,i.Jh)(this,function(tm){switch(tm.label){case 0:e=t.filter,n=t.filePreferences,o=t.entrypoint,h=t.model,m=t.fs,y=(0,u._)(t,["filter","filePreferences","entrypoint","model","fs"]),g=(0,l.yL)(h).fileContextCharacters,w=[],E=[],S=new Set,C=!0,k=!1,D=void 0;try{for(T=n[Symbol.iterator]();!(C=(A=T.next()).done);C=!0){if(I=(_=(0,a._)(A.value,2))[0],O=_[1],"exclude"===O){w.push(I);continue}if(!x(I)){S.add(I);continue}E.push(I)}}catch(t){k=!0,D=t}finally{try{C||null==T.return||T.return()}finally{if(k)throw D}}R=[],N=!0,P=!1,M=void 0;try{for(F=y.recentFiles[Symbol.iterator]();!(N=(Z=F.next()).done)&&(L=Z.value,w.includes(L)||!x(L)||!e(L)||E.includes(L)||(R.push(L),3!==R.length));N=!0);}catch(t){P=!0,M=t}finally{try{N||null==F.return||F.return()}finally{if(P)throw M}}if(U=(0,c._)(E).concat((0,c._)(R)),B="gemini-1.5-pro-preview-0409"===h?U.length:10,!(o&&U.length<B))return[3,2];return j=""===(V=(0,s.Il)(o))?f.Ql:V,[4,m.readDir(j)];case 1:if(!($=tm.sent()).error){H=0,G=!0,z=!1,K=void 0;try{for(W=$.children[Symbol.iterator]();!(G=(q=W.next()).done)&&(Y=q.value,Q=j===f.Ql?Y.filename:j+Y.filename,w.includes(Q)||!x(Q)||!e(Q)||U.includes(Q)||(U.push(Q),1!=++H));G=!0);}catch(t){z=!0,K=t}finally{try{G||null==W.return||W.return()}finally{if(z)throw K}}}tm.label=2;case 2:var ty;return d.kg.info("AI got file context",{numRecentFiles:R.length,numPreferredFiles:E.length,maxFiles:B}),X=U.slice(0,B),J=U.slice(B),[4,Promise.all(X.map((ty=(0,r._)(function(t){var e;return(0,i.Jh)(this,function(n){return e=new Promise(function(t){return setTimeout(t,5e3)}),[2,Promise.race([Promise.all([m.readFile(t),function(){try{return m.getOTVersion(t)}catch(t){}return 0}()]),e])]})}),function(t){return ty.apply(this,arguments)})))];case 3:for(ti=0,tt=tm.sent(),te=g,tn=[],tr=[];ti<X.length;ti++){if(to=X[ti],!(tu=tt[ti])){d.kg.info("AI file read timeout",{filePath:to});continue}if(tc=(ta=(0,a._)(tu,2))[0],tl=ta[1],tc.error){d.kg.info("AI failed to read file",{filePath:to});continue}if(function(t){var e=t.length;if(0===e)return!1;var n=0,r=Math.min(e,512);if(e>=3&&239===t[0]&&187===t[1]&&191===t[2]||e>=4&&0===t[0]&&0===t[1]&&254===t[2]&&255===t[3]||e>=4&&255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]||e>=4&&132===t[0]&&49===t[1]&&149===t[2]&&51===t[3])return!1;if(r>=5&&"%PDF-"===t.slice(0,5).toString())return!0;if(e>=2&&254===t[0]&&255===t[1]||e>=2&&255===t[0]&&254===t[1])return!1;for(var i=0;i<r;i++){if(0===t[i])return!0;if((t[i]<7||t[i]>14)&&(t[i]<32||t[i]>127)){if(t[i]>193&&t[i]<224&&i+1<r){if(t[++i]>127&&t[i]<192)continue}else if(t[i]>223&&t[i]<240&&i+2<r&&t[++i]>127&&t[i]<192&&t[i+1]>127&&t[i+1]<192){i++;continue}if(n++,i>=32&&100*n/r>10)return!0}}return 100*n/r>10}(tc.content.toBuffer())){d.kg.info("GhostwriterChat filtered out binary file",{filePath:to});continue}if(te<=0){J.push(to);continue}if(tf=(ts=tc.content.toString()).slice(0,te),td=ts.length>tf.length,tp=null!==(tv=null==(th=p.$R.from(to))?void 0:th.id)&&void 0!==tv?tv:(0,s.r6)(to),td){tn.push(to);continue}te-=tf.length,tr.push({filePath:to,fileContent:tf,fileVersion:tl,language:tp,referenceType:v.MD.FILE,code:"",range:b})}return[2,{fileContext:tr,preferredFiles:E,mostRecentFile:R.length?R[0]:void 0,truncatedFiles:tn,overflowingFiles:J,unsupportedPreferredFiles:S}]}})})).apply(this,arguments)}var E=n(29775),S=n(33444),C=n(17198),k=n(72988),D=n(72343);function T(t,e){var n,u,a,c,s,f=(n=(0,C.Gn)("chatEngine").preferences,a=null==(u=(0,k.hG)().data)?void 0:u.currentUser,c=null==n?void 0:n.chatEngine,(0,o.useCallback)(function(t){var e=t.model,n=null==a?void 0:a.hasOverride,r=null==a?void 0:a.defaultEngine;return n&&c&&(0,l.uL)(c)?c:(0,l.uL)(r)?e===v.BY.ADVANCED?l.hf.model:r:D.F},[a,c]));return(0,o.useCallback)((s=(0,r._)(function(n){var r,o,u,a,c;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return r=n.model,o=n.filePreferences,u=n.recentFiles,[4,e.getConfig()];case 1:return c=((null==(a=i.sent().config)?void 0:a.hidden)||[]).map(function(t){return(0,E.Z)(t)}).filter(Boolean),[2,function(t){return w.apply(this,arguments)}({model:f({model:r}),filePreferences:o,filter:function(t){return!(0,S.lv)(t,c)},recentFiles:u,entrypoint:(null==a?void 0:a.entrypoint)||void 0,fs:t})]}})}),function(t){return s.apply(this,arguments)}),[t,e,f])}},75706:function(t,e,n){function r(t){return t.startsWith("/")?t:null}function i(t){var e=r(t);if(null===e)throw Error("Expected an absolute path but got ".concat(t));return e}function o(t){return t.startsWith("/home/runner/")?t.split("/").slice(4).join("/"):null}n.d(e,{IT:function(){return r},ZF:function(){return i},om:function(){return o}})},58045:function(t,e,n){n.d(e,{kz:function(){return E},F3:function(){return h},fK:function(){return b},ME:function(){return l},DQ:function(){return f},Dp:function(){return a},WQ:function(){return d},Ur:function(){return s},RX:function(){return c},b:function(){return p},Se:function(){return w}});var r=n(57253),i=n(43312),o=n(72093),u=n(36559);function a(t){var e=t.path;return e?(0,u.hj)(e)?"binary":(0,u.T3)(e)?"media":(0,u.sL)(e)?"draw":(0,u.IQ)(e)?"pedit":"codeEditor":"codeEditor"}function c(t){return"codeEditor"===t||"binary"===t||"media"===t||"pedit"===t||"draw"===t||"history"===t}function l(t){var e=[],n=!0,i=!1,o=void 0;try{for(var u,c=t[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var l=u.value;l.type===r.Tv.File&&e.push({type:a({path:l.path}),data:{path:l.path}})}}catch(t){i=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}return e}function s(t){return c(t.type)}function f(t){return s(t)?t.data.path:null}function d(t){return"extension"===t.type}var h=(0,i.iv)([o.l0.width("100%"),o.l0.maxWidth(600),{marginLeft:"auto",marginRight:"auto"}]),v=new Set(["autograder","education","instructions","threadInbox","extensionStore","chat","docs","vnc","runnerOutput","git","packager","envEditor","debugger","tutorial","database","neon","replAuth","autograder","unitTests","education","preferences","deployments","ghostwriterChat","extensionDevtools","problems","networking","objectStorage","workflows","project"]);function p(t){return v.has(t)}var m=n(74985),y=n(50959),g={type:"commands",data:{autoFocus:!1}};function b(t){var e=t.config;return{Icon:function(t){var n=t.pane,r=t.size,i=e[n.type]?n:g,o=e[i.type].Icon;return(0,m.tZ)(o,{pane:i,size:void 0===r?16:r})},Content:function(t){var n=t.pane,r=t.options,i=e[n.type]?n:g,o=e[i.type].Content;return(0,m.tZ)(o,{pane:i,options:r})},getTitle:function(t){var n=e[t.type]?t:g;return e[n.type].getTitle(n)},decode:function(t,n){var r,i=null;try{i=null===(r=e[t])||void 0===r?void 0:r.decode(n)}catch(t){}return i}}}var x=(0,y.createContext)(null);function w(){var t=(0,y.useContext)(x);if(!t)throw Error("Expected PaneUI in context");return t}var E=x.Provider},39743:function(t,e,n){n.d(e,{A1:function(){return S},AA:function(){return z},Bx:function(){return G},J1:function(){return p},LX:function(){return g},Np:function(){return M},Rq:function(){return N},Vu:function(){return Z},WU:function(){return m},Xo:function(){return B},Y_:function(){return H},Yn:function(){return y},ZB:function(){return J},_3:function(){return K},ex:function(){return j},fg:function(){return W},gv:function(){return U},jY:function(){return V},lv:function(){return L},nC:function(){return F},pV:function(){return $},t4:function(){return Y}});var r=n(66626),i=n(63257),o=n(58045),u=n(81202),a=n.n(u),c=n(41974),l=n(42650),s=n(50959),f=n(36647),d=n(43471),h=n(30513),v=n(88205),p=(0,l.cn)(null);function m(){return(0,d.XD)(p)}var y=(0,l.cn)(new Map),g=(0,l.cn)([]),b=(0,l.cn)(null,function(t,e,n){e(y,function(t){return(0,c.Uy)(t,function(t){var e=t.get(n.paneId),r=Date.now();if(!e){t.set(n.paneId,[{pane:n.pane,lastActiveAt:r}]);return}var i=e[e.length-1];a()(n.pane,i)?i.lastActiveAt=r:e.push({pane:n.pane,lastActiveAt:r})})}),e(p,n.paneId)}),x=(0,l.cn)(null,function(t,e,n){var r=t(p),i=t(y).get(n);i&&e(g,function(t){return(0,c.Uy)(t,function(t){var e=!0,n=!1,r=void 0;try{for(var o,u=i[Symbol.iterator]();!(e=(o=u.next()).done);e=!0){var a=o.value;t.push(a)}}catch(t){n=!0,r=t}finally{try{e||null==u.return||u.return()}finally{if(n)throw r}}t.sort(function(t,e){return e.lastActiveAt-t.lastActiveAt})})}),e(y,function(t){return(0,c.Uy)(t,function(t){t.delete(n)})}),r===n&&e(p,null)}),w=(0,l.cn)(null,function(t,e,n){e(y,function(t){return(0,c.Uy)(t,function(t){var e=t.get(n);if(e){var r=e[e.length-1];r&&(r.lastActiveAt=Date.now())}})}),e(p,n)}),E=(0,l.cn)(null,function(t,e){e(p,null)}),S=(0,l.cn)(function(t){var e=t(y),n=[];return e.forEach(function(t,e){var r=t[t.length-1];r&&n.push([e,r.pane,r.lastActiveAt])}),n.sort(function(t,e){return t[2]-e[2]})}),C=(0,l.cn)(function(t){var e=[],n=!0,i=!1,u=void 0;try{for(var a,c=t(S)[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var l=(0,r._)(a.value,2),s=(l[0],l[1]),f=(0,o.Ur)(s)?s.data.path:null;f&&e.push(f)}}catch(t){i=!0,u=t}finally{try{n||null==c.return||c.return()}finally{if(i)throw u}}return e}),k=(0,v.kv)(C,function(t){return t},a()),D=(0,l.cn)(function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var u,a=(0,i._)(t(y).values())[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var c=u.value;c.length<=1||e.push.apply(e,(0,i._)(c.slice(0,-1)))}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var l=!0,s=!1,f=void 0;try{for(var d,h=t(g)[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var v=d.value;e.push(v)}}catch(t){s=!0,f=t}finally{try{l||null==h.return||h.return()}finally{if(s)throw f}}return e.sort(function(t,e){return e.lastActiveAt-t.lastActiveAt}).map(function(t){return t.pane})}),T=(0,l.cn)(null,function(t,e){var n=t(g).pop();return e(g,function(t){return(0,c.Uy)(t,function(t){t.pop()})}),n}),A=(0,l.cn)(function(t){var e=[],n=!0,r=!1,i=void 0;try{for(var u,a=t(D)[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var c=u.value,l=(0,o.Ur)(c)?c.data.path:null;l&&e.push(l)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e}),_=(0,v.kv)(A,function(t){return t},a()),I=(0,l.cn)(function(t){return(0,i._)(new Set((0,i._)(t(k)).concat((0,i._)(t(_)))))}),O=(0,v.kv)(I,function(t){return t},a()),R=(0,l.cn)(function(t){var e,n,r=t(p);if(!r)return null;var i=t(y).get(r);return i&&null!==(n=null===(e=i[i.length-1])||void 0===e?void 0:e.pane)&&void 0!==n?n:null}),N=(0,l.cn)(null),P=(0,l.cn)(function(t){var e=t(R);return e&&(0,o.Ur)(e)&&e.data.path||null});function M(t,e){var n=(0,d.$X)(b),r=(0,d.$X)(x);(0,s.useEffect)(function(){n({paneId:t,pane:e})},[n,t,e]),(0,s.useEffect)(function(){return function(){r(t)}},[r,t])}function F(){return(0,d.XD)(S)}function Z(){return(0,d.Hg)(k)}function L(){return(0,d.XD)(k)}function U(){return(0,d.$X)(T)}function B(){return(0,d.$X)(w)}function V(){return(0,d.$X)(E)}function j(){return(0,d.Hg)(P)}function $(){return(0,d.XD)(P)}function H(){return(0,d.yL)(P)}function G(){return(0,d.Hg)(O)}function z(){return(0,d.XD)(O)}function K(){return(0,d.yL)(O)}function W(){var t=(0,d.yL)(k);return(0,f.Z)(function(){return function(e){return new Promise(function(n,r){var i=t.subscribe(function(t){t.includes(e)||(i(),n())})})}},[t])}var q=(0,l.cn)(function(t){return(0,h.w)(t(k))});function Y(t){var e=(0,s.useMemo)(function(){return(0,l.cn)(function(e){return t&&e(q).get(t)||void 0})},[t]);return(0,d.Hg)(e)}function Q(t,e){var n=!0,r=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var c=u.value;(0,o.Ur)(c.pane)&&c.pane.data.path===e.path&&("move"===e.type?c.pane.data.path=e.path:c.pane={type:"commands",data:{autoFocus:!1}})}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}var X=(0,l.cn)(null,function(t,e,n){e(y,function(t){return(0,c.Uy)(t,function(t){var e=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(e=(u=a.next()).done);e=!0){var c=(0,r._)(u.value,2)[1];Q(c,n)}}catch(t){i=!0,o=t}finally{try{e||null==a.return||a.return()}finally{if(i)throw o}}})}),e(g,function(t){return(0,c.Uy)(t,function(t){Q(t,n)})})});function J(){return(0,d.$X)(X)}},43471:function(t,e,n){n.d(e,{$X:function(){return p},B3:function(){return s},Hg:function(){return d},XD:function(){return m},ns:function(){return l},rF:function(){return v},yL:function(){return h}});var r=n(66626),i=n(30660),o=n(39460),u=n(37697),a=n(42650),c=n(50959);function l(){return(0,r._)((0,c.useState)(function(){return(0,a.MT)()}),1)[0]}var s=(0,c.createContext)(null);function f(){var t=(0,c.useContext)(s);if(!t)throw Error("Expected store in context");return t}function d(t){return(0,o.Dv)(t,{store:f()})}function h(t){return(0,i.b)(t,f())}function v(){var t=f();return(0,c.useCallback)(function(e){return(0,i.c)(t,e)},[t])}var p=function(t){return(0,o.b9)(t,{store:f()})};function m(t){return(0,u.lV)((0,c.useCallback)(function(e){return e(t)},[t]),{store:f()})}},73393:function(t,e,n){n.d(e,{LP:function(){return l},Zc:function(){return f},Rh:function(){return c},aU:function(){return m}});var r=n(12285),i=n(3030),o=n(80403),u=n(76913),a=[],c=function(){"use strict";function t(e){var n=this;(0,r._)(this,t),this.value=e,this.listeners=new u.v4,this.compartment=new o.F6,this.extension=i.lg.define(function(t){var e=!1,r=!1,o=n.getResolvedExtension(t);n.compartment.get(t.state)!==o&&(r=!0,Promise.resolve().then(function(){if(!e&&r){r=!1;try{t.dispatch({effects:n.compartment.reconfigure(o)})}catch(e){(0,i.OO)(t.state,e)}}}));var u=n.listeners.add(function(){if(!e){r=!1;var o=n.getResolvedExtension(t);if(n.compartment.get(t.state)!==o)try{t.dispatch({effects:n.compartment.reconfigure(o)})}catch(e){(0,i.OO)(t.state,e)}}});return{destroy:function(){e=!0,u()}}},{provide:function(){return{get extension(){return n.compartment.of(n.getResolvedExtension())}}}})}var e=t.prototype;return e.getResolvedExtension=function(t){var e;if("function"==typeof this.value){if(t)try{e=this.value(t)}catch(n){(0,i.OO)(t.state,n),e=null}else e=null}else e=this.value;return!e||Array.isArray(e)&&0===e.length?a:e},e.set=function(t){this.value!==t&&(this.value=t,this.listeners.notify())},t}(),l=function t(e){"use strict";var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r._)(this,t);var u=o.initialValue;if(e instanceof Promise){n=new c(u);var a=!1;e.then(function(t){return n.set(t)}).catch(function(t){return n.set(function(e){return a||(a=!0,(0,i.OO)(e.state,t)),"function"==typeof u?u(e):u})})}else n=new c(function(t){return e(t).then(function(t){return n.set(t)}).catch(function(e){return(0,i.OO)(t.state,e)}),"function"==typeof u?u(t):u});this.extension=n},s=n(98924);function f(t,e){var n=e.isEnabled,r=(0,s._)(e,["isEnabled"]);return i.lg.define(function(e){var r=n(e.state)?t(e):void 0;return{plugin:function(){return r},update:function(i){var o,u;!n(i.startState)&&n(i.state)&&(r=t(e)),n(i.startState)&&!n(i.state)&&(null==r||null===(u=r.destroy)||void 0===u||u.call(r),r=void 0),null==r||null===(o=r.update)||void 0===o||o.call(r,i)},destroy:function(){var t;return null==r?void 0:null===(t=r.destroy)||void 0===t?void 0:t.call(r)}}},r)}n(99415);var d=n(4384),h=n(41733),v=n(30509),p=n(63257);function m(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.some(function(e){return function(t,e){if("doc"===e)return t.docChanged;if("selection"===e)return!t.startState.selection.eq(t.state.selection);if("focus"===e)return"transactions"in t&&t.focusChanged;if("viewport"===e)return"transactions"in t&&t.viewportChanged;if("tabSize"===e)return t.startState.tabSize!==t.state.tabSize;if("lineBreak"===e)return t.startState.lineBreak!==t.state.lineBreak;if("readOnly"===e)return t.startState.readOnly!==t.state.readOnly;if(e instanceof o.D6)return"transactions"in t?t.transactions.some(function(t){return t.effects.some(function(t){return t.is(e)})}):t.effects.some(function(t){return t.is(e)});if(e instanceof o.r$)return t.startState.facet(e)!==t.state.facet(e);if(e instanceof o.QQ)return t.startState.field(e,!1)!==t.state.field(e,!1);if("function"==typeof e)return e(t.startState)!==e(t.state);throw Error("invalid value type")}(t,e)})}function y(t,e){return t.value===e.value&&t.loading===e.loading&&t.error===e.error}(function(){"use strict";function t(e){var n=e.initial,u=e.map,a=e.provide,c=e.source,l=this;(0,r._)(this,t);var s=[];this.extension=s,this.mutate=o.Py.define(),this.refresh=o.Py.define(),this.map=u,this.data=o.QQ.define({create:function(){return{value:n,loading:!1,error:null}},update:function(t,e){var n=!1,r=!0,i=!1,o=void 0;try{for(var u,a=e.effects[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;c.is(l.mutate)&&(t=c.value,n=!0)}}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}if(!n&&l.map){var s=l.map(t.value,e);s!==t.value&&(t=(0,v._)((0,h._)({},t),{value:s}))}return t},compare:function(t,e){return y(t,e)}}),this.value=o.QQ.define({create:function(){return n},update:function(t,e){return e.state.field(l.data).value}}),this.sources=o.r$.define({combine:c?function(t){var e;return null!==(e=t.filter(Boolean)[0])&&void 0!==e?e:c}:function(t){var e;return null!==(e=t.filter(Boolean)[0])&&void 0!==e?e:null},enables:this}),this.plugin=i.lg.define(function(e){return new t.PluginImpl(e,l)},{provide:function(t){return i.tk.updateListener.of(function(e){var n;null===(n=e.view.plugin(t))||void 0===n||n.postUpdate(e)})}}),s.push(this.data,this.value,this.plugin),a&&s.push("function"==typeof a?a(this):a)}return t.prototype.source=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.debounce,i=n.chain;return this.sources.of({dependencies:t,source:e,debounce:void 0===r?null:r,chain:void 0!==i&&i})},t.define=function(e,n){var r,i,o,u,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new t({initial:"initial"in a?a.initial:null,map:null!==(r=a.map)&&void 0!==r?r:null,provide:null!==(i=a.provide)&&void 0!==i?i:null,source:{dependencies:e,source:n,debounce:null!==(o=a.debounce)&&void 0!==o?o:null,chain:null!==(u=a.chain)&&void 0!==u&&u}})},t.scaffold=function(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new t({initial:"initial"in r?r.initial:null,map:null!==(e=r.map)&&void 0!==e?e:null,provide:null!==(n=r.provide)&&void 0!==n?n:null,source:null})},t})().PluginImpl=function(){"use strict";function t(e,n){var i=this;(0,r._)(this,t),this.view=e,this.resource=n,this.controller=null,this.timeout=null,this.missed=null,this.pending=null,this.queued=!1,this.timeout=setTimeout(function(){i.timeout=null,i.fetch()},0)}var e=t.prototype;return e.abort=function(){if(this.queued&&(this.queued=!1,this.pending=null),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.missed&&(this.missed=null),this.controller){var t=this.controller;this.controller=null,t.abort()}},e.dispatchValue=function(t){if(this.resource.map&&(null===(i=this.missed)||void 0===i?void 0:i.length)){var e=!0,n=!1,r=void 0;try{for(var i,o,u=this.missed[Symbol.iterator]();!(e=(o=u.next()).done);e=!0){var a=o.value;t=this.resource.map(t,a)}}catch(t){n=!0,r=t}finally{try{e||null==u.return||u.return()}finally{if(n)throw r}}}var c=this.view.state.field(this.resource.data),l={value:t,loading:!1,error:null};y(c,l)||this.view.dispatch({effects:this.resource.mutate.of(l)})},e.dispatchLoading=function(){var t=this.view.state.field(this.resource.data),e={value:t.value,loading:!0,error:null};y(t,e)||this.view.dispatch({effects:this.resource.mutate.of(e)})},e.dispatchError=function(t){var e=t instanceof Error?t:Error(String(t));(0,i.OO)(this.view.state,e);var n=this.view.state.field(this.resource.data),r={value:n.value,loading:!1,error:e};y(n,r)||this.view.dispatch({effects:this.resource.mutate.of(r)})},e.fetch=function(){var t=this;this.abort();var e=this.view.state,n=e.facet(this.resource.sources),r=e.field(this.resource.data);if(n){this.controller=new AbortController;var i=this.controller.signal;this.resource.map&&(this.missed=[]);var o=this.pending?(0,p._)(this.pending):[],u=function(){!i.aborted&&(t.controller=null,t.missed=null,t.pending=t.pending&&t.queued?t.pending.filter(function(t){return!o.includes(t)}):null,t.queued&&(t.queued=!1,t.fetch()))};try{var a=n.source(e,{data:r,signal:i,transactions:o});if(i.aborted)return;if(!(a instanceof Promise)){this.dispatchValue(a),u();return}this.dispatchLoading(),a.then(function(e){i.aborted||t.dispatchValue(e)}).catch(function(e){i.aborted||t.dispatchError(e)}).finally(u)}catch(t){i.aborted||this.dispatchError(t),u()}}},e.postUpdate=function(t){var e,n,r,i=this,o=t.state.facet(this.resource.sources);if(!o){this.abort();return}if(t.startState.facet(this.resource.sources)!==o){this.abort(),this.fetch();return}if(this.missed&&(e=this.missed).push.apply(e,(0,p._)(t.transactions)),this.pending&&(n=this.pending).push.apply(n,(0,p._)(t.transactions)),!this.running||!this.queued){var u=m(t,this.resource.refresh);u||(u=Array.isArray(o.dependencies)?m.apply(void 0,[t].concat((0,p._)(o.dependencies))):t.transactions.some(o.dependencies)),u&&(null!==(r=this.pending)&&void 0!==r||(this.pending=(0,p._)(t.transactions)),o.debounce?(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){i.timeout=null,o.chain&&i.running?i.queued=!0:i.fetch()},o.debounce)):o.chain&&this.running?this.queued=!0:this.fetch())}},e.destroy=function(){this.abort()},(0,d._)(t,[{key:"running",get:function(){return null!==this.controller}}]),t}()},76913:function(t,e,n){n.d(e,{v4:function(){return f},y$:function(){return l},vU:function(){return v}}),n(17694);var r=n(12285),i=n(83176),o=n(25490),u=n(4955),a=n(63257),c=n(9670),l=function(t){"use strict";(0,u._)(n,t);var e=(0,c._)(n);function n(t){return(0,r._)(this,n),e.call(this,t)}var l=n.prototype;return l.subscribe=function(t,e,r){var u,a;return u=(0,i._)((0,o._)(n.prototype),"subscribe",this).call(this,t,e,r),Object.defineProperty(a=function(){u.unsubscribe()},"closed",{get:function(){return u.closed}}),a.unsubscribe=function(){u.unsubscribe()},a},l[Symbol.observable]=function(){return this},n.from=function(t){return(0,i._)((0,o._)(n),"from",this).call(this,t)},n.of=function(){for(var t,e=arguments.length,r=Array(e),u=0;u<e;u++)r[u]=arguments[u];return(t=(0,i._)((0,o._)(n),"of",this)).call.apply(t,[this].concat((0,a._)(r)))},n}(n(11600).y);l.prototype[Symbol.species]=l;var s=n(4384),f=function(){"use strict";function t(){(0,r._)(this,t),this.listeners=new Map}var e=t.prototype;return e.add=function(t){var e=this,n=function(){e.listeners.delete(n)};return this.listeners.set(n,t),n},e.notify=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var u,c=this.listeners.values()[Symbol.iterator]();!(r=(u=c.next()).done);r=!0)u.value.apply(void 0,(0,a._)(e))}catch(t){i=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}},e.clear=function(){this.listeners.clear()},e[Symbol.iterator]=function(){return this.listeners.values()},(0,s._)(t,[{key:"size",get:function(){return this.listeners.size}}]),t}(),d=function(){"use strict";function t(e){(0,r._)(this,t),this.observable=new l(e)}var e=t.prototype;return e.subscribe=function(t){return this.observable.subscribe(t)},e.map=function(t){return new h(t,this)},e[Symbol.observable]=function(){return this.observable},t}(),h=function(t){"use strict";(0,u._)(n,t);var e=(0,c._)(n);function n(t,i){(0,r._)(this,n);var o,u=l.from(i);return(o=e.call(this,function(t){return u.subscribe(function(e){if(o.cached&&o.cached.value===e)t.next(o.cached.result);else{var n=o.fn(e);o.cached={value:e,result:n},t.next(n)}})})).source=i,o.fn=t,o.cached=null,o}return(0,s._)(n,[{key:"current",get:function(){var t=this.source.current;if(this.cached&&this.cached.value===t)return this.cached.result;var e=this.fn(t);return this.cached={value:t,result:e},e}}]),n}(d),v=function(t){"use strict";(0,u._)(n,t);var e=(0,c._)(n);function n(t){(0,r._)(this,n);var i,o=new f;return(i=e.call(this,function(t){var e=o.add(function(e){t.next(e)});return t.next(i.state),e})).listeners=o,i.state=t,i}var i=n.prototype;return i.set=function(t){t!==this.state&&(this.state=t,this.listeners.notify(t))},i.update=function(t){this.set(t(this.state))},(0,s._)(n,[{key:"current",get:function(){return this.state}}]),n}(d)},57127:function(t,e,n){function r(t,e){var n=t.split("/"),r=e.split("/");for(r.pop();n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();var i=r.map(function(){return".."}).concat(n).join("/");return 0===r.length?"./"+i:i}function i(t,e){return("debugger"===e?"Running the code in my project results in the error:":"My code has the following error:")+"\n```\n".concat(t,"\n```\n\n")}function o(t){return"Running the code in my project results in the following:"+"\n```\n".concat(t,"\n```\n\n")}n.d(e,{LA:function(){return r},Rn:function(){return o},Vh:function(){return i}})},77476:function(t,e,n){n.d(e,{ce:function(){return h},hf:function(){return s},uL:function(){return p},yL:function(){return l}});var r,i,o=n(63257),u=n(54626);(r=i||(i={})).Response="response",r.Error="error",r.Debug="debug",r.Intent="intent",r.TokenUsage="tokenUsage";var a={defaultLimit:{messageCharacters:2e3,responseTokens:1e3,fileContextCharacters:8e3,maxTotalTokens:4050},gpt35:{messageCharacters:5e3,responseTokens:4e3,fileContextCharacters:3e4,maxTotalTokens:16e3},gpt4:{messageCharacters:2e3,responseTokens:1e3,fileContextCharacters:1e4,maxTotalTokens:8e3},gpt4_32k:{messageCharacters:12e3,responseTokens:4e3,fileContextCharacters:6e4,maxTotalTokens:32e3},gpt4_128k:{messageCharacters:12e3,responseTokens:4e3,fileContextCharacters:6e4,maxTotalTokens:32e3}},c={"gemini-pro":{messageCharacters:5e3,responseTokens:4e3,fileContextCharacters:3e4,maxTotalTokens:16e3},"gemini-1.5-pro-preview-0409":{messageCharacters:1e5,responseTokens:8192,fileContextCharacters:34e5,maxTotalTokens:1e6},"gpt-3.5-turbo-instruct":a.defaultLimit,"gpt-3.5-turbo":a.defaultLimit,"gpt-3.5-turbo-0613":a.defaultLimit,"gpt-3.5-turbo-0301":a.defaultLimit,"gpt-3.5-turbo-16k-0613":a.gpt35,"gpt-3.5-turbo-1106":a.gpt35,"gpt-3.5-turbo-0125":a.gpt35,"gpt-4":a.gpt4,"gpt-4-0613":a.gpt4,"gpt-4-32k":a.gpt4_32k,"gpt-4-32k-0613":a.gpt4_32k,"gpt-4-1106-preview":a.gpt4_128k,"gpt-4-0125-preview":a.gpt4_128k,"gpt-4-turbo-preview":a.gpt4_128k,"gpt-4-vision-preview":a.gpt4_128k,"gpt-4-turbo":a.gpt4_128k,"gpt-4-turbo-2024-04-09":a.gpt4_128k};function l(t){return c[t]}var s={model:"gpt-4-1106-preview",weeklyTokenLimit:621e3},f=u.LD.anyOf.map(function(t){return t.const}),d=u.t3.anyOf.map(function(t){return t.const}),h=(0,o._)(f).concat((0,o._)(d)),v=new Set(h);function p(t){return"string"==typeof t&&v.has(t)}},30513:function(t,e,n){n.d(e,{w:function(){return o}});var r=n(66626),i=n(36559);function o(t){if(0===t.length)return new Map;if(1===t.length)return new Map([[t[0],null]]);var e=new Map,n=!0,o=!1,u=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var l=a.value,s=(0,i.UO)(l),f=e.get(s);f||(f=[],e.set(s,f)),f.push(l)}}catch(t){o=!0,u=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw u}}var d=new Map,h=!0,v=!1,p=void 0;try{for(var m,y=e[Symbol.iterator]();!(h=(m=y.next()).done);h=!0)!function(){var t=(0,r._)(m.value,2)[1];if(1===t.length)return d.set(t[0],null);var e=new Map,n=new Set,i=0,o=!0,u=!1,a=void 0;try{for(var c,l=t[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var s=c.value;if(-1===s.indexOf("/")){d.set(s,null),n.add(s);continue}var f=function(t){for(var e=t.split("/").slice(0,-1),n=[],r=0;r<e.length;r++){var i=e.slice(r).join("/")+"/";0!==r&&(i="/"+i),n.push(i)}return n.reverse()}(s);e.set(s,f),f.length>i&&(i=f.length)}}catch(t){u=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(u)throw a}}for(var h=0;h<=i;h++){var v=function(t){var i=[],o=new Map,u=!0,a=!1,c=void 0;try{for(var l,s=e[Symbol.iterator]();!(u=(l=s.next()).done);u=!0){var f=(0,r._)(l.value,2),h=f[0],v=f[1];if(!n.has(h)){var p=v[t];p||(p=v[v.length-1]),i.push(p),o.set(p,h)}}}catch(t){a=!0,c=t}finally{try{u||null==s.return||s.return()}finally{if(a)throw c}}if(0===i.length)return"break";var m=!0,y=!1,g=void 0;try{for(var b,x=i[Symbol.iterator]();!(m=(b=x.next()).done);m=!0)!function(){var t=b.value,e=o.get(t);if(void 0===e)throw Error("Unpopulated segment map");1===i.filter(function(e){return e===t}).length&&(n.add(e),d.set(e,t))}()}catch(t){y=!0,g=t}finally{try{m||null==x.return||x.return()}finally{if(y)throw g}}}(h);if("break"===v)break}if(n.size!==t.length){var p=!0,y=!1,g=void 0;try{for(var b,x=t[Symbol.iterator]();!(p=(b=x.next()).done);p=!0){var w=b.value;if(!n.has(w)){var E=w.split("/").slice(0,-1).join("/");d.set(w,E)}}}catch(t){y=!0,g=t}finally{try{p||null==x.return||x.return()}finally{if(y)throw g}}}}()}catch(t){v=!0,p=t}finally{try{h||null==y.return||y.return()}finally{if(v)throw p}}return d}},46870:function(t,e,n){n.d(e,{L:function(){return c}});var r=n(12285),i=n(4384),o=n(66626),u=function t(e,n){"use strict";(0,r._)(this,t),this.next=null,this.prev=null,this.key=e,this.data=n},a=function(){"use strict";function t(){(0,r._)(this,t),this.size_=0,this.head=null,this.tail=null}var e=t.prototype;return e.addFront=function(t){this.tail||(this.tail=t),this.head&&(this.head.prev=t),t.next=this.head,this.head=t,this.size_++},e.popBack=function(){if(!this.tail)return null;var t=this.tail;return this.tail=t.prev,this.size_--,t.prev&&(t.prev.next=null,t.prev=null),t},e.moveToFront=function(t){this.head!==t&&(this.tail===t&&(this.tail=t.prev),t.next&&(t.next.prev=t.prev,t.next=null),t.prev&&(t.prev.next=t.next,t.prev=null),this.size_--,this.addFront(t))},(0,i._)(t,[{key:"size",get:function(){return this.size_}}]),t}(),c=function(){"use strict";function t(e){(0,r._)(this,t),this.items=Object.create(null),this.evictList=new a,this.maxSize=e}var e=t.prototype;return e.update=function(t,e){var n=this.items[t];if(n)return this.evictList.moveToFront(n),n.data=e(n.data),n.data;for(;this.evictList.size>=this.maxSize;){var r=this.evictList.popBack();if(!r)throw Error("invariant violation: could not pop back of the list");delete this.items[r.key]}var i=new u(t,e());return this.evictList.addFront(i),this.items[t]=i,i.data},e.getOrAdd=function(t,e){return this.update(t,function(t){return null!=t?t:e})},e.entries=function(){return Object.entries(this.items).map(function(t){var e=(0,o._)(t,2);return[e[0],e[1].data]})},e.set=function(t,e){this.update(t,function(){return e})},e.get=function(t){var e=this.items[t];return e?e.data:null},e.has=function(t){return t in this.items},(0,i._)(t,[{key:"size",get:function(){return this.evictList.size}}]),t}()},33444:function(t,e,n){n.d(e,{MF:function(){return a},TI:function(){return u},lv:function(){return l},uC:function(){return c}});var r=n(73372),i=n(95938),o=n(74275);function u(t){var e=(0,o.nV)(t)[1];return!!e&&(e===r.oh||e===r.AS)}function a(t){return".env"===t.toString()||".breakpoints"===t.toString()||".cache"===t.toString()||(0,o.X2)((0,o.S1)(".cache"),t)||".local"===t.toString()||(0,o.X2)((0,o.S1)(".local"),t)}function c(t){return i.nh.includes(t.toString())}function l(t,e){if(!e)return!1;var n=(0,o.nV)(t).slice(1),r=!0,i=!1,u=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var l=a.value,s=!0,f=!1,d=void 0;try{for(var h,v=n[Symbol.iterator]();!(s=(h=v.next()).done);s=!0)if(h.value.toString().match(l))return!0}catch(t){f=!0,d=t}finally{try{s||null==v.return||v.return()}finally{if(f)throw d}}}}catch(t){i=!0,u=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw u}}return!1}}}]);
//# sourceMappingURL=9169-c843a0653004e264.js.map